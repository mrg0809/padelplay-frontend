import{s as h,a6 as y,o as d,z as p,A as i,d as t,B as s,a9 as V,D as c,a7 as w,a8 as f,ac as x,E as a,ad as C}from"./index.7e1eb1fb.js";import{Q as k}from"./QHeader.6c821f61.js";import{Q as _}from"./QImg.ff38cd7e.js";import{Q as v}from"./QSelect.93a0cfa0.js";import{Q as q}from"./QPage.52873f45.js";import{Q as U,a as E}from"./QLayout.3adb72cb.js";import{n as Q}from"./navigationUtils.2c4b9dee.js";import{C as I}from"./ClubNavigationMenu.d2be3428.js";import{a as b}from"./api.43112139.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.a9912b07.js";import"./QItem.ba33f348.js";import"./QItemLabel.a9ded771.js";import"./QMenu.86d6f61d.js";import"./position-engine.ae04fa56.js";import"./selection.c251650e.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QTabs.126199a6.js";import"./QFooter.2bdcd75c.js";const B={data(){return{form:{name:"",address:"",city:"",state:"",postal_code:"",country:"M\xE9xico",contact_phone:"",contact_email:"",logo_url:"",facebook_url:"",instagram_url:"",whatsapp_number:"",tiktok_url:"",latitude:0,longitude:0},logoFile:null,countries:["M\xE9xico","Argentina","Chile","Colombia","Espa\xF1a","Per\xFA","Estados Unidos","Venezuela","Guatemala","Ecuador","Cuba","Bolivia","Honduras","El Salvador","Nicaragua","Paraguay","Costa Rica","Puerto Rico","Panam\xE1","Uruguay","Rep\xFAblica Dominicana"]}},components:{ClubNavigationMenu:I},methods:{async fetchClubInfo(){try{const r=await b.get("/clubs/");this.form=r.data}catch(r){console.error("Error al obtener la informaci\xF3n del club:",r),this.$q.notify({type:"negative",message:"Error al cargar informaci\xF3n del club"})}},async saveClubInfo(){try{await b.put("/clubs/",this.form),this.$q.notify({type:"positive",message:"Informaci\xF3n actualizada exitosamente"})}catch(r){console.error("Error al actualizar la informaci\xF3n del club:",r),this.$q.notify({type:"negative",message:"Error al actualizar la informaci\xF3n"})}},triggerFileUpload(){this.$refs.fileInput.click()},handleFileUpload(r){const e=r.target.files[0];if(e){if(e.size>2*1024*1024){this.$q.notify({type:"negative",message:"El archivo es demasiado grande (m\xE1ximo 2MB)."});return}if(!e.type.startsWith("image/")){this.$q.notify({type:"negative",message:"El archivo debe ser una imagen."});return}this.uploadLogo(e)}},async uploadLogo(r){const e=new FormData;e.append("file",r);try{const m=await h.getItem("token"),u=await b.post("/clubs/upload-logo",e,{headers:{"Content-Type":"multipart/form-data",Authorization:m?`Bearer ${m}`:""}});this.form.logo_url=u.data.signed_url||u.data.logo_url,this.$q.notify({type:"positive",message:"Logo subido exitosamente"})}catch(m){console.error("Error al subir el logo:",m),this.$q.notify({type:"negative",message:"Error al subir el logo"})}},goBack(){this.$router.back()},goToDashboard(){Q(this.$router,this.userStore)}},mounted(){this.fetchClubInfo()}},M={class:"header-content"},z={class:"greeting"},D={class:"header-icons"};function F(r,e,m,u,l,n){const g=y("ClubNavigationMenu");return d(),p(U,{view:"hHh lpR fFf",class:"text-white"},{default:i(()=>[t(k,{elevated:"",class:"bg-primary text-white"},{default:i(()=>[s("div",M,[s("div",z,[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:e[0]||(e[0]=(...o)=>n.goToDashboard&&n.goToDashboard(...o))}),e[16]||(e[16]=V(" Perfil del club ",-1))]),s("div",D,[t(c,{flat:"",round:"",icon:"arrow_back",onClick:n.goBack},null,8,["onClick"])])])]),_:1}),t(E,null,{default:i(()=>[t(q,{class:"text-white q-pa-md"},{default:i(()=>[t(w,{class:"q-pa-lg text-white card"},{default:i(()=>[t(f,{class:"text-center"},{default:i(()=>[...e[17]||(e[17]=[s("div",{class:"text-h6"},"Informaci\xF3n del Club",-1)])]),_:1}),t(f,{class:"q-py-md flex items-center"},{default:i(()=>[l.form.logo_url?(d(),p(_,{key:0,src:l.form.logo_url,alt:"Logo del Club",style:{"max-width":"150px","max-height":"150px","border-radius":"8px"}},null,8,["src"])):(d(),p(x,{key:1,name:"image_not_supported",size:"xl",color:"grey",style:{"font-size":"64px"}})),t(c,{label:"Subir Logo",color:"grey-8","text-color":"primary",class:"q-ml-md rounded-btn",onClick:n.triggerFileUpload},null,8,["onClick"]),s("input",{type:"file",ref:"fileInput",style:{display:"none"},onChange:e[1]||(e[1]=(...o)=>n.handleFileUpload&&n.handleFileUpload(...o))},null,544)]),_:1}),t(f,null,{default:i(()=>[t(a,{modelValue:l.form.name,"onUpdate:modelValue":e[2]||(e[2]=o=>l.form.name=o),label:"Nombre del Club",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.address,"onUpdate:modelValue":e[3]||(e[3]=o=>l.form.address=o),label:"Direcci\xF3n",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.city,"onUpdate:modelValue":e[4]||(e[4]=o=>l.form.city=o),label:"Ciudad",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.state,"onUpdate:modelValue":e[5]||(e[5]=o=>l.form.state=o),label:"Estado",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.postal_code,"onUpdate:modelValue":e[6]||(e[6]=o=>l.form.postal_code=o),label:"C\xF3digo Postal",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(v,{modelValue:l.form.country,"onUpdate:modelValue":e[7]||(e[7]=o=>l.form.country=o),label:"Pa\xEDs",options:l.countries,outlined:"",dense:"","map-options":"","emit-value":"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue","options"]),t(a,{modelValue:l.form.contact_phone,"onUpdate:modelValue":e[8]||(e[8]=o=>l.form.contact_phone=o),label:"Tel\xE9fono de Contacto",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.contact_email,"onUpdate:modelValue":e[9]||(e[9]=o=>l.form.contact_email=o),label:"Email de Contacto",outlined:"",dense:"",type:"email",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.facebook_url,"onUpdate:modelValue":e[10]||(e[10]=o=>l.form.facebook_url=o),label:"Facebook URL",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.instagram_url,"onUpdate:modelValue":e[11]||(e[11]=o=>l.form.instagram_url=o),label:"Instagram URL",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.tiktok_url,"onUpdate:modelValue":e[12]||(e[12]=o=>l.form.tiktok_url=o),label:"TikTok URL",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.whatsapp_number,"onUpdate:modelValue":e[13]||(e[13]=o=>l.form.whatsapp_number=o),label:"WhatsApp N\xFAmero",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.latitude,"onUpdate:modelValue":e[14]||(e[14]=o=>l.form.latitude=o),modelModifiers:{number:!0},label:"Latitud (Maps)",type:"number",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"]),t(a,{modelValue:l.form.longitude,"onUpdate:modelValue":e[15]||(e[15]=o=>l.form.longitude=o),modelModifiers:{number:!0},label:"Longitud (Maps)",type:"number",outlined:"",dense:"",class:"q-mb-md text-white","label-color":"white"},null,8,["modelValue"])]),_:1}),t(C,{align:"center"},{default:i(()=>[t(c,{label:"Guardar Cambios",color:"grey-8","text-color":"primary",class:"rounded-btn",onClick:n.saveClubInfo},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(g)]),_:1})}var te=L(B,[["render",F],["__scopeId","data-v-3b6109b6"]]);export{te as default};
