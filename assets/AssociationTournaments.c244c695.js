import{x as I,r as y,h as L,o as c,z as N,A as t,d as e,B as s,D as p,a as d,Q as V,ac as u,ab as $,aa as z,a9 as n,aK as P,a7 as j,a8 as b,t as m,ad as E,aT as R}from"./index.284c5517.js";import{Q as F}from"./QHeader.54948f97.js";import{Q as C}from"./QChip.baef4018.js";import{Q as H}from"./QPage.dfd00166.js";import{Q as G,a as K}from"./QLayout.c9dda368.js";import{Q as U}from"./QItemLabel.b8ba1298.js";import{Q as f,a as l}from"./QItem.756b5f76.js";import{Q as X}from"./QList.541389d3.js";import{Q as J}from"./QDrawer.f272a462.js";import{u as O}from"./use-quasar.58056b10.js";import{a as W}from"./api.9de4aea7.js";import{N as Y}from"./NotificationBell.113bcbcc.js";import{B as Z}from"./BannerPromoScrolling.c22fe0eb.js";import{A as ee}from"./AssociationNavigationMenu.e45b13d0.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.1fb6dc9f.js";import"./touch.9135741d.js";import"./selection.fdad0a51.js";import"./format.de7e9769.js";import"./QBadge.d9f1db5b.js";import"./admin.b5ca9f0e.js";import"./QTabs.b10b01c4.js";import"./rtl.276c3f1b.js";import"./QFooter.d2ce5627.js";const oe={class:"header-content"},ae={class:"header-icons"},se={class:"row items-center justify-between q-mb-md"},re={key:0,class:"text-center q-pa-xl"},le={key:1,class:"text-center q-pa-xl"},ne={key:2,class:"row q-col-gutter-md"},ie={class:"text-h6"},ce={class:"text-caption"},de={class:"row q-gutter-sm"},ue={__name:"AssociationTournaments",setup(me){const i=I(),w=O(),_=y(!1),v=y([]),g=y(!1);L(async()=>{await T()});const T=async()=>{_.value=!0;try{const{data:a}=await W.get("/padelite/association/tournaments");v.value=a.data||[]}catch(a){console.error("Error fetching tournaments:",a),w.notify({type:"negative",message:"Error al cargar torneos"})}finally{_.value=!1}},h=a=>a?new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"",B=a=>({open:"positive",closed:"warning",active:"info",completed:"grey"})[a]||"grey",S=a=>({open:"Abierto",closed:"Cerrado",active:"Activo",completed:"Completado"})[a]||a,k=()=>{i.push("/association/dashboard")},q=()=>{i.push("/association/tournaments")},A=()=>{i.push("/association/revenue")},Q=()=>{i.push("/association/tournaments/create")},x=a=>{i.push(`/association/tournaments/${a}`)},D=()=>{localStorage.removeItem("token"),i.push("/")};return(a,o)=>(c(),N(G,{view:"hHh lpR fFf",class:"text-white"},{default:t(()=>[e(F,{elevated:"",class:"text-white"},{default:t(()=>[s("div",oe,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:k}),o[2]||(o[2]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Mis Torneos")],-1))]),s("div",ae,[e(Y),e(p,{flat:"",round:"",icon:"menu",onClick:o[0]||(o[0]=r=>g.value=!0)})])]),e(Z)]),_:1}),e(K,null,{default:t(()=>[e(H,{class:"q-pa-md"},{default:t(()=>[s("div",se,[o[3]||(o[3]=s("div",{class:"text-h5"},"Torneos Padelite",-1)),e(p,{color:"primary",icon:"add",label:"Crear Torneo",onClick:Q})]),_.value?(c(),d("div",re,[e(V,{color:"primary",size:"50px"})])):v.value.length===0?(c(),d("div",le,[e(u,{name:"emoji_events",size:"80px",color:"grey"}),o[4]||(o[4]=s("div",{class:"text-h6 q-mt-md text-grey"},"No hay torneos creados",-1)),e(p,{class:"q-mt-md",color:"primary",label:"Crear Primer Torneo",onClick:Q})])):(c(),d("div",ne,[(c(!0),d($,null,z(v.value,r=>(c(),d("div",{key:r.id,class:"col-12 col-md-6 col-lg-4"},[e(j,{flat:"",bordered:"",class:"bg-transparent text-white clickable",onClick:M=>x(r.id)},{default:t(()=>[e(b,null,{default:t(()=>[s("div",ie,m(r.name),1),s("div",ce,m(h(r.start_date))+" - "+m(h(r.end_date)),1)]),_:2},1024),e(b,null,{default:t(()=>[s("div",de,[e(C,{color:B(r.status),"text-color":"white",size:"sm"},{default:t(()=>[n(m(S(r.status)),1)]),_:2},1032,["color"]),e(C,{color:"grey-8","text-color":"white",size:"sm"},{default:t(()=>[n(" $"+m(r.price_per_player)+" por jugador ",1)]),_:2},1024)])]),_:2},1024),e(E,null,{default:t(()=>[e(p,{flat:"",color:"primary",label:"Gestionar",onClick:R(M=>x(r.id),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),e(J,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=r=>g.value=r),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:t(()=>[e(X,null,{default:t(()=>[e(U,{header:""},{default:t(()=>[...o[5]||(o[5]=[n("Men\xFA",-1)])]),_:1}),e(f,{clickable:"",onClick:k},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"home"})]),_:1}),e(l,null,{default:t(()=>[...o[6]||(o[6]=[n("Dashboard",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:q},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"emoji_events"})]),_:1}),e(l,null,{default:t(()=>[...o[7]||(o[7]=[n("Mis Torneos",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:A},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"attach_money"})]),_:1}),e(l,null,{default:t(()=>[...o[8]||(o[8]=[n("Ingresos",-1)])]),_:1})]),_:1}),e(P),e(f,{clickable:"",onClick:D},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"logout"})]),_:1}),e(l,null,{default:t(()=>[...o[9]||(o[9]=[n("Cerrar Sesi\xF3n",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ee)]),_:1}))}};var $e=te(ue,[["__scopeId","data-v-5f369e00"]]);export{$e as default};
