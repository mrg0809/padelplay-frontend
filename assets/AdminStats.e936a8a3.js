import{aa as x,q as d,G as f,H as e,v as t,ag as i,ad as n,J as h,I as s,ab as m,ac as c,s as u,ae as b,af as w,y as v,x as l}from"./index.3f1076a3.js";import{Q,a as q}from"./QToolbar.7fe9edca.js";import{Q as C}from"./QHeader.435fe33d.js";import{Q as k}from"./QBanner.7d1e7c29.js";import{Q as A}from"./QPage.76b9f650.js";import{Q as S,a as N}from"./QLayout.fe9d4509.js";import{g as T}from"./admin.c99b9bfe.js";import{A as B}from"./AdminNavigationMenu.ec3a3cb0.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.2af71db3.js";import"./QTabs.a46b14bb.js";import"./rtl.276c3f1b.js";import"./QFooter.1bfeb9e5.js";const M={name:"AdminStats",components:{AdminNavigationMenu:B},data(){return{stats:{},loading:!1,error:null}},async mounted(){await this.loadStats()},methods:{async loadStats(){this.loading=!0,this.error=null;try{this.stats=await T()}catch(r){this.error="Error al cargar las estad\xEDsticas: "+r.message,console.error("Error loading admin stats:",r)}finally{this.loading=!1}},formatUserType(r){return{player:"Jugadores",club:"Clubes",admin:"Administradores",superuser:"Superusuarios"}[r]||r},formatCurrency(r){return r?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(r):"0.00"}}},V={class:"q-pa-md"},E={class:"row q-gutter-md"},P={class:"col-md-6 col-sm-12"},F={class:"text-h6 text-white"},H={class:"row q-gutter-sm"},R={class:"stat-item"},U={class:"stat-number"},z={class:"stat-label"},G={class:"col-md-6 col-sm-12"},J={class:"text-h6 text-white"},L={class:"text-h3 text-primary q-mt-md"},X={class:"col-md-6 col-sm-12"},D={class:"text-h6 text-white"},j={class:"text-h3 text-positive q-mt-md"},K={class:"text-caption text-grey-4"},O={class:"col-md-6 col-sm-12"},W={class:"text-h6 text-white"},Y={class:"text-h3 text-secondary q-mt-md"},Z={key:0,class:"q-mt-md"};function $(r,a,ss,ts,o,_){const g=x("AdminNavigationMenu");return d(),f(S,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:e(()=>[t(C,{elevated:"",class:"bg-primary text-white"},{default:e(()=>[t(Q,null,{default:e(()=>[t(q,null,{default:e(()=>[t(i,{name:"analytics",class:"q-mr-sm"}),a[0]||(a[0]=n(" Estad\xEDsticas Generales "))]),_:1}),t(h,{flat:"",icon:"refresh",onClick:_.loadStats,loading:o.loading,label:"Actualizar"},null,8,["onClick","loading"])]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(A,{padding:"",class:"bg-dark"},{default:e(()=>[s("div",V,[a[7]||(a[7]=s("div",{class:"row q-mb-lg"},[s("div",{class:"col"},[s("p",{class:"text-grey-4"},"Vista general de la plataforma PadelPlay")])],-1)),s("div",E,[s("div",P,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",F,[t(i,{name:"people",class:"q-mr-sm"}),a[1]||(a[1]=n(" Usuarios por Tipo "))])]),_:1}),o.stats.users_by_type?(d(),f(c,{key:0},{default:e(()=>[s("div",H,[(d(!0),u(w,null,b(o.stats.users_by_type,(y,p)=>(d(),u("div",{key:p,class:"col-6"},[s("div",R,[s("div",U,l(y),1),s("div",z,l(_.formatUserType(p)),1)])]))),128))])]),_:1})):v("",!0)]),_:1})]),s("div",G,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",J,[t(i,{name:"business",class:"q-mr-sm"}),a[2]||(a[2]=n(" Clubes Totales "))]),s("div",L,l(o.stats.total_clubs||0),1),a[3]||(a[3]=s("div",{class:"text-caption text-grey-4"}," Clubes registrados en la plataforma ",-1))]),_:1})]),_:1})]),s("div",X,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",D,[t(i,{name:"account_balance_wallet",class:"q-mr-sm"}),a[4]||(a[4]=n(" Transacciones (30 d\xEDas) "))]),s("div",j,l(o.stats.transactions_last_30_days||0),1),s("div",K," Ingresos: $"+l(_.formatCurrency(o.stats.revenue_last_30_days)),1)]),_:1})]),_:1})]),s("div",O,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",W,[t(i,{name:"event_seat",class:"q-mr-sm"}),a[5]||(a[5]=n(" Reservas (30 d\xEDas) "))]),s("div",Y,l(o.stats.reservations_last_30_days||0),1),a[6]||(a[6]=s("div",{class:"text-caption text-grey-4"}," Reservas realizadas ",-1))]),_:1})]),_:1})])]),o.error?(d(),u("div",Z,[t(k,{class:"bg-negative text-white"},{avatar:e(()=>[t(i,{name:"error"})]),default:e(()=>[n(" "+l(o.error),1)]),_:1})])):v("",!0)])]),_:1})]),_:1}),t(g)]),_:1})}var fs=I(M,[["render",$],["__scopeId","data-v-4960087d"]]);export{fs as default};
