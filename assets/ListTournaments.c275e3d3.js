import{Q as B}from"./QHeader.daa47c6c.js";import{F as z,r as m,w as S,B as F,aa as _,q as u,G as L,H as a,v as t,I as n,ag as d,ad as r,ab as N,s as f,af as I,ae as G,ac as M,x as v}from"./index.0dae1473.js";import{Q as C,a as T}from"./QItem.73fbae79.js";import{Q as k}from"./QSelect.d037d2d9.js";import{Q as O}from"./QSpinnerGears.86ba3135.js";import{Q as U}from"./QPage.93249297.js";import{Q as E,a as H}from"./QLayout.c8e0bf98.js";import{f as A}from"./tournaments.42e1d67c.js";import{n as R}from"./navigationUtils.2c4b9dee.js";import{f as j}from"./commun.39919e2a.js";import{P as J}from"./PlayerNavigationMenu.1db31516.js";import{B as K}from"./BannerPromoScrolling.4b530ce9.js";import{D as W}from"./DesktopNavigation.1304785f.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.1bf307a2.js";import"./QItemLabel.abb776d6.js";import"./QMenu.b120de54.js";import"./position-engine.0d8bf4bb.js";import"./selection.94b8945c.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./supabase.25da9554.js";import"./QTabs.dbece195.js";import"./QFooter.aca25710.js";import"./admin.c99b9bfe.js";import"./api.2af71db3.js";import"./QTooltip.2ad4dabb.js";const Y={name:"ListTournaments",components:{PlayerNavigationMenu:J,BannerPromoScrolling:K,DesktopNavigation:W},setup(){const y=z(),o=m([]),b=m({city:null,category:null,gender:null}),e=m([]),c=m([]),Q=m(["primera","segunda","tercera","cuarta","quinta","libre","otro","open"]),w=m(["mixto","varonil","femenil"]),p=m(!1),x=async()=>{p.value=!0;try{o.value=await A(b.value)}catch(s){console.error("Error loading tournaments:",s),o.value=[]}finally{p.value=!1}},l=async()=>{try{const s=await j();e.value=s.map(i=>typeof i=="string"?i:i.value||i.label||i),c.value=e.value}catch(s){console.error("Error loading cities:",s),e.value=[],c.value=[]}},g=(s,i)=>{if(s===""){i(()=>{c.value=e.value});return}i(()=>{const V=s.toLowerCase();c.value=e.value.filter(P=>P.toLowerCase().indexOf(V)>-1)})},h=s=>y.push({name:"TournamentDetails",params:{tournamentId:s}}),q=()=>y.push("/padelite"),D=s=>s&&s.charAt(0).toUpperCase()+s.slice(1);return S(b,x,{deep:!0}),F(()=>{x(),l()}),{tournaments:o,loadingTournaments:p,filters:b,cityOptions:c,categories:Q,genders:w,goToTournamentDetails:h,goToPadelite:q,filterCityFn:g,capitalizeText:D,goToDashboard:()=>{R(y,userStore)}}}},Z={class:"header-content"},$={class:"greeting"},oo={class:"row q-col-gutter-md q-mb-lg"},eo={class:"col-12 col-sm-4"},to={class:"col-12 col-sm-4"},lo={class:"col-12 col-sm-4"},no={key:0,class:"text-center q-pa-xl"},ao={key:1,class:"text-center text-grey-5 q-pa-xl"},so={key:2,class:"tournaments-list row q-col-gutter-md"},ro={class:"tennis-yellow q-mt-none q-mb-sm"},io={class:"q-mb-xs"};function mo(y,o,b,e,c,Q){const w=_("BannerPromoScrolling"),p=_("PlayerNavigationMenu"),x=_("DesktopNavigation");return u(),L(E,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[t(B,{elevated:"",class:"text-white"},{default:a(()=>[n("div",Z,[n("div",$,[n("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:o[0]||(o[0]=(...l)=>e.goToDashboard&&e.goToDashboard(...l))})]),o[7]||(o[7]=n("div",{class:"header-icons"},null,-1))]),t(w)]),_:1}),t(H,null,{default:a(()=>[t(U,{class:"q-pa-md"},{default:a(()=>[n("div",oo,[n("div",eo,[t(k,{modelValue:e.filters.city,"onUpdate:modelValue":o[1]||(o[1]=l=>e.filters.city=l),options:e.cityOptions,label:"Ciudad",outlined:"",dense:"","options-dense":"",clearable:"",onFilter:e.filterCityFn,onClear:o[2]||(o[2]=l=>e.filters.city=null),"label-color":"white","popup-content-class":"text-white"},{prepend:a(()=>[t(d,{name:"location_on",color:"white"})]),"no-option":a(()=>[t(C,null,{default:a(()=>[t(T,{class:"text-white"},{default:a(()=>o[8]||(o[8]=[r(" No hay ciudades disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"])]),n("div",to,[t(k,{modelValue:e.filters.category,"onUpdate:modelValue":o[3]||(o[3]=l=>e.filters.category=l),options:e.categories,label:"Categor\xEDa",outlined:"",dense:"","options-dense":"",clearable:"","label-color":"white","popup-content-class":"text-white",onClear:o[4]||(o[4]=l=>e.filters.category=null)},{prepend:a(()=>[t(d,{name:"category",color:"white"})]),"no-option":a(()=>[t(C,null,{default:a(()=>[t(T,{class:"text-white"},{default:a(()=>o[9]||(o[9]=[r(" No hay categor\xEDas ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),n("div",lo,[t(k,{modelValue:e.filters.gender,"onUpdate:modelValue":o[5]||(o[5]=l=>e.filters.gender=l),options:e.genders,label:"G\xE9nero",outlined:"",dense:"","options-dense":"",clearable:"","label-color":"white","popup-content-class":"text-white",onClear:o[6]||(o[6]=l=>e.filters.gender=null)},{prepend:a(()=>[t(d,{name:"wc",color:"white"})]),"no-option":a(()=>[t(C,null,{default:a(()=>[t(T,{class:"text-white"},{default:a(()=>o[10]||(o[10]=[r(" No hay g\xE9neros ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),t(N,{class:"q-mb-md",clickable:"",bordered:"",onClick:e.goToPadelite},null,8,["onClick"]),e.loadingTournaments?(u(),f("div",no,[t(O,{color:"primary",size:"xl"}),o[11]||(o[11]=n("p",{class:"q-mt-md"},"Buscando torneos...",-1))])):e.tournaments.length===0?(u(),f("div",ao,[t(d,{name:"event_busy",size:"64px"}),o[12]||(o[12]=n("p",null,"No se encontraron torneos con los filtros seleccionados.",-1))])):(u(),f("div",so,[(u(!0),f(I,null,G(e.tournaments,l=>(u(),f("div",{key:l.id,class:"col-12 col-sm-6 col-md-4"},[t(N,{class:"tournament-card full-height",clickable:"",bordered:"",onClick:g=>e.goToTournamentDetails(l.id)},{default:a(()=>[t(M,null,{default:a(()=>{var g;return[n("h4",ro,v(l.name),1),n("p",io,[n("strong",null,[t(d,{name:"mdi-calendar",size:"xs"}),o[13]||(o[13]=r(" Fecha:"))]),r(" "+v(l.start_date)+" ",1),o[17]||(o[17]=n("br",null,null,-1)),n("strong",null,[t(d,{name:"mdi-map-marker",size:"xs"}),o[14]||(o[14]=r(" Ciudad:"))]),r(" "+v(((g=l.clubs)==null?void 0:g.city)||l.city||"N/A")+" ",1),o[18]||(o[18]=n("br",null,null,-1)),n("strong",null,[t(d,{name:"mdi-trophy-variant-outline",size:"xs"}),o[15]||(o[15]=r(" Cat:"))]),r(" "+v(e.capitalizeText(l.category))+" ",1),o[19]||(o[19]=n("br",null,null,-1)),n("strong",null,[t(d,{name:"mdi-gender-male-female",size:"xs"}),o[16]||(o[16]=r(" Gen:"))]),r(" "+v(e.capitalizeText(l.gender)),1)])]}),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),t(p),t(x)]),_:1})}var Mo=X(Y,[["render",mo],["__scopeId","data-v-4cdfd75e"]]);export{Mo as default};
