import{x as L,r as y,h as M,o as d,z as N,A as a,d as e,B as r,D as p,a as c,Q as V,ac as u,ab as $,aa as z,a9 as n,aK as A,_ as E,a7 as j,a8 as x,t as m,ad as R,aT as F}from"./index.687b44e8.js";import{Q as H}from"./QHeader.289f0645.js";import{Q as C}from"./QChip.c9b5cbc6.js";import{Q as G}from"./QPage.fcc9aae1.js";import{Q as K,a as O}from"./QLayout.30990248.js";import{Q as U}from"./QItemLabel.bbebea39.js";import{Q as f,a as l}from"./QItem.eb9291fb.js";import{Q as X}from"./QList.1288e946.js";import{Q as J}from"./QDrawer.6ff2af84.js";import{u as W}from"./use-quasar.ba375293.js";import{a as Y}from"./api.1c42dce4.js";import{N as Z}from"./NotificationBell.9fdba392.js";import{B as ee}from"./BannerPromoScrolling.1700e538.js";import{P as te}from"./PadeliteNavigationMenu.f457de2d.js";import{_ as ae}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.a396aa1c.js";import"./touch.9135741d.js";import"./selection.0f785986.js";import"./format.de7e9769.js";import"./QBadge.0c3a126f.js";import"./QTabs.979bee57.js";import"./rtl.276c3f1b.js";import"./QFooter.b7b22f15.js";const oe={class:"header-content"},re={class:"header-icons"},se={class:"row items-center justify-between q-mb-md"},le={key:0,class:"text-center q-pa-xl"},ne={key:1,class:"text-center q-pa-xl"},ie={key:2,class:"row q-col-gutter-md"},de={class:"text-h6"},ce={class:"text-caption"},ue={class:"row q-gutter-sm"},me={__name:"PadeliteTournaments",setup(pe){const i=L(),w=W(),_=y(!1),v=y([]),g=y(!1);M(async()=>{await T()});const T=async()=>{_.value=!0;try{const{data:o}=await Y.get("/padelite/tournaments");v.value=o.data||[]}catch(o){console.error("Error fetching tournaments:",o),w.notify({type:"negative",message:"Error al cargar torneos"})}finally{_.value=!1}},h=o=>o?new Date(o).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"",P=o=>({open:"positive",closed:"warning",active:"info",completed:"grey"})[o]||"grey",B=o=>({open:"Abierto",closed:"Cerrado",active:"Activo",completed:"Completado"})[o]||o,k=()=>{i.push("/padelite/dashboard")},D=()=>{i.push("/padelite/tournaments")},q=()=>{i.push("/padelite/revenue")},Q=()=>{i.push("/padelite/tournaments/create")},b=o=>{i.push(`/padelite/tournaments/${o}`)},S=async()=>{const{storage:o}=await E(()=>import("./index.687b44e8.js").then(function(t){return t.b_}),["assets/index.687b44e8.js","assets/index.993c6714.css"]);await o.removeItem("token"),i.push("/")};return(o,t)=>(d(),N(K,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[e(H,{elevated:"",class:"text-white"},{default:a(()=>[r("div",oe,[r("div",{class:"greeting"},[r("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:k}),t[2]||(t[2]=r("div",{class:"greeting-text"},[r("p",null,"Bienvenido"),r("p",{class:"text-grey"},"Mis Torneos")],-1))]),r("div",re,[e(Z),e(p,{flat:"",round:"",icon:"menu",onClick:t[0]||(t[0]=s=>g.value=!0)})])]),e(ee)]),_:1}),e(O,null,{default:a(()=>[e(G,{class:"q-pa-md"},{default:a(()=>[r("div",se,[t[3]||(t[3]=r("div",{class:"text-h5"},"Torneos Padelite",-1)),e(p,{color:"primary",icon:"add",label:"Crear Torneo",onClick:Q})]),_.value?(d(),c("div",le,[e(V,{color:"primary",size:"50px"})])):v.value.length===0?(d(),c("div",ne,[e(u,{name:"emoji_events",size:"80px",color:"grey"}),t[4]||(t[4]=r("div",{class:"text-h6 q-mt-md text-grey"},"No hay torneos creados",-1)),e(p,{class:"q-mt-md",color:"primary",label:"Crear Primer Torneo",onClick:Q})])):(d(),c("div",ie,[(d(!0),c($,null,z(v.value,s=>(d(),c("div",{key:s.id,class:"col-12 col-md-6 col-lg-4"},[e(j,{flat:"",bordered:"",class:"bg-transparent text-white clickable",onClick:I=>b(s.id)},{default:a(()=>[e(x,null,{default:a(()=>[r("div",de,m(s.name),1),r("div",ce,m(h(s.start_date))+" - "+m(h(s.end_date)),1)]),_:2},1024),e(x,null,{default:a(()=>[r("div",ue,[e(C,{color:P(s.status),"text-color":"white",size:"sm"},{default:a(()=>[n(m(B(s.status)),1)]),_:2},1032,["color"]),e(C,{color:"grey-8","text-color":"white",size:"sm"},{default:a(()=>[n(" $"+m(s.price_per_player)+" por jugador ",1)]),_:2},1024)])]),_:2},1024),e(R,null,{default:a(()=>[e(p,{flat:"",color:"primary",label:"Gestionar",onClick:F(I=>b(s.id),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),e(J,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=s=>g.value=s),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:a(()=>[e(X,null,{default:a(()=>[e(U,{header:""},{default:a(()=>[...t[5]||(t[5]=[n("Men\xFA",-1)])]),_:1}),e(f,{clickable:"",onClick:k},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(u,{name:"home"})]),_:1}),e(l,null,{default:a(()=>[...t[6]||(t[6]=[n("Dashboard",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:D},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(u,{name:"emoji_events"})]),_:1}),e(l,null,{default:a(()=>[...t[7]||(t[7]=[n("Mis Torneos",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:q},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(u,{name:"attach_money"})]),_:1}),e(l,null,{default:a(()=>[...t[8]||(t[8]=[n("Ingresos",-1)])]),_:1})]),_:1}),e(A),e(f,{clickable:"",onClick:S},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(u,{name:"logout"})]),_:1}),e(l,null,{default:a(()=>[...t[9]||(t[9]=[n("Cerrar Sesi\xF3n",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(te)]),_:1}))}};var $e=ae(me,[["__scopeId","data-v-7da085c8"]]);export{$e as default};
