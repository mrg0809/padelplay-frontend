import{Q as S}from"./QHeader.455f548f.js";import{Q as z}from"./QSpinnerDots.a58af804.js";import{a7 as E,F as I,r as c,B as q,q as n,G as f,H as t,v as a,I as o,s as m,a9 as v,aa as g,J as _,ae as x,ab as u,x as i,bM as Q,ad as b,ac as h,af as M,ag as $,ah as A,bC as C}from"./index.16289384.js";import{Q as P,a as p}from"./QItem.0665de17.js";import{Q as w}from"./QItemLabel.69569666.js";import{Q as F}from"./QList.91cab200.js";import{Q as T}from"./QPage.14746aa2.js";import{Q as H,a as J}from"./QLayout.7605203b.js";import{C as R}from"./ClosePopup.607cf8eb.js";import{u as j}from"./use-quasar.3ae438d6.js";import{b as U}from"./lessons.1b6c39a3.js";import{b as G}from"./dateUtils.564cce41.js";import{a as K}from"./locationUtils.25dc967c.js";import{s as O}from"./shareUtils.dd312de9.js";import{P as W}from"./PlayerNavigationMenu.d9ff5082.js";import{B as X}from"./BannerPromoScrolling.4b0a7be1.js";import{N as Y}from"./NotificationBell.adc6fb91.js";import{P as Z}from"./PlayerTopMenu.3704eaa9.js";import{_ as aa}from"./PlayerSearch.9e606593.js";import{_ as ea}from"./plugin-vue_export-helper.21dcd24c.js";import"./supabase.698fbf4d.js";import"./QTabs.7e37d315.js";import"./rtl.276c3f1b.js";import"./QFooter.2de1729e.js";import"./admin.dfdc6f99.js";import"./api.92f95132.js";import"./QBadge.fb3591e4.js";import"./QBtnDropdown.a299b5a9.js";import"./QMenu.9eb0cccc.js";import"./position-engine.2d9c9af2.js";import"./selection.dbe812eb.js";import"./userStore.c4811637.js";import"./pinia.776b36f7.js";import"./players.ef27f83d.js";const ta={class:"header-content"},la={class:"header-icons"},oa={key:0,class:"text-center"},sa={key:1},ra={class:"row items-center",style:{position:"relative",width:"100%","margin-bottom":"20px"}},ia=["src"],na={__name:"ClassDetails",setup(ua){const D=E();I();const k=j(),l=c(null),y=c(!0),d=c(!1),B=async()=>{try{const r=await U(D.params.lessonId);l.value=r,console.log(l.value)}catch(r){console.error("Error al cargar los detalles del partido:",r.message),k.notify({type:"negative",message:"Error al cargar los detalles del partido."})}finally{y.value=!1}},V=()=>{d.value=!0},L=r=>{console.log("Jugador seleccionado:",r),d.value=!1},N=()=>{const r="\xDAnete a esta clase.",e=window.location.href;O(r,e,"Echa un vistazo a esta clase de padel.")};return q(B),(r,e)=>(n(),f(H,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:t(()=>[a(S,{elevated:"",class:"text-white"},{default:t(()=>[o("div",ta,[e[3]||(e[3]=o("div",{class:"greeting"},[o("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon"})],-1)),o("div",la,[a(Y),a(Z)])]),a(X)]),_:1}),a(J,null,{default:t(()=>[a(T,{class:"q-pa-md"},{default:t(()=>[y.value?(n(),m("div",oa,[a(z,{color:"primary",size:"xl"})])):(n(),m("div",sa,[a(v,{class:"text-white q-pa-md match-card"},{default:t(()=>[a(g,null,{default:t(()=>[o("div",ra,[a(_,{flat:"",onClick:N,style:{position:"absolute",left:"0"}},{default:t(()=>[a(x,{name:"o_share",size:"md"})]),_:1}),e[4]||(e[4]=o("h3",{class:"text-h5 text-white",style:{flex:"1",margin:"0","text-align":"center"}},"Entrenamiento",-1))]),o("p",null,[u(" Entrenas en el club "+i(l.value.clubs.name||"No disponible")+" ",1),a(_,{size:"sm",flat:"",round:"",color:"orange",icon:"o_location_on",onClick:e[0]||(e[0]=s=>Q(K)(l.value.clubs.latitude,l.value.clubs.longitude))}),u(" el d\xEDa "+i(Q(G)(l.value.lesson_date.value))+" a las "+i(l.value.lesson_time.slice(0,5))+" hrs. En la cancha "+i(l.value.courts.name||"No disponible")+". ",1)]),o("p",null,[e[5]||(e[5]=u("Tipo de partido: Clase Privada")),e[6]||(e[6]=o("br",null,null,-1)),u(" Precio: $"+i(l.value.price)+" PP: $"+i(l.value.price/l.value.participants),1),e[7]||(e[7]=o("br",null,null,-1)),u(" Coach: "+i(l.value.coaches.name),1)])]),_:1})]),_:1}),a(v,{class:"match-card text-white q-pa-md"},{default:t(()=>[a(g,{class:"q-mt-md"},{default:t(()=>[e[9]||(e[9]=o("h3",{class:"text-center text-white"},"Participantes",-1)),a(F,{bordered:"",separator:""},{default:t(()=>[(n(!0),m(b,null,h(l.value.playerDetails,s=>(n(),f(P,{key:s.user_id},{default:t(()=>[a(p,{avatar:""},{default:t(()=>[a(C,{size:"48px"},{default:t(()=>[o("img",{src:s.photo_url,alt:"Foto del jugador",style:{"border-radius":"50%"}},null,8,ia)]),_:2},1024)]),_:2},1024),a(p,null,{default:t(()=>[a(w,null,{default:t(()=>[u(i(s.first_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),(n(!0),m(b,null,h(l.value.participants-l.value.playerDetails.length,s=>(n(),f(P,{key:"add-player-"+s,clickable:"",onClick:V},{default:t(()=>[a(p,{avatar:""},{default:t(()=>[a(C,{size:"48px",class:"bg-grey-7"},{default:t(()=>[a(x,{name:"person_add",size:"32px",color:"white"})]),_:1})]),_:1}),a(p,null,{default:t(()=>[a(w,null,{default:t(()=>e[8]||(e[8]=[u("Agregar jugador")])),_:1})]),_:1})]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]))]),_:1})]),_:1}),a(A,{modelValue:d.value,"onUpdate:modelValue":e[2]||(e[2]=s=>d.value=s)},{default:t(()=>[a(v,null,{default:t(()=>[a(g,null,{default:t(()=>[e[10]||(e[10]=o("div",{class:"text-h6"},"Agregar Jugador",-1)),a(aa,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=s=>d.value=s),onPlayerSelected:L},null,8,["modelValue"])]),_:1}),a(M,{align:"right"},{default:t(()=>[$(a(_,{flat:"",label:"Cancelar",color:"negative"},null,512),[[R]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(W)]),_:1}))}};var Ra=ea(na,[["__scopeId","data-v-a581272a"]]);export{Ra as default};
