import{a9 as He,F as Je,r as d,j as ve,B as Ke,q as r,G as m,H as a,v as e,I as s,J as f,s as u,Q as R,ab as b,ac as _,x as n,ag as q,af as C,ae as E,y as h,ad as c,aj as O,ai as S,ah as H,K as ge,bG as w,aS as Ce}from"./index.813f732c.js";import{Q as We}from"./QHeader.16359345.js";import{Q as G,a as g}from"./QItem.01a0916f.js";import{Q as y}from"./QItemLabel.b765193d.js";import{Q as Ee}from"./QTooltip.dbaa18e9.js";import{Q as T}from"./QList.e999ac61.js";import{Q as fe}from"./QBadge.3b86f4fc.js";import{Q as _e}from"./QSpace.40cfd1dc.js";import{Q as Xe}from"./QBanner.3441c54f.js";import{Q as Ye}from"./QSelect.9dde8fac.js";import{Q as Ze}from"./QPage.f2a762bd.js";import{Q as ea,a as aa}from"./QLayout.3fe3ded4.js";import{C as z}from"./ClosePopup.b5bcb2ae.js";import{u as ta}from"./use-quasar.b33049a5.js";import{a as x}from"./api.e96a150b.js";import{N as la}from"./NotificationBell.f206b6e6.js";import{B as oa}from"./BannerPromoScrolling.41d12ea0.js";import{A as sa}from"./AssociationNavigationMenu.4037b881.js";import{_ as ra}from"./plugin-vue_export-helper.21dcd24c.js";import"./position-engine.f10226bc.js";import"./selection.7c5ca85a.js";import"./QChip.bed768cd.js";import"./QMenu.029043d4.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./index.c98ef0da.js";import"./admin.48eb7fea.js";import"./QTabs.d300a253.js";import"./QFooter.44b747ac.js";const na={class:"header-content"},ia={class:"header-icons"},ua={key:0,class:"text-center q-pa-xl"},da={key:1},ca={class:"text-h5"},pa={class:"text-caption"},ma={class:"row items-center justify-between q-mb-md"},va={class:"q-gutter-sm"},ga={key:0,class:"text-center"},fa={key:1,class:"text-center text-grey q-pa-lg"},_a={key:2},ya={class:"text-subtitle1 text-bold"},ba=["src"],ha={class:"q-gutter-xs"},xa={class:"row items-center justify-between q-mb-md"},wa={key:0},ka={class:"row q-gutter-md q-mb-md"},qa={class:"text-h5"},Ca={class:"text-h5"},Ea={class:"text-h5"},Va=["src"],Qa={class:"column items-end q-gutter-xs"},Ga={key:0,class:"text-caption text-positive q-mt-md"},Ta={key:0},$a={key:0,class:"q-mb-md"},Pa={class:"text-h6 q-mb-md"},Aa=["src"],Sa={key:1,class:"text-caption text-grey q-mt-md"},za={key:2,class:"text-caption text-positive q-mt-md"},Ba={class:"text-h6"},Ma={key:0,class:"text-center q-pa-xl"},Na={key:1,class:"text-center text-grey q-pa-xl"},Ua={key:2},ja={class:"text-h6 q-mb-md"},La={key:0,class:"q-mb-lg"},Da={key:2,class:"q-pa-md bg-positive text-white rounded-borders"},Ia={class:"text-body2"},Fa={key:0,class:"text-caption"},Ra={key:0,class:"q-pa-md bg-grey-8 rounded-borders"},Oa={class:"text-body1"},Ha={key:3,class:"q-pa-md bg-positive text-white rounded-borders"},Ja={class:"text-body2"},Ka={class:"row items-center q-gutter-md"},Wa={class:"col-5"},Xa={class:"row items-center"},Ya=["src"],Za={class:"q-ml-md"},et={class:"col-5"},at={key:2,class:"text-center q-pa-xl"},tt={__name:"ManagePadeliteTournament",setup(lt){const Ve=He(),Z=Je(),v=ta(),Q=Ve.params.tournamentId,ee=d(!1),ae=d(!1),te=d(!1),le=d(!1),oe=d(!1),se=d(!1),J=d(!1),re=d(!1),ne=d(!1),K=d(!1),ie=d(!1),ue=d(!1),de=d(!1),ce=d(!1),W=d(!1),pe=d(!1),N=d(null),$=d([]),U=d(null),B=d(null),X=d([]),ye=d(null),P=d(null),j=d({name:""}),L=d(""),I=d([]),V=d(null),M=d(""),D=d([]),k=d(null),Qe=["Grupo A","Grupo B","Grupo C","Grupo D","Grupo E","Grupo F"],be=ve(()=>{const o={};return $.value.forEach(t=>{const l=t.group_name||"Sin Grupo";o[l]||(o[l]=[]),o[l].push(t)}),o}),Ge=ve(()=>{const o={};return X.value.forEach(t=>{t.category&&(o[t.category]||(o[t.category]={name:t.category,members:[]}),o[t.category].members.push(t))}),Object.values(o)}),he=ve(()=>X.value.filter(o=>!o.category));Ke(async()=>{await xe(),await me(),await Y()});const xe=async()=>{ee.value=!0;try{const{data:o}=await x.get(`/padelite/tournaments/${Q}`);N.value=o.data||o,W.value=N.value.status==="closed"}catch(o){console.error("Error fetching tournament:",o),v.notify({type:"negative",message:"Error al cargar torneo"})}finally{ee.value=!1}},me=async()=>{ae.value=!0;try{const{data:o}=await x.get(`/padelite/tournaments/${Q}/teams`);$.value=o.data||[]}catch(o){console.error("Error fetching teams:",o)}finally{ae.value=!1}},Y=async()=>{te.value=!0;try{const{data:o}=await x.get(`/padelite/association/tournaments/${Q}/teams-status`);U.value=o}catch(o){console.error("Error fetching team status:",o),v.notify({type:"negative",message:"Error al cargar estado de equipos"})}finally{te.value=!1}},Te=async()=>{try{const{data:o}=await x.get(`/padelite/association/tournaments/${Q}/preview-groups`);B.value=o.data}catch(o){console.error("Error fetching group preview:",o),v.notify({type:"negative",message:"Error al cargar vista previa de grupos"})}},$e=async()=>{if(!L.value||L.value.length<2){I.value=[];return}ue.value=!0;try{const{data:o}=await x.get(`/padelite/search/players?query=${L.value}`);I.value=o.data||[]}catch(o){console.error("Error searching captains:",o),v.notify({type:"negative",message:"Error al buscar jugadores"})}finally{ue.value=!1}},Pe=o=>{V.value=o},Ae=async()=>{var o,t;if(!j.value.name||!V.value){v.notify({type:"warning",message:"Por favor completa todos los campos"});return}ie.value=!0;try{await x.post(`/padelite/association/tournaments/${Q}/assign-captain`,null,{params:{team_name:j.value.name,captain_id:V.value.id}}),v.notify({type:"positive",message:"Equipo creado exitosamente"}),j.value={name:""},L.value="",I.value=[],V.value=null,J.value=!1,await me(),await Y()}catch(l){console.error("Error creating team:",l),v.notify({type:"negative",message:((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||"Error al crear equipo"})}finally{ie.value=!1}},Se=o=>{P.value=o,M.value="",D.value=[],k.value=null,K.value=!0},ze=async()=>{if(!M.value||M.value.length<2){D.value=[];return}de.value=!0;try{const{data:o}=await x.get(`/padelite/search/players?query=${M.value}`);D.value=o.data||[]}catch(o){console.error("Error searching new captains:",o),v.notify({type:"negative",message:"Error al buscar jugadores"})}finally{de.value=!1}},Be=o=>{k.value=o},Me=async()=>{var o,t;if(!(!k.value||!P.value)){ce.value=!0;try{await x.put(`/padelite/association/teams/${P.value.id}/change-captain`,null,{params:{new_captain_id:k.value.id}}),v.notify({type:"positive",message:"Capit\xE1n cambiado exitosamente"}),K.value=!1,P.value=null,M.value="",D.value=[],k.value=null,await me(),await Y()}catch(l){console.error("Error changing captain:",l),v.notify({type:"negative",message:((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||"Error al cambiar capit\xE1n"})}finally{ce.value=!1}}},Ne=async o=>{var t,l;try{await x.post(`/padelite/association/tournaments/${Q}/assign-group`,{team_id:o.id,group_name:o.group_name}),v.notify({type:"positive",message:`${o.name} asignado a ${o.group_name}`})}catch(i){console.error("Error assigning group:",i),v.notify({type:"negative",message:((l=(t=i.response)==null?void 0:t.data)==null?void 0:l.detail)||"Error al asignar grupo"})}},Ue=async o=>{ye.value=$.value.find(t=>t.id===o),ne.value=!0,pe.value=!0;try{const{data:t}=await x.get(`/padelite/teams/${o}/players`);X.value=t.data||[]}catch(t){console.error("Error fetching team members:",t),v.notify({type:"negative",message:"Error al cargar miembros del equipo"})}finally{pe.value=!1}},we=o=>{Z.push(`/player/${o}`)},je=()=>{v.dialog({title:"Confirmar Cierre",message:"\xBFEst\xE1s seguro de que quieres cerrar el torneo? Los grupos quedar\xE1n bloqueados y no podr\xE1s mover equipos.",cancel:!0,persistent:!0,dark:!0}).onOk(async()=>{await Le()})},Le=async()=>{var o,t;try{const{data:l}=await x.post(`/padelite/association/tournaments/${Q}/close`,{confirm:!0});v.notify({type:"positive",message:l.message||"Torneo cerrado exitosamente"}),W.value=!0,await xe()}catch(l){console.error("Error closing tournament:",l),v.notify({type:"negative",message:((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||"Error al cerrar torneo"})}},De=async()=>{var o,t;le.value=!0;try{const{data:l}=await x.post(`/padelite/association/tournaments/${Q}/generate-matches`);v.notify({type:"positive",message:l.message||"Partidos generados exitosamente"}),v.dialog({title:"Partidos Generados",message:`Se generaron ${l.data.total_matches} partidos organizados en ${l.data.structure.num_jornadas} jornadas.`,dark:!0})}catch(l){console.error("Error generating matches:",l),v.notify({type:"negative",message:((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||"Error al generar partidos"})}finally{le.value=!1}},Ie=async()=>{var o,t;oe.value=!0;try{const{data:l}=await x.post(`/padelite/association/tournaments/${Q}/generate-elimination`);v.notify({type:"positive",message:l.message||"Cuadro de eliminaci\xF3n generado"}),v.dialog({title:"Cuadro Final",message:`${l.data.qualified_teams} equipos clasificados para la fase final.`,dark:!0})}catch(l){console.error("Error generating elimination:",l),v.notify({type:"negative",message:((t=(o=l.response)==null?void 0:o.data)==null?void 0:t.detail)||"Error al generar cuadro final"})}finally{oe.value=!1}},ke=o=>o?new Date(o).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}):"",Fe=()=>{Z.back()},Re=()=>{Z.push("/association/dashboard")},Oe=async()=>{re.value=!0,await Te()};return(o,t)=>(r(),m(ea,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[e(We,{elevated:"",class:"text-white"},{default:a(()=>[s("div",na,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:Re}),t[10]||(t[10]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Gestionar Torneo")],-1))]),s("div",ia,[e(la),e(f,{flat:"",round:"",icon:"arrow_back",onClick:Fe})])]),e(oa)]),_:1}),e(aa,null,{default:a(()=>[e(Ze,{class:"q-pa-md"},{default:a(()=>[ee.value?(r(),u("div",ua,[e(R,{color:"primary",size:"50px"})])):N.value?(r(),u("div",da,[e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[s("div",ca,n(N.value.name),1),s("div",pa,n(ke(N.value.start_date))+" - "+n(ke(N.value.end_date)),1)]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[s("div",ma,[t[11]||(t[11]=s("div",{class:"text-h6"},"Equipos y Grupos",-1)),s("div",va,[e(f,{flat:"",color:"primary",icon:"group_add",label:"Crear Equipo",onClick:t[0]||(t[0]=l=>J.value=!0)}),e(f,{flat:"",color:"primary",icon:"edit",label:"Asignar Grupos",onClick:t[1]||(t[1]=l=>se.value=!0),disable:$.value.length===0},null,8,["disable"])])]),ae.value?(r(),u("div",ga,[e(R,{color:"primary",size:"30px"})])):$.value.length===0?(r(),u("div",fa,[e(q,{name:"group_add",size:"48px",class:"q-mb-md"}),t[12]||(t[12]=s("div",{class:"text-subtitle1"},"No hay equipos creados",-1)),t[13]||(t[13]=s("div",{class:"text-caption"},"Crea equipos para comenzar el torneo",-1))])):(r(),u("div",_a,[(r(!0),u(C,null,E(be.value,(l,i)=>(r(),u("div",{key:i,class:"q-mb-md"},[s("div",ya,n(i),1),e(T,{separator:""},{default:a(()=>[(r(!0),u(C,null,E(l,p=>(r(),m(G,{key:p.id},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[p.logo_url?(r(),m(w,{key:0},{default:a(()=>[s("img",{src:p.logo_url},null,8,ba)]),_:2},1024)):(r(),m(w,{key:1,color:"primary","text-color":"white"},{default:a(()=>[c(n(p.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(p.name),1)]),_:2},1024),p.captain_name?(r(),m(y,{key:0,caption:""},{default:a(()=>[c(" Capit\xE1n: "+n(p.captain_name),1)]),_:2},1024)):h("",!0)]),_:2},1024),e(g,{side:""},{default:a(()=>[s("div",ha,[e(f,{flat:"",round:"",icon:"visibility",color:"primary",onClick:A=>Ue(p.id)},{default:a(()=>[e(Ee,null,{default:a(()=>t[14]||(t[14]=[c("Ver Miembros")])),_:1})]),_:2},1032,["onClick"]),e(f,{flat:"",round:"",icon:"swap_horiz",color:"warning",onClick:A=>Se(p)},{default:a(()=>[e(Ee,null,{default:a(()=>t[15]||(t[15]=[c("Cambiar Capit\xE1n")])),_:1})]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128))]))]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[s("div",xa,[t[16]||(t[16]=s("div",{class:"text-h6"},"Estado de Equipos",-1)),e(f,{flat:"",color:"primary",icon:"refresh",label:"Actualizar",onClick:Y,loading:te.value},null,8,["loading"])]),U.value?(r(),u("div",wa,[s("div",ka,[e(b,{flat:"",bordered:"",class:"col bg-grey-9"},{default:a(()=>[e(_,null,{default:a(()=>{var l;return[t[17]||(t[17]=s("div",{class:"text-caption"},"Total Equipos",-1)),s("div",qa,n(((l=U.value.summary)==null?void 0:l.total_teams)||0),1)]}),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"col bg-grey-9"},{default:a(()=>[e(_,null,{default:a(()=>{var l;return[t[18]||(t[18]=s("div",{class:"text-caption"},"Equipos Completos",-1)),s("div",Ca,n(((l=U.value.summary)==null?void 0:l.complete_teams)||0),1)]}),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"col bg-grey-9"},{default:a(()=>[e(_,null,{default:a(()=>{var l;return[t[19]||(t[19]=s("div",{class:"text-caption"},"Equipos con Pago Completo",-1)),s("div",Ea,n(((l=U.value.summary)==null?void 0:l.teams_with_full_payment)||0),1)]}),_:1})]),_:1})]),e(T,{separator:""},{default:a(()=>[(r(!0),u(C,null,E(U.value.data,l=>(r(),m(G,{key:l.id},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[l.logo_url?(r(),m(w,{key:0},{default:a(()=>[s("img",{src:l.logo_url},null,8,Va)]),_:2},1024)):(r(),m(w,{key:1,color:"primary","text-color":"white"},{default:a(()=>[c(n(l.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(l.name),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c("Capit\xE1n: "+n(l.captain_name),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c(" Jugadores: "+n(l.total_players)+"/"+n(l.required_players)+" ("+n(l.completion_percentage)+"%) ",1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c(" Pagados: "+n(l.paid_players)+"/"+n(l.total_players),1)]),_:2},1024)]),_:2},1024),e(g,{side:""},{default:a(()=>[s("div",Qa,[e(fe,{color:l.is_complete?"positive":"warning",label:l.is_complete?"Completo":"Incompleto"},null,8,["color","label"]),e(fe,{color:l.all_players_paid?"positive":"warning",label:l.all_players_paid?"Pagado":"Pendiente"},null,8,["color","label"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):h("",!0)]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[t[20]||(t[20]=s("div",{class:"text-h6 q-mb-md"},"Vista Previa de Grupos",-1)),t[21]||(t[21]=s("p",{class:"text-caption q-mb-md"}," Revisa la distribuci\xF3n de equipos en los grupos antes de cerrar el torneo. ",-1)),e(f,{flat:"",color:"primary",icon:"visibility",label:"Ver Grupos",onClick:Oe,disable:$.value.length===0},null,8,["disable"])]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[t[23]||(t[23]=s("div",{class:"text-h6 q-mb-md"},"Cerrar Torneo",-1)),t[24]||(t[24]=s("p",{class:"text-caption q-mb-md"}," Una vez que todos los equipos est\xE9n asignados a grupos, cierra el torneo para bloquear los grupos y generar los partidos. ",-1)),e(f,{color:"negative",icon:"lock",label:"Cerrar Torneo y Bloquear Grupos",onClick:je,disable:W.value||$.value.length===0},null,8,["disable"]),W.value?(r(),u("div",Ga,[e(q,{name:"check_circle"}),t[22]||(t[22]=c(" Torneo cerrado - Los grupos est\xE1n bloqueados "))])):h("",!0)]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[t[25]||(t[25]=s("div",{class:"text-h6 q-mb-md"},"Generaci\xF3n de Partidos",-1)),t[26]||(t[26]=s("p",{class:"text-caption q-mb-md"}," Los partidos se generar\xE1n autom\xE1ticamente basados en los grupos asignados y las categor\xEDas configuradas. ",-1)),e(f,{color:"primary",icon:"sports",label:"Generar Partidos de Grupos",onClick:De,loading:le.value,disable:Object.keys(be.value).length===0},null,8,["loading","disable"])]),_:1})]),_:1}),e(b,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:a(()=>[e(_,null,{default:a(()=>[t[27]||(t[27]=s("div",{class:"text-h6 q-mb-md"},"Cuadro de Eliminaci\xF3n",-1)),t[28]||(t[28]=s("p",{class:"text-caption q-mb-md"}," Una vez completada la fase de grupos, puedes generar el cuadro de eliminaci\xF3n. ",-1)),e(f,{color:"primary",icon:"emoji_events",label:"Generar Cuadro Final",onClick:Ie,loading:oe.value},null,8,["loading"])]),_:1})]),_:1}),e(O,{modelValue:re.value,"onUpdate:modelValue":t[2]||(t[2]=l=>re.value=l),maximized:""},{default:a(()=>[e(b,{class:"bg-dark text-white"},{default:a(()=>[e(_,{class:"row items-center q-pb-none"},{default:a(()=>[t[29]||(t[29]=s("div",{class:"text-h6"},"Vista Previa de Grupos",-1)),e(_e),S(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[z]])]),_:1}),e(_,null,{default:a(()=>[B.value?(r(),u("div",Ta,[B.value.teams_without_group&&B.value.teams_without_group.length>0?(r(),u("div",$a,[e(Xe,{class:"bg-warning text-dark"},{avatar:a(()=>[e(q,{name:"warning"})]),default:a(()=>[c(" "+n(B.value.teams_without_group.length)+" equipos sin grupo asignado ",1)]),_:1})])):h("",!0),(r(!0),u(C,null,E(B.value.groups,(l,i)=>(r(),u("div",{key:i,class:"q-mb-lg"},[s("div",Pa,n(i),1),e(T,{bordered:"",separator:""},{default:a(()=>[(r(!0),u(C,null,E(l,p=>(r(),m(G,{key:p.id},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[p.logo_url?(r(),m(w,{key:0},{default:a(()=>[s("img",{src:p.logo_url},null,8,Aa)]),_:2},1024)):(r(),m(w,{key:1,color:"primary","text-color":"white"},{default:a(()=>[c(n(p.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(p.name),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c("Capit\xE1n: "+n(p.captain_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128)),B.value.is_closed?(r(),u("div",za,[e(q,{name:"lock"}),t[30]||(t[30]=c(" Los grupos est\xE1n bloqueados - el torneo est\xE1 cerrado. "))])):(r(),u("div",Sa," Puedes seguir moviendo equipos entre grupos hasta cerrar el torneo. "))])):h("",!0)]),_:1}),e(H,{align:"right"},{default:a(()=>[S(e(f,{flat:"",label:"Cerrar",color:"grey"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(O,{modelValue:ne.value,"onUpdate:modelValue":t[3]||(t[3]=l=>ne.value=l),maximized:""},{default:a(()=>[e(b,{class:"bg-dark text-white"},{default:a(()=>[e(_,{class:"row items-center q-pb-none"},{default:a(()=>{var l;return[s("div",Ba,"Miembros del Equipo - "+n((l=ye.value)==null?void 0:l.name),1),e(_e),S(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[z]])]}),_:1}),e(_,null,{default:a(()=>[pe.value?(r(),u("div",Ma,[e(R,{color:"primary",size:"50px"})])):X.value.length===0?(r(),u("div",Na,[e(q,{name:"people",size:"80px"}),t[31]||(t[31]=s("div",{class:"text-h6 q-mt-md"},"No hay miembros asignados",-1))])):(r(),u("div",Ua,[(r(!0),u(C,null,E(Ge.value,l=>(r(),u("div",{key:l.name,class:"q-mb-lg"},[s("div",ja,"Categor\xEDa "+n(l.name),1),e(T,{bordered:"",separator:""},{default:a(()=>[(r(!0),u(C,null,E(l.members,i=>(r(),m(G,{key:i.id,clickable:"",onClick:p=>we(i.player_id)},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e(w,{color:"primary","text-color":"white"},{default:a(()=>{var p;return[c(n(((p=i.player_name)==null?void 0:p.charAt(0))||"?"),1)]}),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(i.player_name||"Sin nombre"),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[e(fe,{color:i.payment_status==="paid"?"positive":"warning",label:i.payment_status==="paid"?"Pagado":"Pendiente"},null,8,["color","label"])]),_:2},1024)]),_:2},1024),e(g,{side:""},{default:a(()=>[e(q,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024)]))),128)),he.value.length>0?(r(),u("div",La,[t[33]||(t[33]=s("div",{class:"text-h6 q-mb-md text-grey"},"Pendientes de Asignar",-1)),e(T,{bordered:"",separator:""},{default:a(()=>[(r(!0),u(C,null,E(he.value,l=>(r(),m(G,{key:l.id,clickable:"",onClick:i=>we(l.player_id)},{default:a(()=>[e(g,{avatar:""},{default:a(()=>[e(w,{color:"grey","text-color":"white"},{default:a(()=>{var i;return[c(n(((i=l.player_name)==null?void 0:i.charAt(0))||"?"),1)]}),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(l.player_name||"Sin nombre"),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>t[32]||(t[32]=[c("Sin categor\xEDa asignada")])),_:1})]),_:2},1024),e(g,{side:""},{default:a(()=>[e(q,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])):h("",!0)]))]),_:1}),e(H,{align:"right"},{default:a(()=>[S(e(f,{flat:"",label:"Cerrar",color:"grey"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(O,{modelValue:J.value,"onUpdate:modelValue":t[6]||(t[6]=l=>J.value=l)},{default:a(()=>[e(b,{style:{"min-width":"500px"},class:"bg-dark text-white"},{default:a(()=>[e(_,null,{default:a(()=>t[34]||(t[34]=[s("div",{class:"text-h6"},"Crear Nuevo Equipo",-1)])),_:1}),e(_,{class:"q-gutter-md"},{default:a(()=>[e(ge,{modelValue:j.value.name,"onUpdate:modelValue":t[4]||(t[4]=l=>j.value.name=l),label:"Nombre del Equipo",outlined:"",dense:"",dark:"",rules:[l=>!!l||"El nombre es requerido"]},null,8,["modelValue","rules"]),e(ge,{modelValue:L.value,"onUpdate:modelValue":[t[5]||(t[5]=l=>L.value=l),$e],label:"Buscar Capit\xE1n (nombre o email)",outlined:"",dense:"",dark:"",debounce:"500"},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"]),ue.value?(r(),m(T,{key:0,class:"q-mt-md"},{default:a(()=>[e(G,null,{default:a(()=>[e(g,null,{default:a(()=>[e(R,{color:"primary",size:"20px"})]),_:1})]),_:1})]),_:1})):I.value.length>0?(r(),m(T,{key:1,bordered:"",separator:"",class:"q-mt-md rounded-borders"},{default:a(()=>[(r(!0),u(C,null,E(I.value,l=>{var i;return r(),m(G,{key:l.id,clickable:"",onClick:p=>Pe(l),class:Ce({"bg-primary":((i=V.value)==null?void 0:i.id)===l.id})},{default:a(()=>{var p;return[e(g,{avatar:""},{default:a(()=>[e(w,{color:"primary","text-color":"white"},{default:a(()=>{var A,F;return[c(n(((A=l.name)==null?void 0:A.charAt(0))||((F=l.email)==null?void 0:F.charAt(0))),1)]}),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(l.name||l.email),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c(n(l.email),1)]),_:2},1024)]),_:2},1024),((p=V.value)==null?void 0:p.id)===l.id?(r(),m(g,{key:0,side:""},{default:a(()=>[e(q,{name:"check_circle",color:"white"})]),_:1})):h("",!0)]}),_:2},1032,["onClick","class"])}),128))]),_:1})):h("",!0),V.value?(r(),u("div",Da,[t[35]||(t[35]=s("div",{class:"text-subtitle2"},"Capit\xE1n Seleccionado:",-1)),s("div",Ia,n(V.value.name||V.value.email),1)])):h("",!0)]),_:1}),e(H,{align:"right"},{default:a(()=>[S(e(f,{flat:"",label:"Cancelar",color:"grey"},null,512),[[z]]),e(f,{flat:"",label:"Crear Equipo",color:"primary",onClick:Ae,loading:ie.value,disable:!j.value.name||!V.value},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(O,{modelValue:K.value,"onUpdate:modelValue":t[8]||(t[8]=l=>K.value=l)},{default:a(()=>[e(b,{style:{"min-width":"500px"},class:"bg-dark text-white"},{default:a(()=>[e(_,null,{default:a(()=>[t[36]||(t[36]=s("div",{class:"text-h6"},"Cambiar Capit\xE1n",-1)),P.value?(r(),u("div",Fa," Equipo: "+n(P.value.name),1)):h("",!0)]),_:1}),e(_,{class:"q-gutter-md"},{default:a(()=>{var l;return[(l=P.value)!=null&&l.captain_name?(r(),u("div",Ra,[t[37]||(t[37]=s("div",{class:"text-caption"},"Capit\xE1n Actual:",-1)),s("div",Oa,n(P.value.captain_name),1)])):h("",!0),e(ge,{modelValue:M.value,"onUpdate:modelValue":[t[7]||(t[7]=i=>M.value=i),ze],label:"Buscar Nuevo Capit\xE1n (nombre o email)",outlined:"",dense:"",dark:"",debounce:"500"},{append:a(()=>[e(q,{name:"search"})]),_:1},8,["modelValue"]),de.value?(r(),m(T,{key:1,class:"q-mt-md"},{default:a(()=>[e(G,null,{default:a(()=>[e(g,null,{default:a(()=>[e(R,{color:"primary",size:"20px"})]),_:1})]),_:1})]),_:1})):D.value.length>0?(r(),m(T,{key:2,bordered:"",separator:"",class:"q-mt-md rounded-borders"},{default:a(()=>[(r(!0),u(C,null,E(D.value,i=>{var p;return r(),m(G,{key:i.id,clickable:"",onClick:A=>Be(i),class:Ce({"bg-primary":((p=k.value)==null?void 0:p.id)===i.id})},{default:a(()=>{var A;return[e(g,{avatar:""},{default:a(()=>[e(w,{color:"primary","text-color":"white"},{default:a(()=>{var F,qe;return[c(n(((F=i.name)==null?void 0:F.charAt(0))||((qe=i.email)==null?void 0:qe.charAt(0))),1)]}),_:2},1024)]),_:2},1024),e(g,null,{default:a(()=>[e(y,null,{default:a(()=>[c(n(i.name||i.email),1)]),_:2},1024),e(y,{caption:""},{default:a(()=>[c(n(i.email),1)]),_:2},1024)]),_:2},1024),((A=k.value)==null?void 0:A.id)===i.id?(r(),m(g,{key:0,side:""},{default:a(()=>[e(q,{name:"check_circle",color:"white"})]),_:1})):h("",!0)]}),_:2},1032,["onClick","class"])}),128))]),_:1})):h("",!0),k.value?(r(),u("div",Ha,[t[38]||(t[38]=s("div",{class:"text-subtitle2"},"Nuevo Capit\xE1n Seleccionado:",-1)),s("div",Ja,n(k.value.name||k.value.email),1)])):h("",!0)]}),_:1}),e(H,{align:"right"},{default:a(()=>[S(e(f,{flat:"",label:"Cancelar",color:"grey"},null,512),[[z]]),e(f,{flat:"",label:"Cambiar Capit\xE1n",color:"primary",onClick:Me,disable:!k.value,loading:ce.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(O,{modelValue:se.value,"onUpdate:modelValue":t[9]||(t[9]=l=>se.value=l),maximized:""},{default:a(()=>[e(b,{class:"bg-dark text-white"},{default:a(()=>[e(_,{class:"row items-center q-pb-none"},{default:a(()=>[t[39]||(t[39]=s("div",{class:"text-h6"},"Asignar Equipos a Grupos",-1)),e(_e),S(e(f,{icon:"close",flat:"",round:"",dense:""},null,512),[[z]])]),_:1}),e(_,null,{default:a(()=>[(r(!0),u(C,null,E($.value,l=>(r(),u("div",{key:l.id,class:"q-mb-md"},[s("div",Ka,[s("div",Wa,[s("div",Xa,[l.logo_url?(r(),m(w,{key:0,size:"40px"},{default:a(()=>[s("img",{src:l.logo_url},null,8,Ya)]),_:2},1024)):(r(),m(w,{key:1,size:"40px",color:"primary","text-color":"white"},{default:a(()=>[c(n(l.name.charAt(0)),1)]),_:2},1024)),s("span",Za,n(l.name),1)])]),s("div",et,[e(Ye,{modelValue:l.group_name,"onUpdate:modelValue":[i=>l.group_name=i,i=>Ne(l)],options:Qe,label:"Grupo",outlined:"",dense:"",dark:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),e(H,{align:"right"},{default:a(()=>[S(e(f,{flat:"",label:"Cerrar",color:"grey"},null,512),[[z]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(r(),u("div",at,t[40]||(t[40]=[s("div",{class:"text-h6"},"Torneo no encontrado",-1)])))]),_:1})]),_:1}),e(sa)]),_:1}))}};var At=ra(tt,[["__scopeId","data-v-5c7e9969"]]);export{At as default};
