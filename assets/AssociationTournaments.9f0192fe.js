import{x as L,r as y,h as M,o as c,z as N,A as o,d as e,B as s,D as p,a as d,Q as P,ac as u,ab as V,aa as $,a9 as n,aK as z,_ as E,a7 as j,a8 as x,t as m,ad as R,aT as F}from"./index.343c8145.js";import{Q as H}from"./QHeader.74e9ea06.js";import{Q as C}from"./QChip.29699f7b.js";import{Q as G}from"./QPage.c2a4954a.js";import{Q as K,a as O}from"./QLayout.cf8964e2.js";import{Q as U}from"./QItemLabel.05574ce5.js";import{Q as f,a as l}from"./QItem.a116c19a.js";import{Q as X}from"./QList.0714427a.js";import{Q as Z}from"./QDrawer.6a2f39e2.js";import{u as J}from"./use-quasar.ffcb6c45.js";import{a as W}from"./api.c78da0f8.js";import{N as Y}from"./NotificationBell.764a7663.js";import{B as ee}from"./BannerPromoScrolling.a2fcb367.js";import{A as te}from"./AssociationNavigationMenu.e6134b81.js";import{_ as oe}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.f80222c1.js";import"./touch.9135741d.js";import"./selection.77230eb1.js";import"./format.de7e9769.js";import"./QBadge.79f62308.js";import"./admin.3e0a6143.js";import"./QTabs.ffe1e49b.js";import"./rtl.276c3f1b.js";import"./QFooter.32609e6a.js";const ae={class:"header-content"},se={class:"header-icons"},re={class:"row items-center justify-between q-mb-md"},le={key:0,class:"text-center q-pa-xl"},ne={key:1,class:"text-center q-pa-xl"},ie={key:2,class:"row q-col-gutter-md"},ce={class:"text-h6"},de={class:"text-caption"},ue={class:"row q-gutter-sm"},me={__name:"AssociationTournaments",setup(pe){const i=L(),w=J(),_=y(!1),v=y([]),g=y(!1);M(async()=>{await T()});const T=async()=>{_.value=!0;try{const{data:a}=await W.get("/padelite/association/tournaments");v.value=a.data||[]}catch(a){console.error("Error fetching tournaments:",a),w.notify({type:"negative",message:"Error al cargar torneos"})}finally{_.value=!1}},h=a=>a?new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"",A=a=>({open:"positive",closed:"warning",active:"info",completed:"grey"})[a]||"grey",B=a=>({open:"Abierto",closed:"Cerrado",active:"Activo",completed:"Completado"})[a]||a,k=()=>{i.push("/association/dashboard")},D=()=>{i.push("/association/tournaments")},q=()=>{i.push("/association/revenue")},Q=()=>{i.push("/association/tournaments/create")},b=a=>{i.push(`/association/tournaments/${a}`)},S=async()=>{const{storage:a}=await E(()=>import("./index.343c8145.js").then(function(t){return t.bZ}),["assets/index.343c8145.js","assets/index.bfdcce3b.css"]);await a.removeItem("token"),i.push("/")};return(a,t)=>(c(),N(K,{view:"hHh lpR fFf",class:"text-white"},{default:o(()=>[e(H,{elevated:"",class:"text-white"},{default:o(()=>[s("div",ae,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:k}),t[2]||(t[2]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Mis Torneos")],-1))]),s("div",se,[e(Y),e(p,{flat:"",round:"",icon:"menu",onClick:t[0]||(t[0]=r=>g.value=!0)})])]),e(ee)]),_:1}),e(O,null,{default:o(()=>[e(G,{class:"q-pa-md"},{default:o(()=>[s("div",re,[t[3]||(t[3]=s("div",{class:"text-h5"},"Torneos Padelite",-1)),e(p,{color:"primary",icon:"add",label:"Crear Torneo",onClick:Q})]),_.value?(c(),d("div",le,[e(P,{color:"primary",size:"50px"})])):v.value.length===0?(c(),d("div",ne,[e(u,{name:"emoji_events",size:"80px",color:"grey"}),t[4]||(t[4]=s("div",{class:"text-h6 q-mt-md text-grey"},"No hay torneos creados",-1)),e(p,{class:"q-mt-md",color:"primary",label:"Crear Primer Torneo",onClick:Q})])):(c(),d("div",ie,[(c(!0),d(V,null,$(v.value,r=>(c(),d("div",{key:r.id,class:"col-12 col-md-6 col-lg-4"},[e(j,{flat:"",bordered:"",class:"bg-transparent text-white clickable",onClick:I=>b(r.id)},{default:o(()=>[e(x,null,{default:o(()=>[s("div",ce,m(r.name),1),s("div",de,m(h(r.start_date))+" - "+m(h(r.end_date)),1)]),_:2},1024),e(x,null,{default:o(()=>[s("div",ue,[e(C,{color:A(r.status),"text-color":"white",size:"sm"},{default:o(()=>[n(m(B(r.status)),1)]),_:2},1032,["color"]),e(C,{color:"grey-8","text-color":"white",size:"sm"},{default:o(()=>[n(" $"+m(r.price_per_player)+" por jugador ",1)]),_:2},1024)])]),_:2},1024),e(R,null,{default:o(()=>[e(p,{flat:"",color:"primary",label:"Gestionar",onClick:F(I=>b(r.id),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),e(Z,{modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=r=>g.value=r),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:o(()=>[e(X,null,{default:o(()=>[e(U,{header:""},{default:o(()=>[...t[5]||(t[5]=[n("Men\xFA",-1)])]),_:1}),e(f,{clickable:"",onClick:k},{default:o(()=>[e(l,{avatar:""},{default:o(()=>[e(u,{name:"home"})]),_:1}),e(l,null,{default:o(()=>[...t[6]||(t[6]=[n("Dashboard",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:D},{default:o(()=>[e(l,{avatar:""},{default:o(()=>[e(u,{name:"emoji_events"})]),_:1}),e(l,null,{default:o(()=>[...t[7]||(t[7]=[n("Mis Torneos",-1)])]),_:1})]),_:1}),e(f,{clickable:"",onClick:q},{default:o(()=>[e(l,{avatar:""},{default:o(()=>[e(u,{name:"attach_money"})]),_:1}),e(l,null,{default:o(()=>[...t[8]||(t[8]=[n("Ingresos",-1)])]),_:1})]),_:1}),e(z),e(f,{clickable:"",onClick:S},{default:o(()=>[e(l,{avatar:""},{default:o(()=>[e(u,{name:"logout"})]),_:1}),e(l,null,{default:o(()=>[...t[9]||(t[9]=[n("Cerrar Sesi\xF3n",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(te)]),_:1}))}};var $e=oe(me,[["__scopeId","data-v-208c0928"]]);export{$e as default};
