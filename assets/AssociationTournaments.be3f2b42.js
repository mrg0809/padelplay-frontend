import{F as M,r as y,B as L,q as c,G as N,H as t,v as e,I as s,J as p,s as d,Q as V,ag as u,af as $,ae as P,ad as n,aO as j,ab as z,ac as b,x as m,ah as E,aW as F}from"./index.b86c8e6e.js";import{Q as H}from"./QHeader.bd213683.js";import{Q as C}from"./QChip.3dbc8c8c.js";import{Q as R}from"./QPage.b77a8772.js";import{Q as G,a as J}from"./QLayout.af46a9b3.js";import{Q as O}from"./QItemLabel.37a6fbbb.js";import{Q as f,a as l}from"./QItem.bb8cfc8e.js";import{Q as U}from"./QList.d2fcba6f.js";import{Q as W}from"./QDrawer.a15ec049.js";import{u as X}from"./use-quasar.a2b20f07.js";import{a as K}from"./api.e96a150b.js";import{N as Y}from"./NotificationBell.53a18a75.js";import{B as Z}from"./BannerPromoScrolling.9204dca7.js";import{A as ee}from"./AssociationNavigationMenu.d56213f3.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.2ba6f9b3.js";import"./touch.9135741d.js";import"./selection.d155da32.js";import"./format.de7e9769.js";import"./index.c98ef0da.js";import"./QBadge.232753f6.js";import"./admin.48eb7fea.js";import"./QTabs.273ef540.js";import"./rtl.276c3f1b.js";import"./QFooter.99f9350d.js";const oe={class:"header-content"},ae={class:"header-icons"},se={class:"row items-center justify-between q-mb-md"},re={key:0,class:"text-center q-pa-xl"},le={key:1,class:"text-center q-pa-xl"},ne={key:2,class:"row q-col-gutter-md"},ie={class:"text-h6"},ce={class:"text-caption"},de={class:"row q-gutter-sm"},ue={__name:"AssociationTournaments",setup(me){const i=M(),w=X(),v=y(!1),_=y([]),g=y(!1);L(async()=>{await T()});const T=async()=>{v.value=!0;try{const{data:a}=await K.get("/padelite/association/tournaments");_.value=a.data||[]}catch(a){console.error("Error fetching tournaments:",a),w.notify({type:"negative",message:"Error al cargar torneos"})}finally{v.value=!1}},h=a=>a?new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"",q=a=>({open:"positive",closed:"warning",active:"info",completed:"grey"})[a]||"grey",B=a=>({open:"Abierto",closed:"Cerrado",active:"Activo",completed:"Completado"})[a]||a,k=()=>{i.push("/association/dashboard")},S=()=>{i.push("/association/tournaments")},A=()=>{i.push("/association/revenue")},Q=()=>{i.push("/association/tournaments/create")},x=a=>{i.push(`/association/tournaments/${a}`)},D=()=>{localStorage.removeItem("token"),i.push("/")};return(a,o)=>(c(),N(G,{view:"hHh lpR fFf",class:"text-white"},{default:t(()=>[e(H,{elevated:"",class:"text-white"},{default:t(()=>[s("div",oe,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:k}),o[2]||(o[2]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Mis Torneos")],-1))]),s("div",ae,[e(Y),e(p,{flat:"",round:"",icon:"menu",onClick:o[0]||(o[0]=r=>g.value=!0)})])]),e(Z)]),_:1}),e(J,null,{default:t(()=>[e(R,{class:"q-pa-md"},{default:t(()=>[s("div",se,[o[3]||(o[3]=s("div",{class:"text-h5"},"Torneos Padelite",-1)),e(p,{color:"primary",icon:"add",label:"Crear Torneo",onClick:Q})]),v.value?(c(),d("div",re,[e(V,{color:"primary",size:"50px"})])):_.value.length===0?(c(),d("div",le,[e(u,{name:"emoji_events",size:"80px",color:"grey"}),o[4]||(o[4]=s("div",{class:"text-h6 q-mt-md text-grey"},"No hay torneos creados",-1)),e(p,{class:"q-mt-md",color:"primary",label:"Crear Primer Torneo",onClick:Q})])):(c(),d("div",ne,[(c(!0),d($,null,P(_.value,r=>(c(),d("div",{key:r.id,class:"col-12 col-md-6 col-lg-4"},[e(z,{flat:"",bordered:"",class:"bg-transparent text-white clickable",onClick:I=>x(r.id)},{default:t(()=>[e(b,null,{default:t(()=>[s("div",ie,m(r.name),1),s("div",ce,m(h(r.start_date))+" - "+m(h(r.end_date)),1)]),_:2},1024),e(b,null,{default:t(()=>[s("div",de,[e(C,{color:q(r.status),"text-color":"white",size:"sm"},{default:t(()=>[n(m(B(r.status)),1)]),_:2},1032,["color"]),e(C,{color:"grey-8","text-color":"white",size:"sm"},{default:t(()=>[n(" $"+m(r.price_per_player)+" por jugador ",1)]),_:2},1024)])]),_:2},1024),e(E,null,{default:t(()=>[e(p,{flat:"",color:"primary",label:"Gestionar",onClick:F(I=>x(r.id),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),e(W,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=r=>g.value=r),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:t(()=>[e(U,null,{default:t(()=>[e(O,{header:""},{default:t(()=>o[5]||(o[5]=[n("Men\xFA")])),_:1}),e(f,{clickable:"",onClick:k},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"home"})]),_:1}),e(l,null,{default:t(()=>o[6]||(o[6]=[n("Dashboard")])),_:1})]),_:1}),e(f,{clickable:"",onClick:S},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"emoji_events"})]),_:1}),e(l,null,{default:t(()=>o[7]||(o[7]=[n("Mis Torneos")])),_:1})]),_:1}),e(f,{clickable:"",onClick:A},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"attach_money"})]),_:1}),e(l,null,{default:t(()=>o[8]||(o[8]=[n("Ingresos")])),_:1})]),_:1}),e(j),e(f,{clickable:"",onClick:D},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"logout"})]),_:1}),e(l,null,{default:t(()=>o[9]||(o[9]=[n("Cerrar Sesi\xF3n")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ee)]),_:1}))}};var Pe=te(ue,[["__scopeId","data-v-5f369e00"]]);export{Pe as default};
