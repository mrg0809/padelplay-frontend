import{x as D,r as _,f as b,h as F,o as u,z as h,A as a,d as e,B as s,D as L,a7 as m,a8 as c,t as n,a as y,Q as S,aa as V,ab as $,a9 as i,ac as f,aK as M,_ as E}from"./index.44d6004f.js";import{Q as j}from"./QHeader.8ed599dc.js";import{Q}from"./QItemLabel.30a3dfed.js";import{Q as v,a as l}from"./QItem.cafd0d6f.js";import{Q as I}from"./QList.8f6ea51c.js";import{Q as z}from"./QPage.069cc100.js";import{Q as A,a as H}from"./QLayout.bdadfe99.js";import{Q as K}from"./QDrawer.1ef53893.js";import{u as O}from"./use-quasar.00fa2d0c.js";import{a as U}from"./api.dcb17b1f.js";import{N as G}from"./NotificationBell.03dce8ef.js";import{B as J}from"./BannerPromoScrolling.0ad337b6.js";import{P as W}from"./PadeliteNavigationMenu.48673642.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.14df6e61.js";import"./touch.9135741d.js";import"./selection.ab0d7921.js";import"./format.de7e9769.js";import"./QBadge.182a08f3.js";import"./QTabs.02ad9b81.js";import"./rtl.276c3f1b.js";import"./QFooter.dec25843.js";const Y={class:"header-content"},Z={class:"header-icons"},ee={class:"row q-col-gutter-md q-mb-md"},te={class:"col-12 col-md-4"},ae={class:"text-h4 text-positive"},se={class:"col-12 col-md-4"},oe={class:"text-h4 text-warning"},le={class:"col-12 col-md-4"},re={class:"text-h4 text-primary"},ne={key:0,class:"text-center"},ie={class:"text-right"},de={class:"text-positive text-bold"},ue={class:"text-caption text-grey"},me={class:"text-caption"},ce={key:2,class:"text-center text-grey q-pa-md"},ve={class:"text-caption q-mb-md"},pe={__name:"PadeliteRevenue",setup(_e){const p=D();O();const g=_(!1),d=_([]),x=_(!1),k=_(10),w=b(()=>d.value.reduce((o,t)=>o+t.total_revenue,0)),P=b(()=>d.value.reduce((o,t)=>o+t.commission,0)),R=b(()=>w.value-P.value);F(async()=>{await B()});const B=async()=>{g.value=!0;try{const{data:o}=await U.get("/padelite/revenue");d.value=o.data||[],o.commission_rate&&(k.value=o.commission_rate)}catch(o){console.error("Error fetching revenue:",o),d.value=[]}finally{g.value=!1}},C=()=>{p.push("/padelite/dashboard")},T=()=>{p.push("/padelite/tournaments")},q=()=>{p.push("/padelite/revenue")},N=async()=>{const{storage:o}=await E(()=>import("./index.44d6004f.js").then(function(t){return t.b_}),["assets/index.44d6004f.js","assets/index.993c6714.css"]);await o.removeItem("token"),p.push("/")};return(o,t)=>(u(),h(A,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[e(j,{elevated:"",class:"text-white"},{default:a(()=>[s("div",Y,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:C}),t[2]||(t[2]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Ingresos")],-1))]),s("div",Z,[e(G),e(L,{flat:"",round:"",icon:"menu",onClick:t[0]||(t[0]=r=>x.value=!0)})])]),e(J)]),_:1}),e(H,null,{default:a(()=>[e(z,{class:"q-pa-md"},{default:a(()=>[t[9]||(t[9]=s("div",{class:"text-h5 q-mb-md"},"Ingresos Padelite",-1)),s("div",ee,[s("div",te,[e(m,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[e(c,null,{default:a(()=>[t[3]||(t[3]=s("div",{class:"text-caption"},"Ingresos Totales",-1)),s("div",ae,"$"+n(w.value.toFixed(2)),1)]),_:1})]),_:1})]),s("div",se,[e(m,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[e(c,null,{default:a(()=>[t[4]||(t[4]=s("div",{class:"text-caption"},"Comisi\xF3n PadelPlay",-1)),s("div",oe,"$"+n(P.value.toFixed(2)),1)]),_:1})]),_:1})]),s("div",le,[e(m,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[e(c,null,{default:a(()=>[t[5]||(t[5]=s("div",{class:"text-caption"},"Ingresos Netos",-1)),s("div",re,"$"+n(R.value.toFixed(2)),1)]),_:1})]),_:1})])]),e(m,{flat:"",bordered:"",class:"bg-transparent text-white q-mb-md"},{default:a(()=>[e(c,null,{default:a(()=>[t[6]||(t[6]=s("div",{class:"text-h6 q-mb-md"},"Ingresos por Torneo",-1)),g.value?(u(),y("div",ne,[e(S,{color:"primary",size:"50px"})])):d.value.length>0?(u(),h(I,{key:1,separator:""},{default:a(()=>[(u(!0),y($,null,V(d.value,r=>(u(),h(v,{key:r.tournament_id},{default:a(()=>[e(l,null,{default:a(()=>[e(Q,null,{default:a(()=>[i(n(r.tournament_name),1)]),_:2},1024),e(Q,{caption:""},{default:a(()=>[i(n(r.registered_players)+" jugadores inscritos ",1)]),_:2},1024)]),_:2},1024),e(l,{side:""},{default:a(()=>[s("div",ie,[s("div",de,"$"+n(r.total_revenue.toFixed(2)),1),s("div",ue,"Comisi\xF3n: $"+n(r.commission.toFixed(2)),1),s("div",me,"Neto: $"+n(r.net_revenue.toFixed(2)),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),y("div",ce," No hay datos de ingresos disponibles "))]),_:1})]),_:1}),e(m,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[e(c,null,{default:a(()=>[t[7]||(t[7]=s("div",{class:"text-h6 q-mb-md"},"Detalles de Pagos",-1)),s("div",ve," Tasa de comisi\xF3n de PadelPlay: "+n(k.value)+"% ",1),t[8]||(t[8]=s("div",{class:"text-caption text-grey"}," La comisi\xF3n se calcula sobre cada inscripci\xF3n de jugador ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=r=>x.value=r),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:a(()=>[e(I,null,{default:a(()=>[e(Q,{header:""},{default:a(()=>[...t[10]||(t[10]=[i("Men\xFA",-1)])]),_:1}),e(v,{clickable:"",onClick:C},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(f,{name:"home"})]),_:1}),e(l,null,{default:a(()=>[...t[11]||(t[11]=[i("Dashboard",-1)])]),_:1})]),_:1}),e(v,{clickable:"",onClick:T},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(f,{name:"emoji_events"})]),_:1}),e(l,null,{default:a(()=>[...t[12]||(t[12]=[i("Mis Torneos",-1)])]),_:1})]),_:1}),e(v,{clickable:"",onClick:q},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(f,{name:"attach_money"})]),_:1}),e(l,null,{default:a(()=>[...t[13]||(t[13]=[i("Ingresos",-1)])]),_:1})]),_:1}),e(M),e(v,{clickable:"",onClick:N},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(f,{name:"logout"})]),_:1}),e(l,null,{default:a(()=>[...t[14]||(t[14]=[i("Cerrar Sesi\xF3n",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(W)]),_:1}))}};var $e=X(pe,[["__scopeId","data-v-9a92e6a4"]]);export{$e as default};
