import{Q as A}from"./QHeader.289f0645.js";import{x as B,r as v,h as N,a6 as p,o as i,z as l,A as a,d as o,B as n,D as h,a7 as y,a8 as Q,Q as w,ac as C,a as M,aa as S,ab as D,a9 as _,t as c,e as I}from"./index.687b44e8.js";import{Q as f}from"./QItemLabel.bbebea39.js";import{Q as L,a as T}from"./QItem.eb9291fb.js";import{Q as P}from"./QList.1288e946.js";import{Q as q}from"./QPage.fcc9aae1.js";import{Q as V,a as z}from"./QLayout.30990248.js";import{u as E}from"./use-quasar.ba375293.js";import{A as j,a as F}from"./AssociationTopMenu.c2c9d0dc.js";import{N as H}from"./NotificationBell.9fdba392.js";import{B as R}from"./BannerPromoScrolling.1700e538.js";import{b as G}from"./association.b92d73c6.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./QTabs.979bee57.js";import"./rtl.276c3f1b.js";import"./QFooter.b7b22f15.js";import"./QBtnDropdown.17175f2e.js";import"./QBtnGroup.6b9d07ee.js";import"./QMenu.df8dfc7c.js";import"./position-engine.46674690.js";import"./selection.0f785986.js";import"./haptics.57409bd0.js";import"./QBadge.0c3a126f.js";import"./api.1c42dce4.js";const K={name:"AssociationTorneos",components:{AssociationNavigationMenu:j,AssociationTopMenu:F,NotificationBell:H,BannerPromoScrolling:R},setup(){E();const m=B(),e=v([]),d=v(!0),t=()=>m.push("/dashboard/association"),g=()=>m.push("/association/torneos/crear"),b=r=>m.push(`/association/torneos/${r}`),u=async()=>{d.value=!0;try{const r=await G();e.value=r.data||[]}catch(r){console.error("Error loading tournaments:",r),e.value=[]}finally{d.value=!1}};return N(u),{tournaments:e,loading:d,goToDashboard:t,goToCreate:g,goToManage:b,loadTournaments:u}}},O={class:"header-content"},U={class:"greeting"},W={class:"header-icons"},X={class:"row justify-between items-center q-mb-md"};function Y(m,e,d,t,g,b){const u=p("NotificationBell"),r=p("AssociationTopMenu"),x=p("BannerPromoScrolling"),k=p("AssociationNavigationMenu");return i(),l(V,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[o(A,{elevated:"",class:"text-white"},{default:a(()=>[n("div",O,[n("div",U,[n("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:e[0]||(e[0]=(...s)=>t.goToDashboard&&t.goToDashboard(...s))}),e[1]||(e[1]=n("span",{class:"text-subtitle1"},"Torneos",-1))]),n("div",W,[o(u),o(r)])]),o(x)]),_:1}),o(z,null,{default:a(()=>[o(q,{class:"q-pa-md"},{default:a(()=>[n("div",X,[e[2]||(e[2]=n("div",{class:"text-h5"},"Torneos de la asociaci\xF3n",-1)),o(h,{color:"primary",icon:"add",label:"Crear torneo",onClick:t.goToCreate},null,8,["onClick"])]),t.loading?(i(),l(y,{key:0,flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[o(Q,{class:"text-center"},{default:a(()=>[o(w,{color:"primary",size:"40px"})]),_:1})]),_:1})):t.tournaments.length?(i(),l(P,{key:2,bordered:"",class:"rounded-borders bg-transparent"},{default:a(()=>[(i(!0),M(D,null,S(t.tournaments,s=>(i(),l(L,{key:s.id,class:"q-mb-sm bg-grey-9",clickable:"",onClick:Z=>t.goToManage(s.id)},{default:a(()=>[o(T,null,{default:a(()=>[o(f,{class:"text-weight-medium"},{default:a(()=>[_(c(s.name),1)]),_:2},1024),o(f,{caption:""},{default:a(()=>[_(c(s.start_date)+" \xB7 "+c(s.system),1)]),_:2},1024),s.league?(i(),l(f,{key:0,caption:""},{default:a(()=>[_(c(s.league.name),1)]),_:2},1024)):I("",!0),o(f,{caption:""},{default:a(()=>[_("Estado: "+c(s.status==="closed"?"Cerrado":"Abierto"),1)]),_:2},1024)]),_:2},1024),o(T,{side:""},{default:a(()=>[o(C,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})):(i(),l(y,{key:1,flat:"",bordered:"",class:"bg-grey-9 text-white"},{default:a(()=>[o(Q,{class:"text-center"},{default:a(()=>[o(C,{name:"o_emoji_events",size:"48px",class:"q-mb-sm"}),e[3]||(e[3]=n("p",null,"No hay torneos. Crea uno (ligado a una liga o aut\xF3nomo).",-1)),o(h,{color:"primary",label:"Crear torneo",onClick:t.goToCreate},null,8,["onClick"])]),_:1})]),_:1}))]),_:1})]),_:1}),o(k)]),_:1})}var xo=J(K,[["render",Y],["__scopeId","data-v-07787d21"]]);export{xo as default};
