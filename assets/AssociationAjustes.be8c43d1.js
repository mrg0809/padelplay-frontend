import{Q as g}from"./QHeader.289f0645.js";import{x as b,r as _,a0 as y,h as v,o as x,z as h,A as i,d as a,B as r,a7 as A,a8 as d,E as m,ac as Q,a9 as M,D as V}from"./index.687b44e8.js";import{Q as k}from"./QPage.fcc9aae1.js";import{Q as q,a as w}from"./QLayout.30990248.js";import{u as B}from"./use-quasar.ba375293.js";import{a as C,A as j}from"./AssociationTopMenu.c2c9d0dc.js";import{N as E}from"./NotificationBell.9fdba392.js";import{B as N}from"./BannerPromoScrolling.1700e538.js";import{g as D,o as S}from"./association.b92d73c6.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./QTabs.979bee57.js";import"./rtl.276c3f1b.js";import"./QFooter.b7b22f15.js";import"./QItem.eb9291fb.js";import"./QList.1288e946.js";import"./QBtnDropdown.17175f2e.js";import"./QBtnGroup.6b9d07ee.js";import"./QMenu.df8dfc7c.js";import"./position-engine.46674690.js";import"./selection.0f785986.js";import"./haptics.57409bd0.js";import"./QBadge.0c3a126f.js";import"./api.1c42dce4.js";const z={class:"header-content"},I={class:"header-icons"},L={class:"text-caption text-grey"},T={__name:"AssociationAjustes",setup(F){const n=B(),u=b(),l=_(!1),t=y({price:0,duration_days:365}),p=()=>u.push("/dashboard/association"),c=async()=>{try{const o=await D();o.data&&(t.price=o.data.membership_price||0,t.duration_days=o.data.membership_duration_days||365)}catch(o){console.error("Error loading membership settings:",o)}},f=async()=>{var o,e;if(t.price<0){n.notify({type:"negative",message:"El precio debe ser mayor o igual a 0"});return}if(t.duration_days<1){n.notify({type:"negative",message:"La duraci\xF3n debe ser al menos 1 d\xEDa"});return}l.value=!0;try{await S({membership_price:t.price,membership_duration_days:t.duration_days}),n.notify({type:"positive",message:"Configuraci\xF3n de membres\xEDa guardada"})}catch(s){n.notify({type:"negative",message:((e=(o=s.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al guardar configuraci\xF3n"})}finally{l.value=!1}};return v(c),(o,e)=>(x(),h(q,{view:"hHh lpR fFf",class:"text-white"},{default:i(()=>[a(g,{elevated:"",class:"text-white"},{default:i(()=>[r("div",z,[r("div",{class:"greeting"},[r("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:p}),e[2]||(e[2]=r("span",{class:"text-subtitle1"},"Ajustes",-1))]),r("div",I,[a(E),a(C)])]),a(N)]),_:1}),a(w,null,{default:i(()=>[a(k,{class:"q-pa-md"},{default:i(()=>[e[5]||(e[5]=r("div",{class:"text-h5 q-mb-md"},"Ajustes",-1)),a(A,{flat:"",bordered:"",class:"q-mb-md bg-grey-9 text-white"},{default:i(()=>[a(d,null,{default:i(()=>[...e[3]||(e[3]=[r("div",{class:"text-h6 q-mb-md"},"Configuraci\xF3n de Membres\xEDa",-1),r("p",{class:"text-caption text-grey q-mb-md"},"Establece el precio y duraci\xF3n de la membres\xEDa para afiliados.",-1)])]),_:1}),a(d,{class:"q-gutter-md"},{default:i(()=>[a(m,{modelValue:t.price,"onUpdate:modelValue":e[0]||(e[0]=s=>t.price=s),modelModifiers:{number:!0},label:"Precio de membres\xEDa",type:"number",outlined:"",dark:"",dense:"",prefix:"$",min:"0",step:"0.01",rules:[s=>s!=null&&s>=0||"Debe ser mayor o igual a 0"]},null,8,["modelValue","rules"]),a(m,{modelValue:t.duration_days,"onUpdate:modelValue":e[1]||(e[1]=s=>t.duration_days=s),modelModifiers:{number:!0},label:"Duraci\xF3n de membres\xEDa (d\xEDas)",type:"number",outlined:"",dark:"",dense:"",min:"1",suffix:"d\xEDas",rules:[s=>s!=null&&s>=1||"Debe ser al menos 1 d\xEDa"]},null,8,["modelValue","rules"]),r("div",L,[a(Q,{name:"info",size:"xs",class:"q-mr-xs"}),e[4]||(e[4]=M(" Ejemplo: 365 d\xEDas = 1 a\xF1o, 30 d\xEDas = 1 mes ",-1))]),a(V,{label:"Guardar configuraci\xF3n",color:"primary","text-color":"black",class:"full-width",onClick:f,loading:l.value},null,8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}),a(j)]),_:1}))}};var ue=P(T,[["__scopeId","data-v-eb0d6616"]]);export{ue as default};
