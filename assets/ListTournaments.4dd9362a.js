import{Q as z}from"./QHeader.6dc27614.js";import{F as S,r as m,w as F,B as L,aa as _,q as u,G as I,H as n,v as t,I as a,ag as d,ad as s,ab as N,s as f,af as G,ae as M,ac as O,x as b}from"./index.d2ffaf32.js";import{Q as C,a as T}from"./QItem.3d58836d.js";import{Q}from"./QSelect.763eff18.js";import{Q as U}from"./QSpinnerGears.af781676.js";import{Q as E}from"./QPage.e7459944.js";import{Q as H,a as A}from"./QLayout.20569da5.js";import{f as R}from"./tournaments.cd0e2bd5.js";import{n as h}from"./navigationUtils.2c4b9dee.js";import{f as j}from"./commun.2cf31020.js";import{P as J}from"./PlayerNavigationMenu.06395178.js";import{B as K}from"./BannerPromoScrolling.6ab9c8fd.js";import{D as W}from"./DesktopNavigation.40230880.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.b5a03079.js";import"./QItemLabel.54cdb47b.js";import"./QMenu.07894f12.js";import"./position-engine.b5237c54.js";import"./selection.d58affd5.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./supabase.c42fb837.js";import"./QTabs.8b7ac885.js";import"./QFooter.5896e005.js";import"./admin.c99b9bfe.js";import"./api.2af71db3.js";import"./QTooltip.bf88416d.js";const Y={name:"ListTournaments",components:{PlayerNavigationMenu:J,BannerPromoScrolling:K,DesktopNavigation:W},setup(){const v=S(),o=m([]),y=m({city:null,category:null,gender:null}),e=m([]),c=m([]),w=m(["primera","segunda","tercera","cuarta","quinta","libre","otro","open"]),x=m(["mixto","varonil","femenil"]),p=m(!1),k=async()=>{p.value=!0;try{o.value=await R(y.value)}catch(r){console.error("Error loading tournaments:",r),o.value=[]}finally{p.value=!1}},l=async()=>{try{const r=await j();e.value=r.map(i=>typeof i=="string"?i:i.value||i.label||i),c.value=e.value}catch(r){console.error("Error loading cities:",r),e.value=[],c.value=[]}},g=(r,i)=>{if(r===""){i(()=>{c.value=e.value});return}i(()=>{const P=r.toLowerCase();c.value=e.value.filter(B=>B.toLowerCase().indexOf(P)>-1)})},q=r=>v.push({name:"TournamentDetails",params:{tournamentId:r}}),D=()=>v.push("/padelite"),V=r=>r&&r.charAt(0).toUpperCase()+r.slice(1);return F(y,k,{deep:!0}),L(()=>{k(),l()}),{tournaments:o,loadingTournaments:p,filters:y,cityOptions:c,categories:w,genders:x,goToTournamentDetails:q,goToPadelite:D,filterCityFn:g,capitalizeText:V,goToDashboard:()=>{h(v,userStore)}}}},Z={class:"header-content"},$={class:"greeting"},oo={class:"row q-col-gutter-md q-mb-lg"},eo={class:"col-12 col-sm-4"},to={class:"col-12 col-sm-4"},lo={class:"col-12 col-sm-4"},ao={key:0,class:"text-center q-pa-xl"},no={key:1,class:"text-center text-grey-5 q-pa-xl"},ro={key:2,class:"tournaments-list row q-col-gutter-md"},so={class:"tennis-yellow q-mt-none q-mb-sm"},io={class:"q-mb-xs"};function mo(v,o,y,e,c,w){const x=_("BannerPromoScrolling"),p=_("PlayerNavigationMenu"),k=_("DesktopNavigation");return u(),I(H,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:n(()=>[t(z,{elevated:"",class:"text-white"},{default:n(()=>[a("div",Z,[a("div",$,[a("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:o[0]||(o[0]=(...l)=>e.goToDashboard&&e.goToDashboard(...l))})]),o[7]||(o[7]=a("div",{class:"header-icons"},null,-1))]),t(x)]),_:1}),t(A,null,{default:n(()=>[t(E,{class:"q-pa-md"},{default:n(()=>[a("div",oo,[a("div",eo,[t(Q,{modelValue:e.filters.city,"onUpdate:modelValue":o[1]||(o[1]=l=>e.filters.city=l),options:e.cityOptions,label:"Ciudad",outlined:"",dense:"","options-dense":"",clearable:"",onFilter:e.filterCityFn,onClear:o[2]||(o[2]=l=>e.filters.city=null),dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black"},{prepend:n(()=>[t(d,{name:"location_on",color:"black"})]),"no-option":n(()=>[t(C,null,{default:n(()=>[t(T,{class:"text-grey"},{default:n(()=>o[8]||(o[8]=[s(" No hay ciudades disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"])]),a("div",to,[t(Q,{modelValue:e.filters.category,"onUpdate:modelValue":o[3]||(o[3]=l=>e.filters.category=l),options:e.categories,label:"Categor\xEDa",outlined:"",dense:"","options-dense":"",clearable:"",dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black",onClear:o[4]||(o[4]=l=>e.filters.category=null)},{prepend:n(()=>[t(d,{name:"category",color:"black"})]),"no-option":n(()=>[t(C,null,{default:n(()=>[t(T,{class:"text-grey"},{default:n(()=>o[9]||(o[9]=[s(" No hay categor\xEDas ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),a("div",lo,[t(Q,{modelValue:e.filters.gender,"onUpdate:modelValue":o[5]||(o[5]=l=>e.filters.gender=l),options:e.genders,label:"G\xE9nero",outlined:"",dense:"","options-dense":"",clearable:"",dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black",onClear:o[6]||(o[6]=l=>e.filters.gender=null)},{prepend:n(()=>[t(d,{name:"wc",color:"black"})]),"no-option":n(()=>[t(C,null,{default:n(()=>[t(T,{class:"text-grey"},{default:n(()=>o[10]||(o[10]=[s(" No hay g\xE9neros ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),t(N,{class:"q-mb-md",clickable:"",bordered:"",onClick:e.goToPadelite},null,8,["onClick"]),e.loadingTournaments?(u(),f("div",ao,[t(U,{color:"primary",size:"xl"}),o[11]||(o[11]=a("p",{class:"q-mt-md"},"Buscando torneos...",-1))])):e.tournaments.length===0?(u(),f("div",no,[t(d,{name:"event_busy",size:"64px"}),o[12]||(o[12]=a("p",null,"No se encontraron torneos con los filtros seleccionados.",-1))])):(u(),f("div",ro,[(u(!0),f(G,null,M(e.tournaments,l=>(u(),f("div",{key:l.id,class:"col-12 col-sm-6 col-md-4"},[t(N,{class:"tournament-card full-height",clickable:"",bordered:"",onClick:g=>e.goToTournamentDetails(l.id)},{default:n(()=>[t(O,null,{default:n(()=>{var g;return[a("h4",so,b(l.name),1),a("p",io,[a("strong",null,[t(d,{name:"mdi-calendar",size:"xs"}),o[13]||(o[13]=s(" Fecha:"))]),s(" "+b(l.start_date)+" ",1),o[17]||(o[17]=a("br",null,null,-1)),a("strong",null,[t(d,{name:"mdi-map-marker",size:"xs"}),o[14]||(o[14]=s(" Ciudad:"))]),s(" "+b(((g=l.clubs)==null?void 0:g.city)||l.city||"N/A")+" ",1),o[18]||(o[18]=a("br",null,null,-1)),a("strong",null,[t(d,{name:"mdi-trophy-variant-outline",size:"xs"}),o[15]||(o[15]=s(" Cat:"))]),s(" "+b(e.capitalizeText(l.category))+" ",1),o[19]||(o[19]=a("br",null,null,-1)),a("strong",null,[t(d,{name:"mdi-gender-male-female",size:"xs"}),o[16]||(o[16]=s(" Gen:"))]),s(" "+b(e.capitalizeText(l.gender)),1)])]}),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),t(p),t(k)]),_:1})}var Oo=X(Y,[["render",mo],["__scopeId","data-v-6fd6a24c"]]);export{Oo as default};
