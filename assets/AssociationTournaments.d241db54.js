import{F as M,r as y,y as L,k as c,G as N,H as t,p as e,I as s,J as p,l as d,Q as V,ag as u,af as $,ae as P,ad as i,aO as j,ab as z,ac as x,q as m,ah as E,aW as F}from"./index.63dc7e23.js";import{Q as H}from"./QHeader.fafcae42.js";import{Q as C}from"./QChip.5e2441ba.js";import{Q as R}from"./QPage.2aaa1d93.js";import{Q as G,a as J}from"./QLayout.554612a4.js";import{Q as O}from"./QItemLabel.8574eb87.js";import{Q as f,a as l}from"./QItem.0839bf79.js";import{Q as U}from"./QList.e359b89a.js";import{Q as W}from"./QDrawer.f14a419c.js";import{u as X}from"./use-quasar.a32cc7fc.js";import{a as K}from"./api.e96a150b.js";import{N as Y}from"./NotificationBell.7dc8c9be.js";import{B as Z}from"./BannerPromoScrolling.c3a2856e.js";import{A as ee}from"./AssociationNavigationMenu.7505c96c.js";import{_ as te}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.3a6f0bc9.js";import"./touch.9135741d.js";import"./selection.f8391a45.js";import"./format.de7e9769.js";import"./index.c98ef0da.js";import"./QBadge.4d5b740f.js";import"./pinia.53eba05e.js";import"./admin.48eb7fea.js";import"./QTabs.6a3d63d5.js";import"./rtl.276c3f1b.js";import"./QFooter.9d6e02eb.js";const oe={class:"header-content"},ae={class:"header-icons"},se={class:"row items-center justify-between q-mb-md"},re={key:0,class:"text-center q-pa-xl"},le={key:1,class:"text-center q-pa-xl"},ie={key:2,class:"row q-col-gutter-md"},ne={class:"text-h6"},ce={class:"text-caption"},de={class:"row q-gutter-sm"},ue={__name:"AssociationTournaments",setup(me){const n=M(),w=X(),_=y(!1),v=y([]),g=y(!1);L(async()=>{await T()});const T=async()=>{_.value=!0;try{const{data:a}=await K.get("/padelite/association/tournaments");v.value=a.data||[]}catch(a){console.error("Error fetching tournaments:",a),w.notify({type:"negative",message:"Error al cargar torneos"})}finally{_.value=!1}},h=a=>a?new Date(a).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"}):"",q=a=>({open:"positive",closed:"warning",active:"info",completed:"grey"})[a]||"grey",S=a=>({open:"Abierto",closed:"Cerrado",active:"Activo",completed:"Completado"})[a]||a,k=()=>{n.push("/association/dashboard")},B=()=>{n.push("/association/tournaments")},A=()=>{n.push("/association/revenue")},Q=()=>{n.push("/association/tournaments/create")},b=a=>{n.push(`/association/tournaments/${a}`)},D=()=>{localStorage.removeItem("token"),n.push("/")};return(a,o)=>(c(),N(G,{view:"hHh lpR fFf",class:"text-white"},{default:t(()=>[e(H,{elevated:"",class:"text-white"},{default:t(()=>[s("div",oe,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:k}),o[2]||(o[2]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Mis Torneos")],-1))]),s("div",ae,[e(Y),e(p,{flat:"",round:"",icon:"menu",onClick:o[0]||(o[0]=r=>g.value=!0)})])]),e(Z)]),_:1}),e(J,null,{default:t(()=>[e(R,{class:"q-pa-md"},{default:t(()=>[s("div",se,[o[3]||(o[3]=s("div",{class:"text-h5"},"Torneos Padelite",-1)),e(p,{color:"primary",icon:"add",label:"Crear Torneo",onClick:Q})]),_.value?(c(),d("div",re,[e(V,{color:"primary",size:"50px"})])):v.value.length===0?(c(),d("div",le,[e(u,{name:"emoji_events",size:"80px",color:"grey"}),o[4]||(o[4]=s("div",{class:"text-h6 q-mt-md text-grey"},"No hay torneos creados",-1)),e(p,{class:"q-mt-md",color:"primary",label:"Crear Primer Torneo",onClick:Q})])):(c(),d("div",ie,[(c(!0),d($,null,P(v.value,r=>(c(),d("div",{key:r.id,class:"col-12 col-md-6 col-lg-4"},[e(z,{flat:"",bordered:"",class:"bg-transparent text-white clickable",onClick:I=>b(r.id)},{default:t(()=>[e(x,null,{default:t(()=>[s("div",ne,m(r.name),1),s("div",ce,m(h(r.start_date))+" - "+m(h(r.end_date)),1)]),_:2},1024),e(x,null,{default:t(()=>[s("div",de,[e(C,{color:q(r.status),"text-color":"white",size:"sm"},{default:t(()=>[i(m(S(r.status)),1)]),_:2},1032,["color"]),e(C,{color:"grey-8","text-color":"white",size:"sm"},{default:t(()=>[i(" $"+m(r.price_per_player)+" por jugador ",1)]),_:2},1024)])]),_:2},1024),e(E,null,{default:t(()=>[e(p,{flat:"",color:"primary",label:"Gestionar",onClick:F(I=>b(r.id),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),e(W,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=r=>g.value=r),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:t(()=>[e(U,null,{default:t(()=>[e(O,{header:""},{default:t(()=>o[5]||(o[5]=[i("Men\xFA")])),_:1}),e(f,{clickable:"",onClick:k},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"home"})]),_:1}),e(l,null,{default:t(()=>o[6]||(o[6]=[i("Dashboard")])),_:1})]),_:1}),e(f,{clickable:"",onClick:B},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"emoji_events"})]),_:1}),e(l,null,{default:t(()=>o[7]||(o[7]=[i("Mis Torneos")])),_:1})]),_:1}),e(f,{clickable:"",onClick:A},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"attach_money"})]),_:1}),e(l,null,{default:t(()=>o[8]||(o[8]=[i("Ingresos")])),_:1})]),_:1}),e(j),e(f,{clickable:"",onClick:D},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(u,{name:"logout"})]),_:1}),e(l,null,{default:t(()=>o[9]||(o[9]=[i("Cerrar Sesi\xF3n")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(ee)]),_:1}))}};var je=te(ue,[["__scopeId","data-v-5f369e00"]]);export{je as default};
