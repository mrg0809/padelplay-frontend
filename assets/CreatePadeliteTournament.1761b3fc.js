import{F as T,r as b,q as m,G as V,H as r,v as t,I as o,ad as P,J as p,aW as F,ab as g,ac as n,K as d,s as y,ae as N,af as D,y as z}from"./index.624343fc.js";import{Q as B}from"./QHeader.83a95ff2.js";import{Q as M}from"./QSelect.94e874c1.js";import{Q as E}from"./QForm.92e45c41.js";import{Q as H}from"./QPage.6b95b127.js";import{Q as I,a as S}from"./QLayout.1a683915.js";import{u as $}from"./use-quasar.925a2356.js";import{a as L}from"./api.2af71db3.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.92cbd1e5.js";import"./QItem.a216e44e.js";import"./QItemLabel.dda0557e.js";import"./QMenu.a1ae400e.js";import"./position-engine.fe5d6bc5.js";import"./selection.1465d73a.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const J={class:"header-content"},R={class:"header-icons"},A={class:"row q-col-gutter-md q-mb-md"},G={class:"col-6"},K={class:"col-6"},W={class:"row q-col-gutter-md q-mb-md"},O={class:"col-6"},X={class:"col-6"},Y={class:"row q-col-gutter-md items-center"},Z={class:"col-6"},ee={class:"col-4"},ae={class:"col-2"},le={__name:"CreatePadeliteTournament",setup(te){const c=T(),_=$(),v=b(!1),C=["tercera","cuarta","quinta","sexta","libre"],a=b({name:"",start_date:"",start_time:"",end_date:"",end_time:"",details:"",price_per_player:0,prize:"",max_teams:4,categories:[{name:"tercera",pairs:1},{name:"cuarta",pairs:1},{name:"quinta",pairs:1},{name:"sexta",pairs:1}]}),q=()=>{a.value.categories.push({name:"libre",pairs:1})},k=i=>{a.value.categories.splice(i,1)},x=async()=>{var e,u;const i=a.value.categories.map(s=>s.name),l=new Set(i);if(i.length!==l.size){_.notify({type:"warning",message:"No puedes tener categor\xEDas duplicadas"});return}v.value=!0;try{const s={categories:a.value.categories.map(f=>({name:f.name,pairs_count:f.pairs}))},U={name:a.value.name,start_date:a.value.start_date,start_time:a.value.start_time,end_date:a.value.end_date,end_time:a.value.end_time,details:a.value.details,price_per_player:a.value.price_per_player,prize:a.value.prize,max_teams:a.value.max_teams,padelite_config:s},{data:h}=await L.post("/padelite/association/tournaments",U);_.notify({type:"positive",message:"Torneo creado exitosamente"}),c.push(`/association/tournaments/${h.data.id}`)}catch(s){console.error("Error creating tournament:",s),_.notify({type:"negative",message:((u=(e=s.response)==null?void 0:e.data)==null?void 0:u.detail)||"Error al crear torneo"})}finally{v.value=!1}},w=()=>{c.back()},Q=()=>{c.push("/association/dashboard")};return(i,l)=>(m(),V(I,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:r(()=>[t(B,{elevated:"",class:"bg-primary text-white"},{default:r(()=>[o("div",J,[o("div",{class:"greeting"},[o("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:Q}),l[9]||(l[9]=P(" Crear Torneo Padelite "))]),o("div",R,[t(p,{flat:"",round:"",icon:"arrow_back",onClick:w})])])]),_:1}),t(S,null,{default:r(()=>[t(H,{class:"q-pa-md"},{default:r(()=>[t(E,{onSubmit:F(x,["prevent"])},{default:r(()=>[t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>l[10]||(l[10]=[o("h3",null,"Detalles del Torneo",-1)])),_:1}),t(n,null,{default:r(()=>[t(d,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.name=e),label:"Nombre del Torneo",outlined:"",dense:"",dark:"",class:"q-mb-md",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),o("div",A,[o("div",G,[t(d,{modelValue:a.value.start_date,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.start_date=e),label:"Fecha de Inicio",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",K,[t(d,{modelValue:a.value.start_time,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.start_time=e),label:"Hora de Inicio",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),o("div",W,[o("div",O,[t(d,{modelValue:a.value.end_date,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.end_date=e),label:"Fecha de Fin",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",X,[t(d,{modelValue:a.value.end_time,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.end_time=e),label:"Hora de Fin",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),t(d,{modelValue:a.value.details,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.details=e),label:"Detalles del Torneo",type:"textarea",outlined:"",dense:"",dark:"",rows:"3",class:"q-mb-md"},null,8,["modelValue"])]),_:1})]),_:1}),t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>l[11]||(l[11]=[o("h3",null,"Configuraci\xF3n de Categor\xEDas por Equipo",-1),o("p",{class:"text-caption"}," Define cu\xE1ntas parejas de cada categor\xEDa tendr\xE1 cada equipo ",-1)])),_:1}),t(n,null,{default:r(()=>[(m(!0),y(D,null,N(a.value.categories,(e,u)=>(m(),y("div",{key:u,class:"q-mb-md"},[o("div",Y,[o("div",Z,[t(M,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,options:C,label:"Categor\xEDa",outlined:"",dense:"",dark:""},null,8,["modelValue","onUpdate:modelValue"])]),o("div",ee,[t(d,{modelValue:e.pairs,"onUpdate:modelValue":s=>e.pairs=s,modelModifiers:{number:!0},label:"N\xFAmero de Parejas",type:"number",outlined:"",dense:"",dark:"",min:"1"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",ae,[a.value.categories.length>1?(m(),V(p,{key:0,flat:"",round:"",icon:"delete",color:"negative",onClick:s=>k(u)},null,8,["onClick"])):z("",!0)])])]))),128)),t(p,{flat:"",icon:"add",label:"Agregar Categor\xEDa",color:"primary",onClick:q})]),_:1})]),_:1}),t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>l[12]||(l[12]=[o("h3",null,"Detalles Financieros",-1)])),_:1}),t(n,null,{default:r(()=>[t(d,{modelValue:a.value.price_per_player,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value.price_per_player=e),modelModifiers:{number:!0},label:"Precio por Jugador",type:"number",outlined:"",dense:"",dark:"",class:"q-mb-md",prefix:"$",rules:[e=>e>0||"Debe ser mayor a 0"]},null,8,["modelValue","rules"]),t(d,{modelValue:a.value.prize,"onUpdate:modelValue":l[7]||(l[7]=e=>a.value.prize=e),label:"Premio",outlined:"",dense:"",dark:"",class:"q-mb-md"},null,8,["modelValue"]),t(d,{modelValue:a.value.max_teams,"onUpdate:modelValue":l[8]||(l[8]=e=>a.value.max_teams=e),modelModifiers:{number:!0},label:"M\xE1ximo de Equipos",type:"number",outlined:"",dense:"",dark:"",min:"2",rules:[e=>e>=2||"M\xEDnimo 2 equipos"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(p,{type:"submit",label:"Crear Torneo Padelite",color:"primary",class:"full-width",loading:v.value},null,8,["loading"])]),_:1})]),_:1})]),_:1})]),_:1}))}};var Ce=j(le,[["__scopeId","data-v-a3e1f332"]]);export{Ce as default};
