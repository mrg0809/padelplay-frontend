import{x as h,r as b,o as m,z as V,A as r,d as l,B as o,D as p,aT as T,a7 as g,a8 as n,E as d,a as y,aa as B,ab as N,e as D}from"./index.687b44e8.js";import{Q as F}from"./QHeader.289f0645.js";import{Q as z}from"./QSelect.8af2919e.js";import{Q as M}from"./QForm.c4c1505e.js";import{Q as E}from"./QPage.fcc9aae1.js";import{Q as S,a as H}from"./QLayout.30990248.js";import{u as I}from"./use-quasar.ba375293.js";import{a as $}from"./api.1c42dce4.js";import{N as L}from"./NotificationBell.9fdba392.js";import{B as j}from"./BannerPromoScrolling.1700e538.js";import{P as A}from"./PadeliteNavigationMenu.f457de2d.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.c9b5cbc6.js";import"./QItem.eb9291fb.js";import"./QItemLabel.bbebea39.js";import"./QMenu.df8dfc7c.js";import"./position-engine.46674690.js";import"./selection.0f785986.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QBadge.0c3a126f.js";import"./QTabs.979bee57.js";import"./QFooter.b7b22f15.js";const J={class:"header-content"},G={class:"header-icons"},K={class:"row q-col-gutter-md q-mb-md"},O={class:"col-6"},W={class:"col-6"},X={class:"row q-col-gutter-md q-mb-md"},Y={class:"col-6"},Z={class:"col-6"},ee={class:"row q-col-gutter-md items-center"},ae={class:"col-6"},le={class:"col-4"},te={class:"col-2"},oe={__name:"CreatePadeliteTournament",setup(re){const c=h(),_=I(),v=b(!1),C=["tercera","cuarta","quinta","sexta","libre"],a=b({name:"",start_date:"",start_time:"",end_date:"",end_time:"",details:"",price_per_player:0,prize:"",max_teams:4,categories:[{name:"tercera",pairs:1},{name:"cuarta",pairs:1},{name:"quinta",pairs:1},{name:"sexta",pairs:1}]}),q=()=>{a.value.categories.push({name:"libre",pairs:1})},k=i=>{a.value.categories.splice(i,1)},x=async()=>{var e,u;const i=a.value.categories.map(s=>s.name),t=new Set(i);if(i.length!==t.size){_.notify({type:"warning",message:"No puedes tener categor\xEDas duplicadas"});return}v.value=!0;try{const s={categories:a.value.categories.map(f=>({name:f.name,pairs_count:f.pairs}))},P={name:a.value.name,start_date:a.value.start_date,start_time:a.value.start_time,end_date:a.value.end_date,end_time:a.value.end_time,details:a.value.details,price_per_player:a.value.price_per_player,prize:a.value.prize,max_teams:a.value.max_teams,padelite_config:s},{data:U}=await $.post("/padelite/tournaments",P);_.notify({type:"positive",message:"Torneo creado exitosamente"}),c.push(`/padelite/tournaments/${U.data.id}`)}catch(s){console.error("Error creating tournament:",s),_.notify({type:"negative",message:((u=(e=s.response)==null?void 0:e.data)==null?void 0:u.detail)||"Error al crear torneo"})}finally{v.value=!1}},w=()=>{c.back()},Q=()=>{c.push("/padelite/dashboard")};return(i,t)=>(m(),V(S,{view:"hHh lpR fFf",class:"text-white"},{default:r(()=>[l(F,{elevated:"",class:"text-white"},{default:r(()=>[o("div",J,[o("div",{class:"greeting"},[o("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:Q}),t[9]||(t[9]=o("div",{class:"greeting-text"},[o("p",null,"Bienvenido"),o("p",{class:"text-grey"},"Crear Torneo Padelite")],-1))]),o("div",G,[l(L),l(p,{flat:"",round:"",icon:"arrow_back",onClick:w})])]),l(j)]),_:1}),l(H,null,{default:r(()=>[l(E,{class:"q-pa-md"},{default:r(()=>[l(M,{onSubmit:T(x,["prevent"])},{default:r(()=>[l(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[l(n,null,{default:r(()=>[...t[10]||(t[10]=[o("h3",null,"Detalles del Torneo",-1)])]),_:1}),l(n,null,{default:r(()=>[l(d,{modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value.name=e),label:"Nombre del Torneo",outlined:"",dense:"",dark:"",class:"q-mb-md",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),o("div",K,[o("div",O,[l(d,{modelValue:a.value.start_date,"onUpdate:modelValue":t[1]||(t[1]=e=>a.value.start_date=e),label:"Fecha de Inicio",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",W,[l(d,{modelValue:a.value.start_time,"onUpdate:modelValue":t[2]||(t[2]=e=>a.value.start_time=e),label:"Hora de Inicio",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),o("div",X,[o("div",Y,[l(d,{modelValue:a.value.end_date,"onUpdate:modelValue":t[3]||(t[3]=e=>a.value.end_date=e),label:"Fecha de Fin",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",Z,[l(d,{modelValue:a.value.end_time,"onUpdate:modelValue":t[4]||(t[4]=e=>a.value.end_time=e),label:"Hora de Fin",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),l(d,{modelValue:a.value.details,"onUpdate:modelValue":t[5]||(t[5]=e=>a.value.details=e),label:"Detalles del Torneo",type:"textarea",outlined:"",dense:"",dark:"",rows:"3",class:"q-mb-md"},null,8,["modelValue"])]),_:1})]),_:1}),l(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[l(n,null,{default:r(()=>[...t[11]||(t[11]=[o("h3",null,"Configuraci\xF3n de Categor\xEDas por Equipo",-1),o("p",{class:"text-caption"}," Define cu\xE1ntas parejas de cada categor\xEDa tendr\xE1 cada equipo ",-1)])]),_:1}),l(n,null,{default:r(()=>[(m(!0),y(N,null,B(a.value.categories,(e,u)=>(m(),y("div",{key:u,class:"q-mb-md"},[o("div",ee,[o("div",ae,[l(z,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,options:C,label:"Categor\xEDa",outlined:"",dense:"",dark:""},null,8,["modelValue","onUpdate:modelValue"])]),o("div",le,[l(d,{modelValue:e.pairs,"onUpdate:modelValue":s=>e.pairs=s,modelModifiers:{number:!0},label:"N\xFAmero de Parejas",type:"number",outlined:"",dense:"",dark:"",min:"1"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",te,[a.value.categories.length>1?(m(),V(p,{key:0,flat:"",round:"",icon:"delete",color:"negative",onClick:s=>k(u)},null,8,["onClick"])):D("",!0)])])]))),128)),l(p,{flat:"",icon:"add",label:"Agregar Categor\xEDa",color:"primary",onClick:q})]),_:1})]),_:1}),l(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[l(n,null,{default:r(()=>[...t[12]||(t[12]=[o("h3",null,"Detalles Financieros",-1)])]),_:1}),l(n,null,{default:r(()=>[l(d,{modelValue:a.value.price_per_player,"onUpdate:modelValue":t[6]||(t[6]=e=>a.value.price_per_player=e),modelModifiers:{number:!0},label:"Precio por Jugador",type:"number",outlined:"",dense:"",dark:"",class:"q-mb-md",prefix:"$",rules:[e=>e>0||"Debe ser mayor a 0"]},null,8,["modelValue","rules"]),l(d,{modelValue:a.value.prize,"onUpdate:modelValue":t[7]||(t[7]=e=>a.value.prize=e),label:"Premio",outlined:"",dense:"",dark:"",class:"q-mb-md"},null,8,["modelValue"]),l(d,{modelValue:a.value.max_teams,"onUpdate:modelValue":t[8]||(t[8]=e=>a.value.max_teams=e),modelModifiers:{number:!0},label:"M\xE1ximo de Equipos",type:"number",outlined:"",dense:"",dark:"",min:"2",rules:[e=>e>=2||"M\xEDnimo 2 equipos"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),l(p,{type:"submit",label:"Crear Torneo Padelite",color:"primary",class:"full-width",loading:v.value},null,8,["loading"])]),_:1})]),_:1})]),_:1}),l(A)]),_:1}))}};var he=R(oe,[["__scopeId","data-v-a82c6d72"]]);export{he as default};
