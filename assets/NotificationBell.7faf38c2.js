import{Q as d}from"./QBadge.50532ba9.js";import{q as n,G as r,H as i,ab as u,x as f,y as l,J as m}from"./index.a05546fd.js";import{a as s}from"./api.2af71db3.js";import{_ as p}from"./plugin-vue_export-helper.21dcd24c.js";const h={name:"NotificationBell",data(){return{unreadCount:0}},async mounted(){await this.fetchUnreadCount()},methods:{async fetchUnreadCount(){try{const t=await s.get("/notifications/"),o=Array.isArray(t.data.data)?t.data.data:[];this.unreadCount=o.filter(e=>!e.is_read).length}catch(t){console.error("Error fetching unread count:",t),this.unreadCount=0,t.message&&t.message.includes("Mixed Content")&&console.error("Mixed Content Error detected. API Base URL:",s.defaults.baseURL)}},goToNotifications(){this.$router.push("/notifications")}}};function C(t,o,e,_,a,c){return n(),r(m,{flat:"",round:"",icon:"o_notifications",onClick:c.goToNotifications,size:"lg"},{default:i(()=>[a.unreadCount>0?(n(),r(d,{key:0,color:"red",floating:""},{default:i(()=>[u(f(a.unreadCount),1)]),_:1})):l("",!0)]),_:1},8,["onClick"])}var N=p(h,[["render",C]]);export{N};
