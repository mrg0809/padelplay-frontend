import{Q as _,a as v}from"./QToolbar.b2830fd1.js";import{Q as y}from"./QHeader.22bc8748.js";import{q as s,G as Q,H as r,v as e,ab as n,I as l,ae as i,aU as g,K as b,J as h,s as m,x as d,y as c}from"./index.cf1ae381.js";import{Q as x}from"./QForm.cdd9f9da.js";import{Q as u}from"./QBanner.8de99b94.js";import{Q as w}from"./QPage.3d29d4c0.js";import{Q as k,a as R}from"./QLayout.3b12d370.js";import{s as q}from"./supabase.ad40cb04.js";import{_ as E}from"./plugin-vue_export-helper.21dcd24c.js";const I={name:"RecoveryPassword",data(){return{email:"",message:null,error:null}},methods:{async sendRecoveryEmail(){this.message=null,this.error=null;try{const{error:o}=await q.auth.resetPasswordForEmail(this.email,{redirectTo:"https://tu-dominio.com/update-password"});if(o){console.error("Error al enviar el correo de recuperaci\xF3n:",o.message),this.error="No se pudo enviar el enlace de recuperaci\xF3n. Intenta nuevamente.";return}this.message="Correo de recuperaci\xF3n enviado exitosamente. Revisa tu bandeja de entrada."}catch(o){console.error("Error inesperado:",o.message),this.error="Ocurri\xF3 un error inesperado. Intenta nuevamente m\xE1s tarde."}}}},V={class:"text-center q-mb-md"},B={key:0,class:"q-mt-md text-center"},C={key:1,class:"q-mt-md text-center"};function P(o,a,N,T,t,p){return s(),Q(k,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:r(()=>[e(y,{elevated:"",class:"bg-primary text-white"},{default:r(()=>[e(_,null,{default:r(()=>[e(v,null,{default:r(()=>a[1]||(a[1]=[n("Recuperar Contrase\xF1a")])),_:1})]),_:1})]),_:1}),e(R,null,{default:r(()=>[e(w,{class:"q-pa-md"},{default:r(()=>[l("div",V,[e(i,{name:"lock_reset",size:"64px",color:"primary"}),a[2]||(a[2]=l("h2",null,"\xBFOlvidaste tu contrase\xF1a?",-1)),a[3]||(a[3]=l("p",null,"Introduce tu correo electr\xF3nico para enviarte un enlace de recuperaci\xF3n.",-1))]),e(x,{onSubmit:g(p.sendRecoveryEmail,["prevent"])},{default:r(()=>[e(b,{modelValue:t.email,"onUpdate:modelValue":a[0]||(a[0]=f=>t.email=f),label:"Correo electr\xF3nico",type:"email",outlined:"",dense:"",color:"primary",required:""},null,8,["modelValue"]),e(h,{label:"Enviar enlace",color:"primary",class:"q-mt-md full-width",type:"submit"})]),_:1},8,["onSubmit"]),t.message?(s(),m("div",B,[e(u,{dense:"",color:"positive",class:"banner-message"},{default:r(()=>[e(i,{name:"check_circle"}),n(" "+d(t.message),1)]),_:1})])):c("",!0),t.error?(s(),m("div",C,[e(u,{dense:"",color:"negative",class:"banner-message"},{default:r(()=>[e(i,{name:"error"}),n(" "+d(t.error),1)]),_:1})])):c("",!0)]),_:1})]),_:1})]),_:1})}var J=E(I,[["render",P],["__scopeId","data-v-2808f1de"]]);export{J as default};
