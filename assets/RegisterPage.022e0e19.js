import{r as t,F as b,q as p,G as y,H as s,v as a,I as d,K as v,aT as _,ab as m,J as i,s as f,x as T,y as k}from"./index.ab1a8de1.js";import{Q as C}from"./QForm.29f93bb6.js";import{Q as V}from"./QPage.5e199c97.js";import{Q as w,a as x}from"./QLayout.c9e50c75.js";import{a as P}from"./api.92f95132.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";const N={name:"RegisterPage",setup(){const u=t(""),e=t(""),g=t(""),o=t(!1),r=t(null),c=t(!1),l=b();return{fullName:u,email:e,password:g,termsAccepted:o,error:r,success:c,register:async()=>{if(r.value=null,c.value=!1,!o.value){r.value="Debe aceptar los T\xE9rminos y Condiciones y el Aviso de Privacidad para continuar.";return}try{await P.post("/auth/register",{full_name:u.value,email:e.value,password:g.value}),c.value=!0}catch(n){n.response&&n.response.data&&n.response.data.detail?r.value=n.response.data.detail:r.value="Ocurri\xF3 un error inesperado. Intenta de nuevo m\xE1s tarde.",console.error("Error al registrarse:",n)}},goToLogin:()=>{l.push("/")},goToTerms:()=>{l.push("/terms")},goToPrivacy:()=>{l.push("/privacy")}}}},A={class:"register-container"},q={class:"terms-text"},L={key:0,class:"error-message"},R={key:1,class:"success-message"},B={class:"register-links"},I={class:"legal-links"};function h(u,e,g,o,r,c){return p(),y(w,{view:"lHh Lpr lFf"},{default:s(()=>[a(x,null,{default:s(()=>[a(V,{class:"register-page"},{default:s(()=>[d("div",A,[e[8]||(e[8]=d("img",{src:"/logo.jpeg",alt:"Logo",class:"register-logo"},null,-1)),a(C,{onSubmit:o.register,class:"register-form"},{default:s(()=>[a(v,{outlined:"",dark:"",modelValue:o.fullName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.fullName=l),label:"Nombre completo",type:"text",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(v,{outlined:"",dark:"",modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=l=>o.email=l),label:"Correo electr\xF3nico",type:"email",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(v,{outlined:"",dark:"",modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),label:"Contrase\xF1a",type:"password",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(_,{modelValue:o.termsAccepted,"onUpdate:modelValue":e[3]||(e[3]=l=>o.termsAccepted=l),color:"white",dark:"",class:"q-mb-md terms-checkbox"},{default:s(()=>[d("span",q,[e[6]||(e[6]=m(" He le\xEDdo y acepto los ")),a(i,{flat:"","no-caps":"",class:"terms-link-inline",onClick:o.goToTerms},{default:s(()=>e[4]||(e[4]=[m(" T\xE9rminos y Condiciones ")])),_:1},8,["onClick"]),e[7]||(e[7]=m(" y el ")),a(i,{flat:"","no-caps":"",class:"terms-link-inline",onClick:o.goToPrivacy},{default:s(()=>e[5]||(e[5]=[m(" Aviso de Privacidad ")])),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),a(i,{label:"Registrar",color:"white","text-color":"black",type:"submit",class:"register-btn",disable:!o.termsAccepted},null,8,["disable"]),o.error?(p(),f("div",L,T(o.error),1)):k("",!0),o.success?(p(),f("div",R," \xA1Registro exitoso! Por favor revisa el correo que te hemos enviado. ")):k("",!0)]),_:1},8,["onSubmit"]),d("div",B,[a(i,{flat:"",label:"\xBFYa tienes una cuenta? Iniciar sesi\xF3n",color:"white",class:"register-link",onClick:o.goToLogin},null,8,["onClick"]),d("div",I,[a(i,{flat:"",label:"T\xE9rminos y Condiciones",color:"white",class:"legal-link",onClick:o.goToTerms},null,8,["onClick"]),a(i,{flat:"",label:"Aviso de Privacidad",color:"white",class:"legal-link",onClick:o.goToPrivacy},null,8,["onClick"])])])])]),_:1})]),_:1})]),_:1})}var O=Q(N,[["render",h],["__scopeId","data-v-0a38bdc1"]]);export{O as default};
