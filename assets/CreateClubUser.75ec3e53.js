import{a8 as q,q as d,G as c,H as s,v as e,ae as o,ab as i,I as t,a9 as v,aa as V,K as n,aM as y,J as b,x as f,y as _}from"./index.0423b3df.js";import{Q,a as x}from"./QToolbar.419bbcee.js";import{Q as D}from"./QHeader.78843607.js";import{Q as k}from"./QForm.e9ef244c.js";import{Q as g}from"./QBanner.c02834c6.js";import{Q as w}from"./QPage.fc5cffac.js";import{Q as h,a as M}from"./QLayout.df606e8a.js";import{c as U}from"./admin.5ab62d8c.js";import{A as N}from"./AdminNavigationMenu.dad6786f.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.f1a1189d.js";import"./QTabs.70acac82.js";import"./rtl.276c3f1b.js";import"./QFooter.951c273f.js";const I={name:"CreateClubUser",components:{AdminNavigationMenu:N},data(){return{formData:{full_name:"",email:"",password:"",club_name:"",club_address:"",club_phone:""},loading:!1,successMessage:"",errorMessage:""}},methods:{async onSubmit(){var u,a;this.loading=!0,this.successMessage="",this.errorMessage="";try{const m=await U(this.formData);this.successMessage=`Club "${m.club_name}" creado exitosamente. El usuario puede iniciar sesi\xF3n con ${this.formData.email}`,this.clearForm()}catch(m){this.errorMessage="Error al crear el usuario club: "+(((a=(u=m.response)==null?void 0:u.data)==null?void 0:a.detail)||m.message),console.error("Error creating club user:",m)}finally{this.loading=!1}},clearForm(){this.formData={full_name:"",email:"",password:"",club_name:"",club_address:"",club_phone:""}}}},B={class:"q-pa-md"},E={class:"text-h6 text-white q-mb-md"},F={class:"text-h6 text-white q-mb-md"},T={class:"row q-gutter-sm q-mt-lg"};function A(u,a,m,H,r,p){const C=q("AdminNavigationMenu");return d(),c(h,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:s(()=>[e(D,{elevated:"",class:"bg-primary text-white"},{default:s(()=>[e(Q,null,{default:s(()=>[e(x,null,{default:s(()=>[e(o,{name:"business",class:"q-mr-sm"}),a[6]||(a[6]=i(" Crear Usuario Club "))]),_:1})]),_:1})]),_:1}),e(M,null,{default:s(()=>[e(w,{padding:"",class:"bg-dark"},{default:s(()=>[t("div",B,[a[9]||(a[9]=t("div",{class:"row q-mb-lg"},[t("div",{class:"col"},[t("p",{class:"text-grey-4"}," Crear cuenta para un nuevo establecimiento/club ")])],-1)),e(v,{class:"create-club-card"},{default:s(()=>[e(V,null,{default:s(()=>[e(k,{onSubmit:p.onSubmit,class:"q-gutter-md"},{default:s(()=>[t("div",E,[e(o,{name:"person",class:"q-mr-sm"}),a[7]||(a[7]=i(" Informaci\xF3n del Usuario "))]),e(n,{modelValue:r.formData.full_name,"onUpdate:modelValue":a[0]||(a[0]=l=>r.formData.full_name=l),label:"Nombre completo del contacto",filled:"",dark:"",rules:[l=>!!l||"Campo requerido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"person"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.email,"onUpdate:modelValue":a[1]||(a[1]=l=>r.formData.email=l),type:"email",label:"Email",filled:"",dark:"",rules:[l=>!!l||"Campo requerido",l=>/.+@.+\..+/.test(l)||"Email inv\xE1lido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"email"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.password,"onUpdate:modelValue":a[2]||(a[2]=l=>r.formData.password=l),type:"password",label:"Contrase\xF1a",filled:"",dark:"",rules:[l=>!!l||"Campo requerido",l=>l.length>=6||"M\xEDnimo 6 caracteres"],class:"q-mb-md"},{prepend:s(()=>[e(o,{name:"lock"})]),_:1},8,["modelValue","rules"]),e(y,{dark:"",class:"q-my-md"}),t("div",F,[e(o,{name:"store",class:"q-mr-sm"}),a[8]||(a[8]=i(" Informaci\xF3n del Club "))]),e(n,{modelValue:r.formData.club_name,"onUpdate:modelValue":a[3]||(a[3]=l=>r.formData.club_name=l),label:"Nombre del club",filled:"",dark:"",rules:[l=>!!l||"Campo requerido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"store"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.club_address,"onUpdate:modelValue":a[4]||(a[4]=l=>r.formData.club_address=l),label:"Direcci\xF3n del club (opcional)",filled:"",dark:"",class:"q-mb-sm",type:"textarea",rows:"2"},{prepend:s(()=>[e(o,{name:"location_on"})]),_:1},8,["modelValue"]),e(n,{modelValue:r.formData.club_phone,"onUpdate:modelValue":a[5]||(a[5]=l=>r.formData.club_phone=l),label:"Tel\xE9fono del club (opcional)",filled:"",dark:"",class:"q-mb-md"},{prepend:s(()=>[e(o,{name:"phone"})]),_:1},8,["modelValue"]),t("div",T,[e(b,{type:"submit",color:"primary",loading:r.loading,icon:"add_business",label:"Crear Usuario Club",class:"col-auto"},null,8,["loading"]),e(b,{type:"button",color:"grey-7",flat:"",icon:"clear",label:"Limpiar",onClick:p.clearForm,class:"col-auto"},null,8,["onClick"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),r.successMessage?(d(),c(g,{key:0,class:"bg-positive text-white q-mt-md"},{avatar:s(()=>[e(o,{name:"check_circle"})]),default:s(()=>[i(" "+f(r.successMessage),1)]),_:1})):_("",!0),r.errorMessage?(d(),c(g,{key:1,class:"bg-negative text-white q-mt-md"},{avatar:s(()=>[e(o,{name:"error"})]),default:s(()=>[i(" "+f(r.errorMessage),1)]),_:1})):_("",!0)])]),_:1})]),_:1}),e(C)]),_:1})}var ee=S(I,[["render",A],["__scopeId","data-v-76b41fa0"]]);export{ee as default};
