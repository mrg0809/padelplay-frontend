import{Q as k}from"./QHeader.289f0645.js";import{a5 as B,f as M,a6 as l,o as i,z as d,A as a,d as s,B as t,D as C,a7 as _,a8 as c,ac as m,a9 as u,a as f,aa as Q,ab as q,e as g,t as n}from"./index.687b44e8.js";import{Q as T}from"./QBanner.7143372b.js";import{Q as P}from"./QPage.fcc9aae1.js";import{Q as E,a as I}from"./QLayout.30990248.js";import{B as R,g as V}from"./BannerPromoScrolling.1700e538.js";import{A as z}from"./AdminNavigationMenu.f2a013a2.js";import{S as F}from"./SuperuserNavigationMenu.fa61df71.js";import{A as L}from"./AdminTopMenu.86b099e2.js";import{S as U}from"./SuperuserTopMenu.ed9d82e7.js";import{N as D}from"./NotificationBell.9fdba392.js";import{_ as H}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.1c42dce4.js";import"./QTabs.979bee57.js";import"./rtl.276c3f1b.js";import"./QFooter.b7b22f15.js";import"./QItem.eb9291fb.js";import"./QList.1288e946.js";import"./QBtnDropdown.17175f2e.js";import"./QBtnGroup.6b9d07ee.js";import"./QMenu.df8dfc7c.js";import"./position-engine.46674690.js";import"./selection.0f785986.js";import"./haptics.57409bd0.js";import"./QBadge.0c3a126f.js";const X={name:"AdminStats",components:{AdminNavigationMenu:z,SuperuserNavigationMenu:F,AdminTopMenu:L,SuperuserTopMenu:U,NotificationBell:D,BannerPromoScrolling:R},setup(){const o=B();return{isAdminPath:M(()=>o.path.startsWith("/admin"))}},data(){return{stats:{},loading:!1,error:null}},async mounted(){await this.loadStats()},methods:{async loadStats(){this.loading=!0,this.error=null;try{this.stats=await V()}catch(o){this.error="Error al cargar las estad\xEDsticas: "+o.message,console.error("Error loading admin stats:",o)}finally{this.loading=!1}},formatUserType(o){return{player:"Jugadores",club:"Clubes",admin:"Administradores",superuser:"Superusuarios"}[o]||o},formatCurrency(o){return o?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(o):"0.00"}}},J={class:"header-content"},W={class:"header-icons"},j={class:"q-pa-md"},G={class:"row q-mb-md"},K={class:"col"},O={class:"row q-gutter-md"},Y={class:"col-md-6 col-sm-12"},Z={class:"text-h6 text-white"},$={class:"row q-gutter-sm"},tt={class:"stat-item"},st={class:"stat-number"},et={class:"stat-label"},at={class:"col-md-6 col-sm-12"},ot={class:"text-h6 text-white"},rt={class:"text-h3 text-primary q-mt-md"},it={class:"col-md-6 col-sm-12"},nt={class:"text-h6 text-white"},lt={class:"text-h3 text-positive q-mt-md"},dt={class:"text-caption text-grey-4"},ct={class:"col-md-6 col-sm-12"},mt={class:"text-h6 text-white"},ut={class:"text-h3 text-secondary q-mt-md"},_t={key:0,class:"q-mt-md"};function pt(o,e,ft,v,r,p){const y=l("NotificationBell"),x=l("AdminTopMenu"),S=l("SuperuserTopMenu"),b=l("BannerPromoScrolling"),A=l("AdminNavigationMenu"),w=l("SuperuserNavigationMenu");return i(),d(E,{view:"hHh lpR fFf",class:"bg-dark text-white layout-with-bottom-nav"},{default:a(()=>[s(k,{elevated:"",class:"text-white admin-header"},{default:a(()=>[t("div",J,[e[0]||(e[0]=t("div",{class:"greeting"},[t("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon"}),t("span",{class:"text-subtitle1"},"Estad\xEDsticas")],-1)),t("div",W,[s(y),v.isAdminPath?(i(),d(x,{key:0})):(i(),d(S,{key:1}))])]),s(b)]),_:1}),s(I,null,{default:a(()=>[s(P,{padding:"",class:"bg-dark"},{default:a(()=>[t("div",j,[t("div",G,[t("div",K,[s(C,{flat:"",icon:"refresh",onClick:p.loadStats,loading:r.loading,label:"Actualizar",color:"white"},null,8,["onClick","loading"])])]),t("div",O,[t("div",Y,[s(_,{class:"stats-card"},{default:a(()=>[s(c,null,{default:a(()=>[t("div",Z,[s(m,{name:"people",class:"q-mr-sm"}),e[1]||(e[1]=u(" Usuarios por Tipo ",-1))])]),_:1}),r.stats.users_by_type?(i(),d(c,{key:0},{default:a(()=>[t("div",$,[(i(!0),f(q,null,Q(r.stats.users_by_type,(N,h)=>(i(),f("div",{key:h,class:"col-6"},[t("div",tt,[t("div",st,n(N),1),t("div",et,n(p.formatUserType(h)),1)])]))),128))])]),_:1})):g("",!0)]),_:1})]),t("div",at,[s(_,{class:"stats-card"},{default:a(()=>[s(c,null,{default:a(()=>[t("div",ot,[s(m,{name:"business",class:"q-mr-sm"}),e[2]||(e[2]=u(" Clubes Totales ",-1))]),t("div",rt,n(r.stats.total_clubs||0),1),e[3]||(e[3]=t("div",{class:"text-caption text-grey-4"}," Clubes registrados en la plataforma ",-1))]),_:1})]),_:1})]),t("div",it,[s(_,{class:"stats-card"},{default:a(()=>[s(c,null,{default:a(()=>[t("div",nt,[s(m,{name:"account_balance_wallet",class:"q-mr-sm"}),e[4]||(e[4]=u(" Transacciones (30 d\xEDas) ",-1))]),t("div",lt,n(r.stats.transactions_last_30_days||0),1),t("div",dt," Ingresos: $"+n(p.formatCurrency(r.stats.revenue_last_30_days)),1)]),_:1})]),_:1})]),t("div",ct,[s(_,{class:"stats-card"},{default:a(()=>[s(c,null,{default:a(()=>[t("div",mt,[s(m,{name:"event_seat",class:"q-mr-sm"}),e[5]||(e[5]=u(" Reservas (30 d\xEDas) ",-1))]),t("div",ut,n(r.stats.reservations_last_30_days||0),1),e[6]||(e[6]=t("div",{class:"text-caption text-grey-4"}," Reservas realizadas ",-1))]),_:1})]),_:1})])]),r.error?(i(),f("div",_t,[s(T,{class:"bg-negative text-white"},{avatar:a(()=>[s(m,{name:"error"})]),default:a(()=>[u(" "+n(r.error),1)]),_:1})])):g("",!0)])]),_:1})]),_:1}),v.isAdminPath?(i(),d(A,{key:0})):(i(),d(w,{key:1}))]),_:1})}var Ut=H(X,[["render",pt],["__scopeId","data-v-353165cf"]]);export{Ut as default};
