import{r as i,x as C,o as f,z as T,A as l,d as o,B as d,E as v,aS as w,a9 as m,D as n,a as b,t as V,e as _}from"./index.284c5517.js";import{Q as x}from"./QForm.c0077694.js";import{Q as P}from"./QPage.dfd00166.js";import{Q,a as A}from"./QLayout.c9dda368.js";import{a as N}from"./api.9de4aea7.js";import{u as h}from"./useMeta.cf7e61e4.js";import{h as u}from"./haptics.e02b7879.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";const L={name:"RegisterPage",setup(){h({title:"Crear Cuenta"});const g=i(""),e=i(""),p=i(""),a=i(!1),r=i(null),c=i(!1),s=C();return{fullName:g,email:e,password:p,termsAccepted:a,error:r,success:c,register:async()=>{var k,y;if(r.value=null,c.value=!1,!a.value){await u.warning(),r.value="Debe aceptar los T\xE9rminos y Condiciones y el Aviso de Privacidad para continuar.";return}try{await u.light(),await N.post("/auth/register",{full_name:g.value,email:e.value,password:p.value}),await u.success(),c.value=!0}catch(t){await u.error(),t.response&&t.response.data&&t.response.data.detail?r.value=t.response.data.detail:r.value="Ocurri\xF3 un error inesperado. Intenta de nuevo m\xE1s tarde.",console.error("Error al registrarse:",((y=(k=t.response)==null?void 0:k.data)==null?void 0:y.detail)||t.message)}},goToLogin:()=>{s.push("/")},goToTerms:()=>{s.push("/terms")},goToPrivacy:()=>{s.push("/privacy")}}}},R={class:"register-container"},q={class:"terms-text"},I={key:0,class:"error-message"},S={key:1,class:"success-message"},U={class:"register-links"},D={class:"legal-links"};function E(g,e,p,a,r,c){return f(),T(Q,{view:"lHh Lpr lFf"},{default:l(()=>[o(A,null,{default:l(()=>[o(P,{class:"register-page"},{default:l(()=>[d("div",R,[e[8]||(e[8]=d("img",{src:"/logo.jpeg",alt:"Logo",class:"register-logo"},null,-1)),o(x,{onSubmit:a.register,class:"register-form"},{default:l(()=>[o(v,{outlined:"",dark:"",modelValue:a.fullName,"onUpdate:modelValue":e[0]||(e[0]=s=>a.fullName=s),label:"Nombre completo",type:"text",class:"q-mb-md input-dark"},null,8,["modelValue"]),o(v,{outlined:"",dark:"",modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=s=>a.email=s),label:"Correo electr\xF3nico",type:"email",class:"q-mb-md input-dark"},null,8,["modelValue"]),o(v,{outlined:"",dark:"",modelValue:a.password,"onUpdate:modelValue":e[2]||(e[2]=s=>a.password=s),label:"Contrase\xF1a",type:"password",class:"q-mb-md input-dark"},null,8,["modelValue"]),o(w,{modelValue:a.termsAccepted,"onUpdate:modelValue":e[3]||(e[3]=s=>a.termsAccepted=s),color:"white",dark:"",class:"q-mb-md terms-checkbox"},{default:l(()=>[d("span",q,[e[6]||(e[6]=m(" He le\xEDdo y acepto los ",-1)),o(n,{flat:"","no-caps":"",class:"terms-link-inline",onClick:a.goToTerms},{default:l(()=>[...e[4]||(e[4]=[m(" T\xE9rminos y Condiciones ",-1)])]),_:1},8,["onClick"]),e[7]||(e[7]=m(" y el ",-1)),o(n,{flat:"","no-caps":"",class:"terms-link-inline",onClick:a.goToPrivacy},{default:l(()=>[...e[5]||(e[5]=[m(" Aviso de Privacidad ",-1)])]),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),o(n,{label:"Registrar",color:"white","text-color":"black",type:"submit",class:"register-btn",disable:!a.termsAccepted},null,8,["disable"]),a.error?(f(),b("div",I,V(a.error),1)):_("",!0),a.success?(f(),b("div",S," \xA1Registro exitoso! Por favor revisa el correo que te hemos enviado. ")):_("",!0)]),_:1},8,["onSubmit"]),d("div",U,[o(n,{flat:"",label:"\xBFYa tienes una cuenta? Iniciar sesi\xF3n",color:"white",class:"register-link",onClick:a.goToLogin},null,8,["onClick"]),d("div",D,[o(n,{flat:"",label:"T\xE9rminos y Condiciones",color:"white",class:"legal-link",onClick:a.goToTerms},null,8,["onClick"]),o(n,{flat:"",label:"Aviso de Privacidad",color:"white",class:"legal-link",onClick:a.goToPrivacy},null,8,["onClick"])])])])]),_:1})]),_:1})]),_:1})}var Z=B(L,[["render",E],["__scopeId","data-v-fa298d74"]]);export{Z as default};
