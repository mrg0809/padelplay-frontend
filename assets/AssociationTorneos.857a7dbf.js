import{Q as A}from"./QHeader.8ed599dc.js";import{x as B,r as v,h as N,a6 as p,o as i,z as l,A as a,d as o,B as n,D as h,a7 as y,a8 as Q,Q as w,ac as C,a as M,aa as S,ab as D,a9 as _,t as c,e as I}from"./index.44d6004f.js";import{Q as f}from"./QItemLabel.30a3dfed.js";import{Q as L,a as T}from"./QItem.cafd0d6f.js";import{Q as P}from"./QList.8f6ea51c.js";import{Q as q}from"./QPage.069cc100.js";import{Q as V,a as z}from"./QLayout.bdadfe99.js";import{u as E}from"./use-quasar.00fa2d0c.js";import{A as j,a as F}from"./AssociationTopMenu.55ec1150.js";import{N as H}from"./NotificationBell.03dce8ef.js";import{B as R}from"./BannerPromoScrolling.0ad337b6.js";import{b as G}from"./association.a03ae41f.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./QTabs.02ad9b81.js";import"./rtl.276c3f1b.js";import"./QFooter.dec25843.js";import"./QBtnDropdown.9d90b70a.js";import"./QBtnGroup.0f4e86aa.js";import"./QMenu.aa52843c.js";import"./position-engine.d7eef48c.js";import"./selection.ab0d7921.js";import"./haptics.bd260566.js";import"./QBadge.182a08f3.js";import"./api.dcb17b1f.js";const K={name:"AssociationTorneos",components:{AssociationNavigationMenu:j,AssociationTopMenu:F,NotificationBell:H,BannerPromoScrolling:R},setup(){E();const m=B(),e=v([]),d=v(!0),t=()=>m.push("/dashboard/association"),g=()=>m.push("/association/torneos/crear"),b=r=>m.push(`/association/torneos/${r}`),u=async()=>{d.value=!0;try{const r=await G();e.value=r.data||[]}catch(r){console.error("Error loading tournaments:",r),e.value=[]}finally{d.value=!1}};return N(u),{tournaments:e,loading:d,goToDashboard:t,goToCreate:g,goToManage:b,loadTournaments:u}}},O={class:"header-content"},U={class:"greeting"},W={class:"header-icons"},X={class:"row justify-between items-center q-mb-md"};function Y(m,e,d,t,g,b){const u=p("NotificationBell"),r=p("AssociationTopMenu"),x=p("BannerPromoScrolling"),k=p("AssociationNavigationMenu");return i(),l(V,{view:"hHh lpR fFf",class:"text-white"},{default:a(()=>[o(A,{elevated:"",class:"text-white"},{default:a(()=>[n("div",O,[n("div",U,[n("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:e[0]||(e[0]=(...s)=>t.goToDashboard&&t.goToDashboard(...s))}),e[1]||(e[1]=n("span",{class:"text-subtitle1"},"Torneos",-1))]),n("div",W,[o(u),o(r)])]),o(x)]),_:1}),o(z,null,{default:a(()=>[o(q,{class:"q-pa-md"},{default:a(()=>[n("div",X,[e[2]||(e[2]=n("div",{class:"text-h5"},"Torneos de la asociaci\xF3n",-1)),o(h,{color:"primary",icon:"add",label:"Crear torneo",onClick:t.goToCreate},null,8,["onClick"])]),t.loading?(i(),l(y,{key:0,flat:"",bordered:"",class:"bg-transparent text-white"},{default:a(()=>[o(Q,{class:"text-center"},{default:a(()=>[o(w,{color:"primary",size:"40px"})]),_:1})]),_:1})):t.tournaments.length?(i(),l(P,{key:2,bordered:"",class:"rounded-borders bg-transparent"},{default:a(()=>[(i(!0),M(D,null,S(t.tournaments,s=>(i(),l(L,{key:s.id,class:"q-mb-sm bg-grey-9",clickable:"",onClick:Z=>t.goToManage(s.id)},{default:a(()=>[o(T,null,{default:a(()=>[o(f,{class:"text-weight-medium"},{default:a(()=>[_(c(s.name),1)]),_:2},1024),o(f,{caption:""},{default:a(()=>[_(c(s.start_date)+" \xB7 "+c(s.system),1)]),_:2},1024),s.league?(i(),l(f,{key:0,caption:""},{default:a(()=>[_(c(s.league.name),1)]),_:2},1024)):I("",!0),o(f,{caption:""},{default:a(()=>[_("Estado: "+c(s.status==="closed"?"Cerrado":"Abierto"),1)]),_:2},1024)]),_:2},1024),o(T,{side:""},{default:a(()=>[o(C,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})):(i(),l(y,{key:1,flat:"",bordered:"",class:"bg-grey-9 text-white"},{default:a(()=>[o(Q,{class:"text-center"},{default:a(()=>[o(C,{name:"o_emoji_events",size:"48px",class:"q-mb-sm"}),e[3]||(e[3]=n("p",null,"No hay torneos. Crea uno (ligado a una liga o aut\xF3nomo).",-1)),o(h,{color:"primary",label:"Crear torneo",onClick:t.goToCreate},null,8,["onClick"])]),_:1})]),_:1}))]),_:1})]),_:1}),o(k)]),_:1})}var xo=J(K,[["render",Y],["__scopeId","data-v-07787d21"]]);export{xo as default};
