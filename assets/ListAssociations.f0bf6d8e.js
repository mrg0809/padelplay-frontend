import{Q as B}from"./QHeader.289f0645.js";import{r as v,x as D,y as w,h as A,w as P,a6 as p,o as i,z as l,A as e,d as s,B as n,E as L,ac as I,a as h,aa as S,ab as q,a9 as u,t as d,e as y}from"./index.687b44e8.js";import{Q as C,a as N}from"./QItem.eb9291fb.js";import{Q as _}from"./QItemLabel.bbebea39.js";import{Q as V}from"./QList.1288e946.js";import{Q as T}from"./QSpinnerDots.ed8017b0.js";import{Q as E}from"./QPage.fcc9aae1.js";import{Q as M,a as z}from"./QLayout.30990248.js";import{u as F}from"./use-quasar.ba375293.js";import{n as H}from"./navigationUtils.2c4b9dee.js";import{p as x}from"./association.b92d73c6.js";import{P as R}from"./PlayerNavigationMenu.1a7d2e68.js";import{N as U}from"./NotificationBell.9fdba392.js";import{B as j}from"./BannerPromoScrolling.1700e538.js";import{D as G}from"./DesktopNavigation.642093f4.js";import{_ as J}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.1c42dce4.js";import"./QTabs.979bee57.js";import"./rtl.276c3f1b.js";import"./QFooter.b7b22f15.js";import"./QBadge.0c3a126f.js";import"./QTooltip.a50ac131.js";import"./position-engine.46674690.js";import"./selection.0f785986.js";const K={name:"ListAssociations",components:{PlayerNavigationMenu:R,BannerPromoScrolling:j,NotificationBell:U,DesktopNavigation:G},setup(){const c=v([]),r=D(),f=v(""),o=v(!1),g=F(),Q=w(),m=async t=>{o.value=!0;try{const a=await x(t||null);c.value=a.data||[]}catch(a){console.error("Error al buscar asociaciones:",a),g.notify({type:"negative",message:"Error durante la b\xFAsqueda."}),c.value=[]}finally{o.value=!1}};return A(async()=>{o.value=!0;try{const t=await x();c.value=t.data||[]}catch(t){console.error("Error al cargar asociaciones:",t),g.notify({type:"negative",message:"No se pudieron cargar las asociaciones."}),c.value=[]}finally{o.value=!1}}),P(f,async t=>{await m(t)}),{associations:c,searchQuery:f,searching:o,searchAssociations:m,viewAssociationDetails:t=>{r.push({path:`/player/associations/${t}`})},goToDashboard:()=>{H(r,Q)}}}},O={class:"header-content"},W={class:"greeting"},X={class:"header-icons"},Y={class:"search-bar"},Z={class:"associations-list"},$=["src"],aa={key:1,class:"text-center q-pa-md"},oa={key:2,class:"text-center q-pa-md"};function ea(c,r,f,o,g,Q){const m=p("NotificationBell"),b=p("BannerPromoScrolling"),k=p("PlayerNavigationMenu"),t=p("DesktopNavigation");return i(),l(M,{view:"hHh lpR fFf",class:"text-white"},{default:e(()=>[s(B,{elevated:"",class:"text-white"},{default:e(()=>[n("div",O,[n("div",W,[n("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:r[0]||(r[0]=(...a)=>o.goToDashboard&&o.goToDashboard(...a))})]),n("div",X,[s(m)])]),s(b)]),_:1}),s(z,null,{default:e(()=>[s(E,{class:"q-pa-md"},{default:e(()=>[n("div",Y,[s(L,{modelValue:o.searchQuery,"onUpdate:modelValue":r[1]||(r[1]=a=>o.searchQuery=a),filled:"",dense:"",placeholder:"Buscar asociaci\xF3n por nombre",onInput:o.searchAssociations,class:"text-dark",debounce:"300"},{prepend:e(()=>[s(I,{name:"search",class:"text-primary",color:"black"})]),_:1},8,["modelValue","onInput"])]),n("div",Z,[o.associations.length>0?(i(),l(V,{key:0,class:"q-mt-md"},{default:e(()=>[(i(!0),h(q,null,S(o.associations,a=>(i(),l(C,{key:a.id,clickable:"",onClick:sa=>o.viewAssociationDetails(a.id),class:"association-card"},{default:e(()=>[s(N,{avatar:""},{default:e(()=>[n("img",{src:a.logo_url||"/logo.jpeg",alt:"Association Logo",class:"association-logo"},null,8,$)]),_:2},1024),s(N,null,{default:e(()=>[s(_,{class:"association-name"},{default:e(()=>[u(d(a.name),1)]),_:2},1024),a.description?(i(),l(_,{key:0,caption:""},{default:e(()=>[u(d(a.description.substring(0,100))+d(a.description.length>100?"...":""),1)]),_:2},1024)):y("",!0),a.address?(i(),l(_,{key:1,caption:""},{default:e(()=>[u(d(a.address),1)]),_:2},1024)):y("",!0),a.membership_price?(i(),l(_,{key:2,caption:""},{default:e(()=>[u(" Membres\xEDa: $"+d(a.membership_price),1)]),_:2},1024)):y("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})):o.searching?(i(),h("div",aa,[s(T,{color:"primary",size:"xl"}),r[2]||(r[2]=n("div",{class:"q-mt-md"},"Buscando asociaciones...",-1))])):(i(),h("div",oa,"No se encontraron asociaciones."))])]),_:1})]),_:1}),s(k),s(t)]),_:1})}var Aa=J(K,[["render",ea],["__scopeId","data-v-43965e3b"]]);export{Aa as default};
