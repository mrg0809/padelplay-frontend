import{a6 as h,o as d,z as f,A as e,d as t,ac as i,a9 as n,D as x,B as s,a7 as m,a8 as c,a as u,aa as b,ab as Q,e as v,t as l}from"./index.673cf58d.js";import{Q as w}from"./QToolbarTitle.073efba4.js";import{Q as q}from"./QToolbar.5cbbc300.js";import{Q as C}from"./QHeader.08eb5fd8.js";import{Q as A}from"./QBanner.75bf9cfb.js";import{Q as k}from"./QPage.1da70bf2.js";import{Q as S,a as N}from"./QLayout.6bdb52fd.js";import{g as T}from"./admin.929dac80.js";import{A as B}from"./AdminNavigationMenu.5f23d4e4.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.5f33f013.js";import"./QTabs.decd7594.js";import"./rtl.276c3f1b.js";import"./QFooter.925a22ea.js";const V={name:"AdminStats",components:{AdminNavigationMenu:B},data(){return{stats:{},loading:!1,error:null}},async mounted(){await this.loadStats()},methods:{async loadStats(){this.loading=!0,this.error=null;try{this.stats=await T()}catch(r){this.error="Error al cargar las estad\xEDsticas: "+r.message,console.error("Error loading admin stats:",r)}finally{this.loading=!1}},formatUserType(r){return{player:"Jugadores",club:"Clubes",admin:"Administradores",superuser:"Superusuarios"}[r]||r},formatCurrency(r){return r?new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(r):"0.00"}}},E={class:"q-pa-md"},I={class:"row q-gutter-md"},P={class:"col-md-6 col-sm-12"},z={class:"text-h6 text-white"},F={class:"row q-gutter-sm"},R={class:"stat-item"},U={class:"stat-number"},D={class:"stat-label"},H={class:"col-md-6 col-sm-12"},L={class:"text-h6 text-white"},X={class:"text-h3 text-primary q-mt-md"},G={class:"col-md-6 col-sm-12"},J={class:"text-h6 text-white"},j={class:"text-h3 text-positive q-mt-md"},K={class:"text-caption text-grey-4"},O={class:"col-md-6 col-sm-12"},W={class:"text-h6 text-white"},Y={class:"text-h3 text-secondary q-mt-md"},Z={key:0,class:"q-mt-md"};function $(r,a,ss,ts,o,_){const g=h("AdminNavigationMenu");return d(),f(S,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:e(()=>[t(C,{elevated:"",class:"bg-primary text-white"},{default:e(()=>[t(q,null,{default:e(()=>[t(w,null,{default:e(()=>[t(i,{name:"analytics",class:"q-mr-sm"}),a[0]||(a[0]=n(" Estad\xEDsticas Generales ",-1))]),_:1}),t(x,{flat:"",icon:"refresh",onClick:_.loadStats,loading:o.loading,label:"Actualizar"},null,8,["onClick","loading"])]),_:1})]),_:1}),t(N,null,{default:e(()=>[t(k,{padding:"",class:"bg-dark"},{default:e(()=>[s("div",E,[a[7]||(a[7]=s("div",{class:"row q-mb-lg"},[s("div",{class:"col"},[s("p",{class:"text-grey-4"},"Vista general de la plataforma PadelPlay")])],-1)),s("div",I,[s("div",P,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",z,[t(i,{name:"people",class:"q-mr-sm"}),a[1]||(a[1]=n(" Usuarios por Tipo ",-1))])]),_:1}),o.stats.users_by_type?(d(),f(c,{key:0},{default:e(()=>[s("div",F,[(d(!0),u(Q,null,b(o.stats.users_by_type,(y,p)=>(d(),u("div",{key:p,class:"col-6"},[s("div",R,[s("div",U,l(y),1),s("div",D,l(_.formatUserType(p)),1)])]))),128))])]),_:1})):v("",!0)]),_:1})]),s("div",H,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",L,[t(i,{name:"business",class:"q-mr-sm"}),a[2]||(a[2]=n(" Clubes Totales ",-1))]),s("div",X,l(o.stats.total_clubs||0),1),a[3]||(a[3]=s("div",{class:"text-caption text-grey-4"}," Clubes registrados en la plataforma ",-1))]),_:1})]),_:1})]),s("div",G,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",J,[t(i,{name:"account_balance_wallet",class:"q-mr-sm"}),a[4]||(a[4]=n(" Transacciones (30 d\xEDas) ",-1))]),s("div",j,l(o.stats.transactions_last_30_days||0),1),s("div",K," Ingresos: $"+l(_.formatCurrency(o.stats.revenue_last_30_days)),1)]),_:1})]),_:1})]),s("div",O,[t(m,{class:"stats-card"},{default:e(()=>[t(c,null,{default:e(()=>[s("div",W,[t(i,{name:"event_seat",class:"q-mr-sm"}),a[5]||(a[5]=n(" Reservas (30 d\xEDas) ",-1))]),s("div",Y,l(o.stats.reservations_last_30_days||0),1),a[6]||(a[6]=s("div",{class:"text-caption text-grey-4"}," Reservas realizadas ",-1))]),_:1})]),_:1})])]),o.error?(d(),u("div",Z,[t(A,{class:"bg-negative text-white"},{avatar:e(()=>[t(i,{name:"error"})]),default:e(()=>[n(" "+l(o.error),1)]),_:1})])):v("",!0)])]),_:1})]),_:1}),t(g)]),_:1})}var vs=M(V,[["render",$],["__scopeId","data-v-4960087d"]]);export{vs as default};
