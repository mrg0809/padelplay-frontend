import{q as f,G as y,H as n,v as a,I as i,J as p,ab as b,ac as u,aW as c,K as d}from"./index.3f1076a3.js";import{Q as g}from"./QHeader.435fe33d.js";import{Q as s}from"./QSelect.5a18ef61.js";import{Q as I}from"./QForm.336a6287.js";import{Q as h}from"./QPage.76b9f650.js";import{Q as v,a as _}from"./QLayout.fe9d4509.js";import"./userStore.83e3996f.js";import{n as V}from"./navigationUtils.2c4b9dee.js";import{a as m}from"./api.2af71db3.js";import{C as Q}from"./countryUtils.f07e8a77.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.7993a070.js";import"./QItem.b93d6a07.js";import"./QItemLabel.87a3fa18.js";import"./QMenu.902d7e0c.js";import"./position-engine.56b90783.js";import"./selection.499e7988.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./pinia.79532550.js";const x={data(){return{playerInfo:{first_name:"",last_name:"",birth_date:"2000-01-01",phone:"",gender:null,preferred_hand:null,position:null,category:"sexta",nationality:null},countries:Q,genderOptions:[{label:"Masculino",value:"masculino"},{label:"Femenino",value:"femenino"},{label:"Prefiero no decirlo",value:"prefiero no decirlo"}],handOptions:[{label:"Diestro",value:"diestro"},{label:"Zurdo",value:"zurdo"},{label:"Ambas",value:"ambas"}],positionOptions:[{label:"Rev\xE9s",value:"reves"},{label:"Derecho",value:"derecho"},{label:"Ambos lados",value:"ambos lados"}],categoryOptions:[{label:"Primera",value:"primera"},{label:"Segunda",value:"segunda"},{label:"Tercera",value:"tercera"},{label:"Cuarta",value:"cuarta"},{label:"Quinta",value:"quinta"},{label:"Sexta",value:"sexta"},{label:"Profesional",value:"profesional"}]}},methods:{async fetchPlayerInfo(){try{const r=await m.get("/players/");if(this.playerInfo=r.data,this.playerInfo.birth_date){const e=new Date(this.playerInfo.birth_date+"T00:00:00");this.playerInfo.birth_date=e.toISOString().split("T")[0]}}catch(r){console.error("Error al obtener informaci\xF3n del jugador:",r)}},async savePlayerInfo(){try{const r={...this.playerInfo,gender:typeof this.playerInfo.gender=="object"?this.playerInfo.gender.value:this.playerInfo.gender,preferred_hand:typeof this.playerInfo.preferred_hand=="object"?this.playerInfo.preferred_hand.value:this.playerInfo.preferred_hand,position:typeof this.playerInfo.position=="object"?this.playerInfo.position.value:this.playerInfo.position,category:typeof this.playerInfo.category=="object"?this.playerInfo.category.value:this.playerInfo.category};await m.put("/players/",r),this.$q.notify({type:"positive",message:"Informaci\xF3n actualizada con \xE9xito"}),this.$router.push("/player/perfil")}catch(r){console.error("Error al guardar informaci\xF3n del jugador:",r),this.$q.notify({type:"negative",message:"Error al guardar informaci\xF3n"})}},goBack(){this.$router.back()},goToDashboard(){V(this.$router,this.userStore)}},mounted(){this.fetchPlayerInfo()}},P={class:"header-content"},k={class:"greeting"},C={class:"header-icons"};function w(r,e,O,S,o,t){return f(),y(v,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:n(()=>[a(g,{elevated:"",class:"bg-primary text-white"},{default:n(()=>[i("div",P,[i("div",k,[i("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:e[0]||(e[0]=(...l)=>t.goToDashboard&&t.goToDashboard(...l))})]),i("div",C,[a(p,{flat:"",round:"",icon:"close",onClick:t.goBack},null,8,["onClick"])])])]),_:1}),a(_,null,{default:n(()=>[a(h,{padding:""},{default:n(()=>[e[10]||(e[10]=i("div",{class:"text-h6 text-center text-black q-mb-md"},"Editar Informaci\xF3n del Jugador",-1)),a(b,{flat:"",bordered:"",class:"text-white global-card"},{default:n(()=>[a(u),a(u,null,{default:n(()=>[a(I,{onSubmit:c(t.savePlayerInfo,["prevent"]),class:"form-container"},{default:n(()=>[a(d,{modelValue:o.playerInfo.first_name,"onUpdate:modelValue":e[1]||(e[1]=l=>o.playerInfo.first_name=l),label:"Nombre",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),a(d,{modelValue:o.playerInfo.last_name,"onUpdate:modelValue":e[2]||(e[2]=l=>o.playerInfo.last_name=l),label:"Apellido",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),a(d,{modelValue:o.playerInfo.birth_date,"onUpdate:modelValue":e[3]||(e[3]=l=>o.playerInfo.birth_date=l),label:"Fecha de Nacimiento",type:"date",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),a(d,{modelValue:o.playerInfo.phone,"onUpdate:modelValue":e[4]||(e[4]=l=>o.playerInfo.phone=l),label:"Tel\xE9fono",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),a(s,{modelValue:o.playerInfo.gender,"onUpdate:modelValue":e[5]||(e[5]=l=>o.playerInfo.gender=l),options:o.genderOptions,label:"G\xE9nero",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),a(s,{modelValue:o.playerInfo.preferred_hand,"onUpdate:modelValue":e[6]||(e[6]=l=>o.playerInfo.preferred_hand=l),options:o.handOptions,label:"Mano Preferida",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),a(s,{modelValue:o.playerInfo.position,"onUpdate:modelValue":e[7]||(e[7]=l=>o.playerInfo.position=l),options:o.positionOptions,label:"Posici\xF3n en Pista",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),a(s,{modelValue:o.playerInfo.category,"onUpdate:modelValue":e[8]||(e[8]=l=>o.playerInfo.category=l),options:o.categoryOptions,label:"Categor\xEDa",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),a(s,{modelValue:o.playerInfo.nationality,"onUpdate:modelValue":e[9]||(e[9]=l=>o.playerInfo.nationality=l),options:o.countries,label:"Nacionalidad",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),a(p,{type:"submit",label:"Guardar",color:"primary",class:"q-mt-md full-width",onClick:t.savePlayerInfo},null,8,["onClick"])]),_:1})]),_:1})]),_:1})}var Y=q(x,[["render",w],["__scopeId","data-v-0d8c8022"]]);export{Y as default};
