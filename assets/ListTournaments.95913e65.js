import{Q as D}from"./QHeader.b5531e4e.js";import{F,r as m,w as L,B as S,a8 as x,q as u,G as I,H as n,v as o,I as l,ae as d,ab as s,a9 as N,s as g,ad as G,ac as M,aa as O,x as f}from"./index.f175e85d.js";import{Q as C,a as _}from"./QItem.34e65fde.js";import{Q as T}from"./QSelect.ae69f148.js";import{Q as U}from"./QSpinnerGears.8a59498f.js";import{Q as E}from"./QPage.80e57fbc.js";import{Q as H,a as A}from"./QLayout.0fe9a5f1.js";import{f as R}from"./tournaments.fea128c2.js";import{f as j}from"./commun.2e63797b.js";import{P as J}from"./PlayerNavigationMenu.5d79498c.js";import{B as K}from"./BannerPromoScrolling.98df3972.js";import{D as W}from"./DesktopNavigation.8baf6787.js";import{_ as X}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.0b7e576e.js";import"./QItemLabel.da316464.js";import"./QMenu.2e28105c.js";import"./position-engine.eb8a1775.js";import"./selection.b09b6f35.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./supabase.869de744.js";import"./QTabs.16df4bb6.js";import"./QFooter.a145b798.js";import"./admin.dfdc6f99.js";import"./api.92f95132.js";import"./QTooltip.1f0812bd.js";const Y={name:"ListTournaments",components:{PlayerNavigationMenu:J,BannerPromoScrolling:K,DesktopNavigation:W},setup(){const y=F(),e=m([]),v=m({city:null,category:null,gender:null}),t=m([]),c=m([]),Q=m(["primera","segunda","tercera","cuarta","quinta","libre","otro","open"]),k=m(["mixto","varonil","femenil"]),p=m(!1),b=async()=>{p.value=!0;try{e.value=await R(v.value)}catch(r){console.error("Error loading tournaments:",r),e.value=[]}finally{p.value=!1}},a=async()=>{try{const r=await j();t.value=r.map(i=>typeof i=="string"?i:i.value||i.label||i),c.value=t.value}catch(r){console.error("Error loading cities:",r),t.value=[],c.value=[]}},w=(r,i)=>{if(r===""){i(()=>{c.value=t.value});return}i(()=>{const B=r.toLowerCase();c.value=t.value.filter(z=>z.toLowerCase().indexOf(B)>-1)})},q=r=>y.push({name:"TournamentDetails",params:{tournamentId:r}}),V=()=>y.push("/padelite"),P=r=>r&&r.charAt(0).toUpperCase()+r.slice(1);return L(v,b,{deep:!0}),S(()=>{b(),a()}),{tournaments:e,loadingTournaments:p,filters:v,cityOptions:c,categories:Q,genders:k,goToTournamentDetails:q,goToPadelite:V,filterCityFn:w,capitalizeText:P}}},Z={class:"row q-col-gutter-md q-mb-lg"},h={class:"col-12 col-sm-4"},$={class:"col-12 col-sm-4"},ee={class:"col-12 col-sm-4"},oe={key:0,class:"text-center q-pa-xl"},te={key:1,class:"text-center text-grey-5 q-pa-xl"},le={key:2,class:"tournaments-list row q-col-gutter-md"},ae={class:"tennis-yellow q-mt-none q-mb-sm"},ne={class:"q-mb-xs"};function re(y,e,v,t,c,Q){const k=x("BannerPromoScrolling"),p=x("PlayerNavigationMenu"),b=x("DesktopNavigation");return u(),I(H,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:n(()=>[o(D,{elevated:"",class:"text-white"},{default:n(()=>[e[6]||(e[6]=l("div",{class:"header-content"},[l("div",{class:"greeting"},[l("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon"})]),l("div",{class:"header-icons"})],-1)),o(k)]),_:1}),o(A,null,{default:n(()=>[o(E,{class:"q-pa-md"},{default:n(()=>[l("div",Z,[l("div",h,[o(T,{modelValue:t.filters.city,"onUpdate:modelValue":e[0]||(e[0]=a=>t.filters.city=a),options:t.cityOptions,label:"Ciudad",outlined:"",dense:"","options-dense":"",clearable:"",onFilter:t.filterCityFn,onClear:e[1]||(e[1]=a=>t.filters.city=null),dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black"},{prepend:n(()=>[o(d,{name:"location_on",color:"black"})]),"no-option":n(()=>[o(C,null,{default:n(()=>[o(_,{class:"text-grey"},{default:n(()=>e[7]||(e[7]=[s(" No hay ciudades disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter"])]),l("div",$,[o(T,{modelValue:t.filters.category,"onUpdate:modelValue":e[2]||(e[2]=a=>t.filters.category=a),options:t.categories,label:"Categor\xEDa",outlined:"",dense:"","options-dense":"",clearable:"",dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black",onClear:e[3]||(e[3]=a=>t.filters.category=null)},{prepend:n(()=>[o(d,{name:"category",color:"black"})]),"no-option":n(()=>[o(C,null,{default:n(()=>[o(_,{class:"text-grey"},{default:n(()=>e[8]||(e[8]=[s(" No hay categor\xEDas ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])]),l("div",ee,[o(T,{modelValue:t.filters.gender,"onUpdate:modelValue":e[4]||(e[4]=a=>t.filters.gender=a),options:t.genders,label:"G\xE9nero",outlined:"",dense:"","options-dense":"",clearable:"",dark:"",color:"black","label-color":"black","popup-content-class":"bg-dark text-black",onClear:e[5]||(e[5]=a=>t.filters.gender=null)},{prepend:n(()=>[o(d,{name:"wc",color:"black"})]),"no-option":n(()=>[o(C,null,{default:n(()=>[o(_,{class:"text-grey"},{default:n(()=>e[9]||(e[9]=[s(" No hay g\xE9neros ")])),_:1})]),_:1})]),_:1},8,["modelValue","options"])])]),o(N,{class:"q-mb-md",clickable:"",bordered:"",onClick:t.goToPadelite},null,8,["onClick"]),t.loadingTournaments?(u(),g("div",oe,[o(U,{color:"primary",size:"xl"}),e[10]||(e[10]=l("p",{class:"q-mt-md"},"Buscando torneos...",-1))])):t.tournaments.length===0?(u(),g("div",te,[o(d,{name:"event_busy",size:"64px"}),e[11]||(e[11]=l("p",null,"No se encontraron torneos con los filtros seleccionados.",-1))])):(u(),g("div",le,[(u(!0),g(G,null,M(t.tournaments,a=>(u(),g("div",{key:a.id,class:"col-12 col-sm-6 col-md-4"},[o(N,{class:"tournament-card full-height",clickable:"",bordered:"",onClick:w=>t.goToTournamentDetails(a.id)},{default:n(()=>[o(O,null,{default:n(()=>[l("h4",ae,f(a.name),1),l("p",ne,[l("strong",null,[o(d,{name:"mdi-calendar",size:"xs"}),e[12]||(e[12]=s(" Fecha:"))]),s(" "+f(a.start_date)+" ",1),e[16]||(e[16]=l("br",null,null,-1)),l("strong",null,[o(d,{name:"mdi-map-marker",size:"xs"}),e[13]||(e[13]=s(" Ciudad:"))]),s(" "+f(a.clubs.city||"N/A")+" ",1),e[17]||(e[17]=l("br",null,null,-1)),l("strong",null,[o(d,{name:"mdi-trophy-variant-outline",size:"xs"}),e[14]||(e[14]=s(" Cat:"))]),s(" "+f(t.capitalizeText(a.category))+" ",1),e[18]||(e[18]=l("br",null,null,-1)),l("strong",null,[o(d,{name:"mdi-gender-male-female",size:"xs"}),e[15]||(e[15]=s(" Gen:"))]),s(" "+f(t.capitalizeText(a.gender)),1)])]),_:2},1024)]),_:2},1032,["onClick"])]))),128))]))]),_:1})]),_:1}),o(p),o(b)]),_:1})}var Fe=X(Y,[["render",re],["__scopeId","data-v-97bad600"]]);export{Fe as default};
