import{q as f,G as y,H as n,v as o,I as t,J as p,a9 as b,aa as u,aU as c,K as s}from"./index.dacf2a6b.js";import{Q as I}from"./QHeader.3f6f4adb.js";import{Q as i}from"./QSelect.f4fb83ed.js";import{Q as g}from"./QForm.7386325a.js";import{Q as h}from"./QPage.7ba51001.js";import{Q as v,a as V}from"./QLayout.0bd35f57.js";import{a as m}from"./api.2af71db3.js";import{C as _}from"./countryUtils.f07e8a77.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.e209e73d.js";import"./QItem.49b611a2.js";import"./QItemLabel.c8775daa.js";import"./QMenu.aa47f198.js";import"./position-engine.d074ff22.js";import"./selection.e059ad94.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";const q={data(){return{playerInfo:{first_name:"",last_name:"",birth_date:"2000-01-01",phone:"",gender:null,preferred_hand:null,position:null,category:"sexta",nationality:null},countries:_,genderOptions:[{label:"Masculino",value:"masculino"},{label:"Femenino",value:"femenino"},{label:"Prefiero no decirlo",value:"prefiero no decirlo"}],handOptions:[{label:"Diestro",value:"diestro"},{label:"Zurdo",value:"zurdo"},{label:"Ambas",value:"ambas"}],positionOptions:[{label:"Rev\xE9s",value:"reves"},{label:"Derecho",value:"derecho"},{label:"Ambos lados",value:"ambos lados"}],categoryOptions:[{label:"Primera",value:"primera"},{label:"Segunda",value:"segunda"},{label:"Tercera",value:"tercera"},{label:"Cuarta",value:"cuarta"},{label:"Quinta",value:"quinta"},{label:"Sexta",value:"sexta"},{label:"Profesional",value:"profesional"}]}},methods:{async fetchPlayerInfo(){try{const r=await m.get("/players/");if(this.playerInfo=r.data,this.playerInfo.birth_date){const e=new Date(this.playerInfo.birth_date+"T00:00:00");this.playerInfo.birth_date=e.toISOString().split("T")[0]}}catch(r){console.error("Error al obtener informaci\xF3n del jugador:",r)}},async savePlayerInfo(){try{const r={...this.playerInfo,gender:typeof this.playerInfo.gender=="object"?this.playerInfo.gender.value:this.playerInfo.gender,preferred_hand:typeof this.playerInfo.preferred_hand=="object"?this.playerInfo.preferred_hand.value:this.playerInfo.preferred_hand,position:typeof this.playerInfo.position=="object"?this.playerInfo.position.value:this.playerInfo.position,category:typeof this.playerInfo.category=="object"?this.playerInfo.category.value:this.playerInfo.category};await m.put("/players/",r),this.$q.notify({type:"positive",message:"Informaci\xF3n actualizada con \xE9xito"}),this.$router.push("/player/perfil")}catch(r){console.error("Error al guardar informaci\xF3n del jugador:",r),this.$q.notify({type:"negative",message:"Error al guardar informaci\xF3n"})}},goBack(){this.$router.back()}},mounted(){this.fetchPlayerInfo()}},x={class:"header-content"},P={class:"header-icons"};function C(r,e,k,U,l,d){return f(),y(v,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:n(()=>[o(I,{elevated:"",class:"bg-primary text-white"},{default:n(()=>[t("div",x,[e[9]||(e[9]=t("div",{class:"greeting"},[t("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon"})],-1)),t("div",P,[o(p,{flat:"",round:"",icon:"close",onClick:d.goBack},null,8,["onClick"])])])]),_:1}),o(V,null,{default:n(()=>[o(h,{padding:""},{default:n(()=>[e[10]||(e[10]=t("div",{class:"text-h6 text-center text-black q-mb-md"},"Editar Informaci\xF3n del Jugador",-1)),o(b,{flat:"",bordered:"",class:"text-white global-card"},{default:n(()=>[o(u),o(u,null,{default:n(()=>[o(g,{onSubmit:c(d.savePlayerInfo,["prevent"]),class:"form-container"},{default:n(()=>[o(s,{modelValue:l.playerInfo.first_name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.playerInfo.first_name=a),label:"Nombre",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),o(s,{modelValue:l.playerInfo.last_name,"onUpdate:modelValue":e[1]||(e[1]=a=>l.playerInfo.last_name=a),label:"Apellido",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),o(s,{modelValue:l.playerInfo.birth_date,"onUpdate:modelValue":e[2]||(e[2]=a=>l.playerInfo.birth_date=a),label:"Fecha de Nacimiento",type:"date",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),o(s,{modelValue:l.playerInfo.phone,"onUpdate:modelValue":e[3]||(e[3]=a=>l.playerInfo.phone=a),label:"Tel\xE9fono",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue"]),o(i,{modelValue:l.playerInfo.gender,"onUpdate:modelValue":e[4]||(e[4]=a=>l.playerInfo.gender=a),options:l.genderOptions,label:"G\xE9nero",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),o(i,{modelValue:l.playerInfo.preferred_hand,"onUpdate:modelValue":e[5]||(e[5]=a=>l.playerInfo.preferred_hand=a),options:l.handOptions,label:"Mano Preferida",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),o(i,{modelValue:l.playerInfo.position,"onUpdate:modelValue":e[6]||(e[6]=a=>l.playerInfo.position=a),options:l.positionOptions,label:"Posici\xF3n en Pista",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),o(i,{modelValue:l.playerInfo.category,"onUpdate:modelValue":e[7]||(e[7]=a=>l.playerInfo.category=a),options:l.categoryOptions,label:"Categor\xEDa",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"]),o(i,{modelValue:l.playerInfo.nationality,"onUpdate:modelValue":e[8]||(e[8]=a=>l.playerInfo.nationality=a),options:l.countries,label:"Nacionalidad",outlined:"",dense:"",class:"q-mb-md"},null,8,["modelValue","options"])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),o(p,{type:"submit",label:"Guardar",color:"primary",class:"q-mt-md full-width",onClick:d.savePlayerInfo},null,8,["onClick"])]),_:1})]),_:1})]),_:1})}var L=Q(q,[["render",C],["__scopeId","data-v-d9303dd4"]]);export{L as default};
