import{Q as P,a as S}from"./QToolbar.650a7ea6.js";import{a7 as D,F as x,r as d,B as E,a8 as J,q as V,G as w,H as t,v as r,ab as n,J as g,a9 as f,aa as v,I as l,x as u,K as _}from"./index.f4b048d5.js";import{Q as B}from"./QHeader.1a8268f2.js";import{Q as R}from"./QPage.32cdcdb3.js";import{Q as H,a as U}from"./QLayout.15cb15b1.js";import{u as F}from"./use-quasar.d3060e46.js";import{u as j}from"./summaryStore.8259a0b0.js";import"./api.2af71db3.js";import{D as G}from"./DesktopNavigation.3852daf4.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import"./pinia.d89995c8.js";import"./QTooltip.ff69e0a8.js";import"./position-engine.56c182b5.js";import"./selection.0df3e8f9.js";const O={components:{DesktopNavigation:G},setup(){const o=D(),a=x(),y=F(),e=d({name:o.query.tournamentName||"Torneo",start_date:o.query.startDate||"",start_time:o.query.startTime||"",price:o.query.pricePerPair||0,club_name:o.query.clubName||"Club"}),m=d(""),s=d(""),p=d(""),i=d(20),q=d(Number(e.value.price)+i.value),C=()=>{const c=localStorage.getItem("token");if(c){const N=c.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),I=JSON.parse(atob(N));m.value=I.email||"Jugador 1"}},k=async()=>{if(s.value!==p.value){y.notify({type:"negative",message:"Los emails del Jugador 2 no coinciden."});return}b()},b=()=>{const c={summaryTitle:"Inscripci\xF3n al Torneo",itemDetails:[{label:"Torneo",value:e.value.name},{label:"Fecha",value:e.value.start_date},{label:"Hora",value:e.value.start_time},{label:"Club",value:e.value.club_name},{label:"Jugador 1",value:m.value},{label:"Jugador 2",value:s.value}],baseData:{id:o.query.tournamentId,type:"tournament",price:Number(e.value.price),participants:1,clubId:o.query.clubId,recipient_user_id:o.query.clubUserId||null,tournament_id:o.query.tournamentId,player1_name:m.value,player2_email:s.value},commissionRate:4,showPublicToggle:!1,allowPaymentSplit:!1,extraData:{tournament_id:o.query.tournamentId,player1_name:m.value,player2_email:s.value,tournament_name:e.value.name}};j().setSummaryDetails(c),a.push({name:"OrderSummary"})},T=()=>{a.back()};return E(()=>{C()}),{tournament:e,player1Name:m,player2Email:s,player2EmailConfirm:p,commission:i,totalPrice:q,registerTeam:k,goBack:T,proceedToPayment:b}}};function A(o,a,y,e,m,s){const p=J("DesktopNavigation");return V(),w(H,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:t(()=>[r(B,{elevated:"",class:"bg-primary text-white"},{default:t(()=>[r(P,null,{default:t(()=>[r(S,null,{default:t(()=>a[2]||(a[2]=[n("Inscripci\xF3n al Torneo")])),_:1}),r(g,{flat:"",round:"",icon:"arrow_back",onClick:e.goBack,label:"REGRESAR"},null,8,["onClick"])]),_:1})]),_:1}),r(p),r(U,null,{default:t(()=>[r(R,{class:"q-pa-md"},{default:t(()=>[r(f,{class:"q-mb-md"},{default:t(()=>[r(v,null,{default:t(()=>[l("h4",null,u(e.tournament.name),1),l("p",null,[a[3]||(a[3]=l("strong",null,"Fecha:",-1)),n(" "+u(e.tournament.start_date),1)]),l("p",null,[a[4]||(a[4]=l("strong",null,"Hora:",-1)),n(" "+u(e.tournament.start_time),1)]),l("p",null,[a[5]||(a[5]=l("strong",null,"Club:",-1)),n(" "+u(e.tournament.club_name),1)]),l("p",null,[a[6]||(a[6]=l("strong",null,"Precio por pareja:",-1)),n(" $"+u(e.tournament.price),1)]),l("p",null,[a[7]||(a[7]=l("strong",null,"Comisi\xF3n:",-1)),n(" $"+u(e.commission),1)]),l("p",null,[a[8]||(a[8]=l("strong",null,"Total a pagar:",-1)),n(" $"+u(e.totalPrice),1)])]),_:1})]),_:1}),r(f,{class:"q-mb-md"},{default:t(()=>[r(v,null,{default:t(()=>[a[10]||(a[10]=l("h5",null,"Jugadores",-1)),l("p",null,[a[9]||(a[9]=l("strong",null,"Jugador 1:",-1)),n(" "+u(e.player1Name),1)]),r(_,{modelValue:e.player2Email,"onUpdate:modelValue":a[0]||(a[0]=i=>e.player2Email=i),label:"Email del Jugador 2",type:"email",outlined:"",color:"orange","label-color":"orange",standout:"",clearable:"",class:"q-mb-md",required:""},null,8,["modelValue"]),r(_,{modelValue:e.player2EmailConfirm,"onUpdate:modelValue":a[1]||(a[1]=i=>e.player2EmailConfirm=i),label:"Confirmar Email del Jugador 2",type:"email",outlined:"",color:"orange","label-color":"orange",standout:"",clearable:"",class:"q-mb-md",required:""},null,8,["modelValue"])]),_:1})]),_:1}),r(g,{label:"Inscribir Pareja",color:"primary",class:"full-width q-mt-md",onClick:e.registerTeam},null,8,["onClick"])]),_:1})]),_:1})]),_:1})}var ta=L(O,[["render",A],["__scopeId","data-v-414f1ca2"]]);export{ta as default};
