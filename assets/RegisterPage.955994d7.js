import{r as i,F as _,q as p,G as T,H as l,v as a,I as d,K as v,aT as C,ab as m,J as n,s as y,x as V,y as b}from"./index.f52eeb23.js";import{Q as w}from"./QForm.7e46820b.js";import{Q as x}from"./QPage.e3b227e5.js";import{Q as P,a as Q}from"./QLayout.cb0005f9.js";import{a as N}from"./api.2af71db3.js";import{_ as A}from"./plugin-vue_export-helper.21dcd24c.js";const q={name:"RegisterPage",setup(){const u=i(""),e=i(""),g=i(""),o=i(!1),r=i(null),c=i(!1),s=_();return{fullName:u,email:e,password:g,termsAccepted:o,error:r,success:c,register:async()=>{var f,k;if(r.value=null,c.value=!1,!o.value){r.value="Debe aceptar los T\xE9rminos y Condiciones y el Aviso de Privacidad para continuar.";return}try{await N.post("/auth/register",{full_name:u.value,email:e.value,password:g.value}),c.value=!0}catch(t){t.response&&t.response.data&&t.response.data.detail?r.value=t.response.data.detail:r.value="Ocurri\xF3 un error inesperado. Intenta de nuevo m\xE1s tarde.",console.error("Error al registrarse:",((k=(f=t.response)==null?void 0:f.data)==null?void 0:k.detail)||t.message)}},goToLogin:()=>{s.push("/")},goToTerms:()=>{s.push("/terms")},goToPrivacy:()=>{s.push("/privacy")}}}},L={class:"register-container"},R={class:"terms-text"},B={key:0,class:"error-message"},I={key:1,class:"success-message"},h={class:"register-links"},U={class:"legal-links"};function F(u,e,g,o,r,c){return p(),T(P,{view:"lHh Lpr lFf"},{default:l(()=>[a(Q,null,{default:l(()=>[a(x,{class:"register-page"},{default:l(()=>[d("div",L,[e[8]||(e[8]=d("img",{src:"/logo.jpeg",alt:"Logo",class:"register-logo"},null,-1)),a(w,{onSubmit:o.register,class:"register-form"},{default:l(()=>[a(v,{outlined:"",dark:"",modelValue:o.fullName,"onUpdate:modelValue":e[0]||(e[0]=s=>o.fullName=s),label:"Nombre completo",type:"text",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(v,{outlined:"",dark:"",modelValue:o.email,"onUpdate:modelValue":e[1]||(e[1]=s=>o.email=s),label:"Correo electr\xF3nico",type:"email",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(v,{outlined:"",dark:"",modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=s=>o.password=s),label:"Contrase\xF1a",type:"password",class:"q-mb-md input-dark"},null,8,["modelValue"]),a(C,{modelValue:o.termsAccepted,"onUpdate:modelValue":e[3]||(e[3]=s=>o.termsAccepted=s),color:"white",dark:"",class:"q-mb-md terms-checkbox"},{default:l(()=>[d("span",R,[e[6]||(e[6]=m(" He le\xEDdo y acepto los ")),a(n,{flat:"","no-caps":"",class:"terms-link-inline",onClick:o.goToTerms},{default:l(()=>e[4]||(e[4]=[m(" T\xE9rminos y Condiciones ")])),_:1},8,["onClick"]),e[7]||(e[7]=m(" y el ")),a(n,{flat:"","no-caps":"",class:"terms-link-inline",onClick:o.goToPrivacy},{default:l(()=>e[5]||(e[5]=[m(" Aviso de Privacidad ")])),_:1},8,["onClick"])])]),_:1},8,["modelValue"]),a(n,{label:"Registrar",color:"white","text-color":"black",type:"submit",class:"register-btn",disable:!o.termsAccepted},null,8,["disable"]),o.error?(p(),y("div",B,V(o.error),1)):b("",!0),o.success?(p(),y("div",I," \xA1Registro exitoso! Por favor revisa el correo que te hemos enviado. ")):b("",!0)]),_:1},8,["onSubmit"]),d("div",h,[a(n,{flat:"",label:"\xBFYa tienes una cuenta? Iniciar sesi\xF3n",color:"white",class:"register-link",onClick:o.goToLogin},null,8,["onClick"]),d("div",U,[a(n,{flat:"",label:"T\xE9rminos y Condiciones",color:"white",class:"legal-link",onClick:o.goToTerms},null,8,["onClick"]),a(n,{flat:"",label:"Aviso de Privacidad",color:"white",class:"legal-link",onClick:o.goToPrivacy},null,8,["onClick"])])])])]),_:1})]),_:1})]),_:1})}var z=A(q,[["render",F],["__scopeId","data-v-33733a24"]]);export{z as default};
