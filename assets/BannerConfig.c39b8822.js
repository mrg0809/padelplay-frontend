import{au as Je,r as Q,j as o,b8 as bt,ba as Be,X as ft,as as Ze,a$ as et,E as Le,bg as pt,p as s,bd as tt,bo as at,k as rt,bp as ht,w as Fe,O as kt,bq as Ct,br as xt,b5 as W,ae as E,n as je,a8 as _t,q as de,G as Ae,H as C,v as f,ab as H,I as b,a9 as Te,aa as $e,bs as Ue,x as ve,K as Ie,s as yt,y as Re,J as Pe}from"./index.ab1a8de1.js";import{Q as wt,a as Mt}from"./QToolbar.f28653e7.js";import{Q as qt}from"./QHeader.69bcea6e.js";import{T as lt,Q as ze}from"./QPopupProxy.d119ba2e.js";import{b as ee}from"./format.de7e9769.js";import{a as le,Q as De}from"./QTabs.c3b133c4.js";import{Q as Ee,a as St}from"./QTabPanel.1a96f54e.js";import{u as Vt}from"./use-render-cache.770e5fe8.js";import{Q as Bt}from"./QForm.29f93bb6.js";import{Q as He}from"./QBanner.b2d2f302.js";import{Q as At}from"./QPage.5e199c97.js";import{Q as Tt,a as $t}from"./QLayout.c9e50c75.js";import{e as It,u as Rt}from"./admin.dfdc6f99.js";import{A as Pt}from"./AdminNavigationMenu.2eb99e82.js";import{_ as Et}from"./plugin-vue_export-helper.21dcd24c.js";import"./selection.134da567.js";import"./QMenu.062eff8f.js";import"./position-engine.d1f085ce.js";import"./rtl.276c3f1b.js";import"./use-panel.104d6abf.js";import"./api.92f95132.js";import"./QFooter.2ac9c73e.js";const Oe="q-slider__marker-labels",Qt=e=>({value:e}),Ft=({marker:e})=>s("div",{key:e.value,style:e.style,class:e.classes},e.label),ot=[34,37,40,33,39,38],Lt={...Ze,...et,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:e=>e>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Nt=["pan","update:modelValue","change"];function jt({updateValue:e,updatePosition:l,getDragging:i,formAttrs:u}){const{props:t,emit:g,slots:k,proxy:{$q:c}}=Le(),P=Je(t,c),_=at(u),V=Q(!1),$=Q(!1),n=Q(!1),y=Q(!1),I=o(()=>t.vertical===!0?"--v":"--h"),X=o(()=>"-"+(t.switchLabelSide===!0?"switched":"standard")),L=o(()=>t.vertical===!0?t.reverse===!0:t.reverse!==(c.lang.rtl===!0)),F=o(()=>isNaN(t.innerMin)===!0||t.innerMin<t.min?t.min:t.innerMin),M=o(()=>isNaN(t.innerMax)===!0||t.innerMax>t.max?t.max:t.innerMax),q=o(()=>t.disable!==!0&&t.readonly!==!0&&F.value<M.value),N=o(()=>{if(t.step===0)return v=>v;const r=(String(t.step).trim().split(".")[1]||"").length;return v=>parseFloat(v.toFixed(r))}),U=o(()=>t.step===0?1:t.step),ge=o(()=>q.value===!0?t.tabindex||0:-1),Y=o(()=>t.max-t.min),oe=o(()=>M.value-F.value),K=o(()=>re(F.value)),te=o(()=>re(M.value)),j=o(()=>t.vertical===!0?L.value===!0?"bottom":"top":L.value===!0?"right":"left"),O=o(()=>t.vertical===!0?"height":"width"),J=o(()=>t.vertical===!0?"width":"height"),ae=o(()=>t.vertical===!0?"vertical":"horizontal"),me=o(()=>{const r={role:"slider","aria-valuemin":F.value,"aria-valuemax":M.value,"aria-orientation":ae.value,"data-step":t.step};return t.disable===!0?r["aria-disabled"]="true":t.readonly===!0&&(r["aria-readonly"]="true"),r}),S=o(()=>`q-slider q-slider${I.value} q-slider--${V.value===!0?"":"in"}active inline no-wrap `+(t.vertical===!0?"row":"column")+(t.disable===!0?" disabled":" q-slider--enabled"+(q.value===!0?" q-slider--editable":""))+(n.value==="both"?" q-slider--focus":"")+(t.label||t.labelAlways===!0?" q-slider--label":"")+(t.labelAlways===!0?" q-slider--label-always":"")+(P.value===!0?" q-slider--dark":"")+(t.dense===!0?" q-slider--dense q-slider--dense"+I.value:""));function G(r){const v="q-slider__"+r;return`${v} ${v}${I.value} ${v}${I.value}${X.value}`}function ne(r){const v="q-slider__"+r;return`${v} ${v}${I.value}`}const be=o(()=>{const r=t.selectionColor||t.color;return"q-slider__selection absolute"+(r!==void 0?` text-${r}`:"")}),fe=o(()=>ne("markers")+" absolute overflow-hidden"),pe=o(()=>ne("track-container")),he=o(()=>G("pin")),se=o(()=>G("label")),ke=o(()=>G("text-container")),Ce=o(()=>G("marker-labels-container")+(t.markerLabelsClass!==void 0?` ${t.markerLabelsClass}`:"")),xe=o(()=>"q-slider__track relative-position no-outline"+(t.trackColor!==void 0?` bg-${t.trackColor}`:"")),_e=o(()=>{const r={[J.value]:t.trackSize};return t.trackImg!==void 0&&(r.backgroundImage=`url(${t.trackImg}) !important`),r}),ye=o(()=>"q-slider__inner absolute"+(t.innerTrackColor!==void 0?` bg-${t.innerTrackColor}`:"")),ue=o(()=>{const r=te.value-K.value,v={[j.value]:`${100*K.value}%`,[O.value]:r===0?"2px":`${100*r}%`};return t.innerTrackImg!==void 0&&(v.backgroundImage=`url(${t.innerTrackImg}) !important`),v});function we(r){const{min:v,max:x,step:w}=t;let T=v+r*(x-v);if(w>0){const D=(T-F.value)%w;T+=(Math.abs(D)>=w/2?(D<0?-1:1)*w:0)-D}return T=N.value(T),ee(T,F.value,M.value)}function re(r){return Y.value===0?0:(r-t.min)/Y.value}function a(r,v){const x=pt(r),w=t.vertical===!0?ee((x.top-v.top)/v.height,0,1):ee((x.left-v.left)/v.width,0,1);return ee(L.value===!0?1-w:w,K.value,te.value)}const d=o(()=>bt(t.markers)===!0?t.markers:U.value),p=o(()=>{const r=[],v=d.value,x=t.max;let w=t.min;do r.push(w),w+=v;while(w<x);return r.push(x),r}),h=o(()=>{const r=` ${Oe}${I.value}-`;return Oe+`${r}${t.switchMarkerLabelsSide===!0?"switched":"standard"}${r}${L.value===!0?"rtl":"ltr"}`}),A=o(()=>t.markerLabels===!1?null:B(t.markerLabels).map((r,v)=>({index:v,value:r.value,label:r.label||r.value,classes:h.value+(r.classes!==void 0?" "+r.classes:""),style:{...z(r.value),...r.style||{}}}))),m=o(()=>({markerList:A.value,markerMap:ie.value,classes:h.value,getStyle:z})),R=o(()=>{const r=oe.value===0?"2px":100*d.value/oe.value;return{...ue.value,backgroundSize:t.vertical===!0?`2px ${r}%`:`${r}% 2px`}});function B(r){if(r===!1)return null;if(r===!0)return p.value.map(Qt);if(typeof r=="function")return p.value.map(x=>{const w=r(x);return Be(w)===!0?{...w,value:x}:{value:x,label:w}});const v=({value:x})=>x>=t.min&&x<=t.max;return Array.isArray(r)===!0?r.map(x=>Be(x)===!0?x:{value:x}).filter(v):Object.keys(r).map(x=>{const w=r[x],T=Number(x);return Be(w)===!0?{...w,value:T}:{value:T,label:w}}).filter(v)}function z(r){return{[j.value]:`${100*(r-t.min)/Y.value}%`}}const ie=o(()=>{if(t.markerLabels===!1)return null;const r={};return A.value.forEach(v=>{r[v.value]=v}),r});function ce(){if(k["marker-label-group"]!==void 0)return k["marker-label-group"](m.value);const r=k["marker-label"]||Ft;return A.value.map(v=>r({marker:v,...m.value}))}const Me=o(()=>[[lt,ut,void 0,{[ae.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function ut(r){r.isFinal===!0?(y.value!==void 0&&(l(r.evt),r.touch===!0&&e(!0),y.value=void 0,g("pan","end")),V.value=!1,n.value=!1):r.isFirst===!0?(y.value=i(r.evt),l(r.evt),e(),V.value=!0,g("pan","start")):(l(r.evt),e())}function Ne(){n.value=!1}function it(r){l(r,i(r)),e(),$.value=!0,V.value=!0,document.addEventListener("mouseup",qe,!0)}function qe(){$.value=!1,V.value=!1,e(!0),Ne(),document.removeEventListener("mouseup",qe,!0)}function ct(r){l(r,i(r)),e(!0)}function dt(r){ot.includes(r.keyCode)&&e(!0)}function vt(r){if(t.vertical===!0)return null;const v=c.lang.rtl!==t.reverse?1-r:r;return{transform:`translateX(calc(${2*v-1} * ${t.thumbSize} / 2 + ${50-100*v}%))`}}function gt(r){const v=o(()=>$.value===!1&&(n.value===r.focusValue||n.value==="both")?" q-slider--focus":""),x=o(()=>`q-slider__thumb q-slider__thumb${I.value} q-slider__thumb${I.value}-${L.value===!0?"rtl":"ltr"} absolute non-selectable`+v.value+(r.thumbColor.value!==void 0?` text-${r.thumbColor.value}`:"")),w=o(()=>({width:t.thumbSize,height:t.thumbSize,[j.value]:`${100*r.ratio.value}%`,zIndex:n.value===r.focusValue?2:void 0})),T=o(()=>r.labelColor.value!==void 0?` text-${r.labelColor.value}`:""),D=o(()=>vt(r.ratio.value)),Se=o(()=>"q-slider__text"+(r.labelTextColor.value!==void 0?` text-${r.labelTextColor.value}`:""));return()=>{const Ve=[s("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[s("path",{d:t.thumbPath})]),s("div",{class:"q-slider__focus-ring fit"})];return(t.label===!0||t.labelAlways===!0)&&(Ve.push(s("div",{class:he.value+" absolute fit no-pointer-events"+T.value},[s("div",{class:se.value,style:{minWidth:t.thumbSize}},[s("div",{class:ke.value,style:D.value},[s("span",{class:Se.value},r.label.value)])])])),t.name!==void 0&&t.disable!==!0&&_(Ve,"push")),s("div",{class:x.value,style:w.value,...r.getNodeData()},Ve)}}function mt(r,v,x,w){const T=[];t.innerTrackColor!=="transparent"&&T.push(s("div",{key:"inner",class:ye.value,style:ue.value})),t.selectionColor!=="transparent"&&T.push(s("div",{key:"selection",class:be.value,style:r.value})),t.markers!==!1&&T.push(s("div",{key:"marker",class:fe.value,style:R.value})),w(T);const D=[tt("div",{key:"trackC",class:pe.value,tabindex:v.value,...x.value},[s("div",{class:xe.value,style:_e.value},T)],"slide",q.value,()=>Me.value)];if(t.markerLabels!==!1){const Se=t.switchMarkerLabelsSide===!0?"unshift":"push";D[Se](s("div",{key:"markerL",class:Ce.value},ce()))}return D}return ft(()=>{document.removeEventListener("mouseup",qe,!0)}),{state:{active:V,focus:n,preventFocus:$,dragging:y,editable:q,classes:S,tabindex:ge,attributes:me,roundValueFn:N,keyStep:U,trackLen:Y,innerMin:F,innerMinRatio:K,innerMax:M,innerMaxRatio:te,positionProp:j,sizeProp:O,isReversed:L},methods:{onActivate:it,onMobileClick:ct,onBlur:Ne,onKeyup:dt,getContent:mt,getThumbRenderFn:gt,convertRatioToModel:we,convertModelToRatio:re,getDraggingRatio:a}}}const Ut=()=>({});var Z=rt({name:"QSlider",props:{...Lt,modelValue:{required:!0,default:null,validator:e=>typeof e=="number"||e===null},labelValue:[String,Number]},emits:Nt,setup(e,{emit:l}){const{proxy:{$q:i}}=Le(),{state:u,methods:t}=jt({updateValue:I,updatePosition:L,getDragging:X,formAttrs:ht(e)}),g=Q(null),k=Q(0),c=Q(0);function P(){c.value=e.modelValue===null?u.innerMin.value:ee(e.modelValue,u.innerMin.value,u.innerMax.value)}Fe(()=>`${e.modelValue}|${u.innerMin.value}|${u.innerMax.value}`,P),P();const _=o(()=>t.convertModelToRatio(c.value)),V=o(()=>u.active.value===!0?k.value:_.value),$=o(()=>{const q={[u.positionProp.value]:`${100*u.innerMinRatio.value}%`,[u.sizeProp.value]:`${100*(V.value-u.innerMinRatio.value)}%`};return e.selectionImg!==void 0&&(q.backgroundImage=`url(${e.selectionImg}) !important`),q}),n=t.getThumbRenderFn({focusValue:!0,getNodeData:Ut,ratio:V,label:o(()=>e.labelValue!==void 0?e.labelValue:c.value),thumbColor:o(()=>e.thumbColor||e.color),labelColor:o(()=>e.labelColor),labelTextColor:o(()=>e.labelTextColor)}),y=o(()=>u.editable.value!==!0?{}:i.platform.is.mobile===!0?{onClick:t.onMobileClick}:{onMousedown:t.onActivate,onFocus:F,onBlur:t.onBlur,onKeydown:M,onKeyup:t.onKeyup});function I(q){c.value!==e.modelValue&&l("update:modelValue",c.value),q===!0&&l("change",c.value)}function X(){return g.value.getBoundingClientRect()}function L(q,N=u.dragging.value){const U=t.getDraggingRatio(q,N);c.value=t.convertRatioToModel(U),k.value=e.snap!==!0||e.step===0?U:t.convertModelToRatio(c.value)}function F(){u.focus.value=!0}function M(q){if(!ot.includes(q.keyCode))return;kt(q);const N=([34,33].includes(q.keyCode)?10:1)*u.keyStep.value,U=([34,37,40].includes(q.keyCode)?-1:1)*(u.isReversed.value===!0?-1:1)*(e.vertical===!0?-1:1)*N;c.value=ee(u.roundValueFn.value(c.value+U),u.innerMin.value,u.innerMax.value),I()}return()=>{const q=t.getContent($,u.tabindex,y,N=>{N.push(n())});return s("div",{ref:g,class:u.classes.value+(e.modelValue===null?" q-slider--no-value":""),...u.attributes.value,"aria-valuenow":e.modelValue},q)}}});const zt=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function Ge({r:e,g:l,b:i,a:u}){const t=u!==void 0;if(e=Math.round(e),l=Math.round(l),i=Math.round(i),e>255||l>255||i>255||t&&u>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return u=t?(Math.round(255*u/100)|1<<8).toString(16).slice(1):"","#"+(i|l<<8|e<<16|1<<24).toString(16).slice(1)+u}function We({r:e,g:l,b:i,a:u}){return`rgb${u!==void 0?"a":""}(${e},${l},${i}${u!==void 0?","+u/100:""})`}function nt(e){if(typeof e!="string")throw new TypeError("Expected a string");e=e.replace(/^#/,""),e.length===3?e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]:e.length===4&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const l=parseInt(e,16);return e.length>6?{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:Math.round((l&255)/2.55)}:{r:l>>16,g:l>>8&255,b:l&255}}function Xe({h:e,s:l,v:i,a:u}){let t,g,k;l=l/100,i=i/100,e=e/360;const c=Math.floor(e*6),P=e*6-c,_=i*(1-l),V=i*(1-P*l),$=i*(1-(1-P)*l);switch(c%6){case 0:t=i,g=$,k=_;break;case 1:t=V,g=i,k=_;break;case 2:t=_,g=i,k=$;break;case 3:t=_,g=V,k=i;break;case 4:t=$,g=_,k=i;break;case 5:t=i,g=_,k=V;break}return{r:Math.round(t*255),g:Math.round(g*255),b:Math.round(k*255),a:u}}function Qe({r:e,g:l,b:i,a:u}){const t=Math.max(e,l,i),g=Math.min(e,l,i),k=t-g,c=t===0?0:k/t,P=t/255;let _;switch(t){case g:_=0;break;case e:_=l-i+k*(l<i?6:0),_/=6*k;break;case l:_=i-e+k*2,_/=6*k;break;case i:_=e-l+k*4,_/=6*k;break}return{h:Math.round(_*360),s:Math.round(c*100),v:Math.round(P*100),a:u}}function st(e){if(typeof e!="string")throw new TypeError("Expected a string");const l=e.replace(/ /g,""),i=zt.exec(l);if(i===null)return nt(l);const u={r:Math.min(255,parseInt(i[2],10)),g:Math.min(255,parseInt(i[3],10)),b:Math.min(255,parseInt(i[4],10))};if(i[1]){const t=parseFloat(i[5]);u.a=Math.min(1,isNaN(t)===!0?1:t)*100}return u}function Dt(e){if(typeof e!="string"&&(!e||e.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const l=typeof e=="string"?st(e):e,i=l.r/255,u=l.g/255,t=l.b/255,g=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),k=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),c=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return .2126*g+.7152*k+.0722*c}const Ht=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Ye="M5 5 h10 v10 h-10 v-10 z",Ot="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var Ke=rt({name:"QColor",props:{...Ze,...et,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:e=>["spectrum","tune","palette"].includes(e)},formatModel:{type:String,default:"auto",validator:e=>["auto","hex","rgb","hexa","rgba"].includes(e)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(e,{emit:l}){const{proxy:i}=Le(),{$q:u}=i,t=Je(e,u),{getCache:g}=Vt(),k=Q(null),c=Q(null),P=o(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("hex")!==-1),_=o(()=>e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1),V=Q(e.formatModel==="auto"?e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")?"hex":"rgb":e.formatModel.startsWith("hex")?"hex":"rgb"),$=Q(e.defaultView),n=Q(O(e.modelValue||e.defaultValue)),y=o(()=>e.disable!==!0&&e.readonly!==!0),I=o(()=>e.modelValue===void 0||e.modelValue===null||e.modelValue===""||e.modelValue.startsWith("#")),X=o(()=>P.value!==null?P.value:I.value),L=o(()=>({type:"hidden",name:e.name,value:n.value[X.value===!0?"hex":"rgb"]})),F=at(L),M=o(()=>_.value!==null?_.value:n.value.a!==void 0),q=o(()=>({backgroundColor:n.value.rgb||"#000"})),N=o(()=>`q-color-picker__header-content q-color-picker__header-content--${(n.value.a!==void 0&&n.value.a<65?!0:Dt(n.value)>.4)?"light":"dark"}`),U=o(()=>({background:`hsl(${n.value.h},100%,50%)`})),ge=o(()=>({top:`${100-n.value.v}%`,[u.lang.rtl===!0?"right":"left"]:`${n.value.s}%`})),Y=o(()=>e.palette!==void 0&&e.palette.length!==0?e.palette:Ht),oe=o(()=>"q-color-picker"+(e.bordered===!0?" q-color-picker--bordered":"")+(e.square===!0?" q-color-picker--square no-border-radius":"")+(e.flat===!0?" q-color-picker--flat no-shadow":"")+(e.disable===!0?" disabled":"")+(t.value===!0?" q-color-picker--dark q-dark":"")),K=o(()=>e.disable===!0?{"aria-disabled":"true"}:{}),te=o(()=>[[lt,be,void 0,{prevent:!0,stop:!0,mouse:!0}]]);Fe(()=>e.modelValue,a=>{const d=O(a||e.defaultValue);d.hex!==n.value.hex&&(n.value=d)}),Fe(()=>e.defaultValue,a=>{if(!e.modelValue&&a){const d=O(a);d.hex!==n.value.hex&&(n.value=d)}});function j(a,d){n.value.hex=Ge(a),n.value.rgb=We(a),n.value.r=a.r,n.value.g=a.g,n.value.b=a.b,n.value.a=a.a;const p=n.value[X.value===!0?"hex":"rgb"];l("update:modelValue",p),d===!0&&l("change",p)}function O(a){const d=_.value!==void 0?_.value:e.formatModel==="auto"?null:e.formatModel.indexOf("a")!==-1;if(typeof a!="string"||a.length===0||Ct.anyColor(a.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:d===!0?100:void 0,hex:void 0,rgb:void 0};const p=st(a);return d===!0&&p.a===void 0&&(p.a=100),p.hex=Ge(p),p.rgb=We(p),Object.assign(p,Qe(p))}function J(a,d,p){const h=k.value;if(h===null)return;const A=h.clientWidth,m=h.clientHeight,R=h.getBoundingClientRect();let B=Math.min(A,Math.max(0,a-R.left));u.lang.rtl===!0&&(B=A-B);const z=Math.min(m,Math.max(0,d-R.top)),ie=Math.round(100*B/A),ce=Math.round(100*Math.max(0,Math.min(1,-(z/m)+1))),Me=Xe({h:n.value.h,s:ie,v:ce,a:M.value===!0?n.value.a:void 0});n.value.s=ie,n.value.v=ce,j(Me,p)}function ae(a,d){const p=Math.round(a),h=Xe({h:p,s:n.value.s,v:n.value.v,a:M.value===!0?n.value.a:void 0});n.value.h=p,j(h,d)}function me(a){ae(a,!0)}function S(a,d,p,h,A){if(h!==void 0&&W(h),!/^[0-9]+$/.test(a)){A===!0&&i.$forceUpdate();return}const m=Math.floor(Number(a));if(m<0||m>p){A===!0&&i.$forceUpdate();return}const R={r:d==="r"?m:n.value.r,g:d==="g"?m:n.value.g,b:d==="b"?m:n.value.b,a:M.value===!0?d==="a"?m:n.value.a:void 0};if(d!=="a"){const B=Qe(R);n.value.h=B.h,n.value.s=B.s,n.value.v=B.v}if(j(R,A),h!==void 0&&A!==!0&&h.target.selectionEnd!==void 0){const B=h.target.selectionEnd;je(()=>{h.target.setSelectionRange(B,B)})}}function G(a,d){let p;const h=a.target.value;if(W(a),V.value==="hex"){if(h.length!==(M.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(h))return!0;p=nt(h)}else{let m;if(h.endsWith(")"))if(M.value!==!0&&h.startsWith("rgb(")){if(m=h.substring(4,h.length-1).split(",").map(R=>parseInt(R,10)),m.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(h))return!0}else if(M.value===!0&&h.startsWith("rgba(")){if(m=h.substring(5,h.length-1).split(","),m.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(h))return!0;for(let B=0;B<3;B++){const z=parseInt(m[B],10);if(z<0||z>255)return!0;m[B]=z}const R=parseFloat(m[3]);if(R<0||R>1)return!0;m[3]=R}else return!0;else return!0;if(m[0]<0||m[0]>255||m[1]<0||m[1]>255||m[2]<0||m[2]>255||M.value===!0&&(m[3]<0||m[3]>1))return!0;p={r:m[0],g:m[1],b:m[2],a:M.value===!0?m[3]*100:void 0}}const A=Qe(p);if(n.value.h=A.h,n.value.s=A.s,n.value.v=A.v,j(p,d),d!==!0){const m=a.target.selectionEnd;je(()=>{a.target.setSelectionRange(m,m)})}}function ne(a){const d=O(a),p={r:d.r,g:d.g,b:d.b,a:d.a};p.a===void 0&&(p.a=n.value.a),n.value.h=d.h,n.value.s=d.s,n.value.v=d.v,j(p,!0)}function be(a){a.isFinal?J(a.position.left,a.position.top,!0):fe(a)}const fe=xt(a=>{J(a.position.left,a.position.top)},20);function pe(a){J(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset,!0)}function he(a){J(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)}function se(a){c.value!==null&&(c.value.$el.style.opacity=a?1:0)}function ke(a){V.value=a}function Ce(){const a=[];return e.noHeaderTabs!==!0&&a.push(s(De,{class:"q-color-picker__header-tabs",modelValue:V.value,dense:!0,align:"justify","onUpdate:modelValue":ke},()=>[s(le,{label:"HEX"+(M.value===!0?"A":""),name:"hex",ripple:!1}),s(le,{label:"RGB"+(M.value===!0?"A":""),name:"rgb",ripple:!1})])),a.push(s("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[s("input",{class:"fit",value:n.value[V.value],...y.value!==!0?{readonly:!0}:{},...g("topIn",{onInput:d=>{se(G(d)===!0)},onChange:W,onBlur:d=>{G(d,!0)===!0&&i.$forceUpdate(),se(!1)}})}),s(E,{ref:c,class:"q-color-picker__error-icon absolute no-pointer-events",name:u.iconSet.type.negative})])),s("div",{class:"q-color-picker__header relative-position overflow-hidden"},[s("div",{class:"q-color-picker__header-bg absolute-full"}),s("div",{class:N.value,style:q.value},a)])}function xe(){return s(St,{modelValue:$.value,animated:!0},()=>[s(Ee,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},ue),s(Ee,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},we),s(Ee,{class:"q-color-picker__palette-tab",name:"palette"},re)])}function _e(a){$.value=a}function ye(){return s("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[s(De,{class:"absolute-full",modelValue:$.value,dense:!0,align:"justify","onUpdate:modelValue":_e},()=>[s(le,{icon:u.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),s(le,{icon:u.iconSet.colorPicker.tune,name:"tune",ripple:!1}),s(le,{icon:u.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function ue(){const a={ref:k,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(y.value!==!0?" readonly":""),style:U.value,...y.value===!0?{onClick:pe,onMousedown:he}:{}},d=[s("div",{style:{paddingBottom:"100%"}}),s("div",{class:"q-color-picker__spectrum-white absolute-full"}),s("div",{class:"q-color-picker__spectrum-black absolute-full"}),s("div",{class:"absolute",style:ge.value},[n.value.hex!==void 0?s("div",{class:"q-color-picker__spectrum-circle"}):null])],p=[s(Z,{class:"q-color-picker__hue non-selectable",modelValue:n.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:y.value!==!0,thumbPath:Ye,"onUpdate:modelValue":ae,onChange:me})];return M.value===!0&&p.push(s(Z,{class:"q-color-picker__alpha non-selectable",modelValue:n.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Ot,readonly:y.value!==!0,hideSelection:!0,thumbPath:Ye,...g("alphaSlide",{"onUpdate:modelValue":h=>S(h,"a",100),onChange:h=>S(h,"a",100,void 0,!0)})})),[tt("div",a,d,"spec",y.value,()=>te.value),s("div",{class:"q-color-picker__sliders"},p)]}function we(){return[s("div",{class:"row items-center no-wrap"},[s("div","R"),s(Z,{modelValue:n.value.r,min:0,max:255,color:"red",dark:t.value,readonly:y.value!==!0,...g("rSlide",{"onUpdate:modelValue":a=>S(a,"r",255),onChange:a=>S(a,"r",255,void 0,!0)})}),s("input",{value:n.value.r,maxlength:3,readonly:y.value!==!0,onChange:W,...g("rIn",{onInput:a=>S(a.target.value,"r",255,a),onBlur:a=>S(a.target.value,"r",255,a,!0)})})]),s("div",{class:"row items-center no-wrap"},[s("div","G"),s(Z,{modelValue:n.value.g,min:0,max:255,color:"green",dark:t.value,readonly:y.value!==!0,...g("gSlide",{"onUpdate:modelValue":a=>S(a,"g",255),onChange:a=>S(a,"g",255,void 0,!0)})}),s("input",{value:n.value.g,maxlength:3,readonly:y.value!==!0,onChange:W,...g("gIn",{onInput:a=>S(a.target.value,"g",255,a),onBlur:a=>S(a.target.value,"g",255,a,!0)})})]),s("div",{class:"row items-center no-wrap"},[s("div","B"),s(Z,{modelValue:n.value.b,min:0,max:255,color:"blue",readonly:y.value!==!0,dark:t.value,...g("bSlide",{"onUpdate:modelValue":a=>S(a,"b",255),onChange:a=>S(a,"b",255,void 0,!0)})}),s("input",{value:n.value.b,maxlength:3,readonly:y.value!==!0,onChange:W,...g("bIn",{onInput:a=>S(a.target.value,"b",255,a),onBlur:a=>S(a.target.value,"b",255,a,!0)})})]),M.value===!0?s("div",{class:"row items-center no-wrap"},[s("div","A"),s(Z,{modelValue:n.value.a,color:"grey",readonly:y.value!==!0,dark:t.value,...g("aSlide",{"onUpdate:modelValue":a=>S(a,"a",100),onChange:a=>S(a,"a",100,void 0,!0)})}),s("input",{value:n.value.a,maxlength:3,readonly:y.value!==!0,onChange:W,...g("aIn",{onInput:a=>S(a.target.value,"a",100,a),onBlur:a=>S(a.target.value,"a",100,a,!0)})})]):null]}function re(){const a=d=>s("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:d},...y.value===!0?g("palette#"+d,{onClick:()=>{ne(d)}}):{}});return[s("div",{class:"row items-center q-color-picker__palette-rows"+(y.value===!0?" q-color-picker__palette-rows--editable":"")},Y.value.map(a))]}return()=>{const a=[xe()];return e.name!==void 0&&e.disable!==!0&&F(a,"push"),e.noHeader!==!0&&a.unshift(Ce()),e.noFooter!==!0&&a.push(ye()),s("div",{class:oe.value,...K.value},a)}}});const Gt={name:"BannerConfig",components:{AdminNavigationMenu:Pt},data(){return{currentConfig:{text:"\u{1F680} \xA1Promoci\xF3n especial! 20% de descuento en reservas antes del viernes. \u{1F389}",text_color:"#333333",background_color:"#ffffff"},newConfig:{text:"",text_color:"#333333",background_color:"#ffffff"},saving:!1,successMessage:"",errorMessage:""}},async mounted(){await this.loadCurrentConfig()},computed:{hasChanges(){return(this.newConfig.text!==this.currentConfig.text||this.newConfig.text_color!==this.currentConfig.text_color||this.newConfig.background_color!==this.currentConfig.background_color)&&this.newConfig.text.length>=10}},methods:{async loadCurrentConfig(){try{const e=await It();this.currentConfig={text:e.text||this.currentConfig.text,text_color:e.text_color||this.currentConfig.text_color,background_color:e.background_color||this.currentConfig.background_color},this.newConfig={...this.currentConfig}}catch(e){console.error("Error loading banner configuration:",e),this.newConfig={...this.currentConfig}}},async onSave(){var e,l;this.saving=!0,this.successMessage="",this.errorMessage="";try{await Rt(this.newConfig),this.currentConfig={...this.newConfig},this.successMessage="Banner actualizado exitosamente. Los cambios se reflejar\xE1n en toda la aplicaci\xF3n."}catch(i){this.errorMessage="Error al actualizar el banner: "+(((l=(e=i.response)==null?void 0:e.data)==null?void 0:l.detail)||i.message),console.error("Error updating banner:",i)}finally{this.saving=!1}},restoreDefault(){this.newConfig={text:"\u{1F680} \xA1Promoci\xF3n especial! 20% de descuento en reservas antes del viernes. \u{1F389}",text_color:"#333333",background_color:"#ffffff"}}}},Wt={class:"q-pa-md"},Xt={class:"text-h6 text-white q-mb-md"},Yt={class:"promo-text-preview"},Kt={class:"text-h6 text-white q-mb-md"},Jt={class:"row q-gutter-md q-mb-md"},Zt={class:"col-md-5 col-sm-6"},ea={class:"col-md-5 col-sm-6"},ta={key:0,class:"q-mb-md"},aa={class:"promo-text-preview"},ra={class:"row q-gutter-sm"},la={class:"text-h6 text-white q-mb-md"};function oa(e,l,i,u,t,g){const k=_t("AdminNavigationMenu");return de(),Ae(Tt,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:C(()=>[f(qt,{elevated:"",class:"bg-primary text-white"},{default:C(()=>[f(wt,null,{default:C(()=>[f(Mt,null,{default:C(()=>[f(E,{name:"campaign",class:"q-mr-sm"}),l[5]||(l[5]=H(" Configurar Banner Promocional "))]),_:1})]),_:1})]),_:1}),f($t,null,{default:C(()=>[f(At,{padding:"",class:"bg-dark"},{default:C(()=>[b("div",Wt,[l[14]||(l[14]=b("div",{class:"row q-mb-lg"},[b("div",{class:"col"},[b("p",{class:"text-grey-4"}," Modifica el texto que se muestra en el banner promocional ")])],-1)),f(Te,{class:"preview-card q-mb-lg"},{default:C(()=>[f($e,null,{default:C(()=>[b("div",Xt,[f(E,{name:"visibility",class:"q-mr-sm"}),l[6]||(l[6]=H(" Vista Previa Actual "))]),b("div",{class:"banner-preview",style:Ue({backgroundColor:t.currentConfig.background_color,color:t.currentConfig.text_color})},[b("div",Yt,ve(t.currentConfig.text),1)],4)]),_:1})]),_:1}),f(Te,{class:"edit-card"},{default:C(()=>[f($e,null,{default:C(()=>[b("div",Kt,[f(E,{name:"edit",class:"q-mr-sm"}),l[7]||(l[7]=H(" Editar Banner Promocional "))]),f(Bt,{onSubmit:g.onSave,class:"q-gutter-md"},{default:C(()=>[f(Ie,{modelValue:t.newConfig.text,"onUpdate:modelValue":l[0]||(l[0]=c=>t.newConfig.text=c),type:"textarea",label:"Texto del banner promocional",filled:"",dark:"",rows:"3",counter:"",maxlength:"200",rules:[c=>!!c||"El texto es requerido",c=>c.length<=200||"M\xE1ximo 200 caracteres",c=>c.length>=10||"M\xEDnimo 10 caracteres"],hint:"Usa emojis para hacer el mensaje m\xE1s atractivo",class:"q-mb-md"},{prepend:C(()=>[f(E,{name:"text_fields"})]),_:1},8,["modelValue","rules"]),b("div",Jt,[b("div",Zt,[l[8]||(l[8]=b("div",{class:"text-white q-mb-sm"},"Color del texto:",-1)),f(Ie,{modelValue:t.newConfig.text_color,"onUpdate:modelValue":l[2]||(l[2]=c=>t.newConfig.text_color=c),label:"Color del texto",filled:"",dark:"",rules:[c=>/^#[0-9A-F]{6}$/i.test(c)||"Formato inv\xE1lido (ej: #333333)"]},{prepend:C(()=>[f(E,{name:"format_color_text"})]),append:C(()=>[f(E,{name:"colorize",class:"cursor-pointer"},{default:C(()=>[f(ze,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:C(()=>[f(Ke,{modelValue:t.newConfig.text_color,"onUpdate:modelValue":l[1]||(l[1]=c=>t.newConfig.text_color=c),"format-model":"hex","default-value":"#333333"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),b("div",ea,[l[9]||(l[9]=b("div",{class:"text-white q-mb-sm"},"Color de fondo:",-1)),f(Ie,{modelValue:t.newConfig.background_color,"onUpdate:modelValue":l[4]||(l[4]=c=>t.newConfig.background_color=c),label:"Color de fondo",filled:"",dark:"",rules:[c=>/^#[0-9A-F]{6}$/i.test(c)||"Formato inv\xE1lido (ej: #ffffff)"]},{prepend:C(()=>[f(E,{name:"format_color_fill"})]),append:C(()=>[f(E,{name:"colorize",class:"cursor-pointer"},{default:C(()=>[f(ze,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:C(()=>[f(Ke,{modelValue:t.newConfig.background_color,"onUpdate:modelValue":l[3]||(l[3]=c=>t.newConfig.background_color=c),"format-model":"hex","default-value":"#ffffff"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])])]),l[11]||(l[11]=b("div",{class:"text-caption text-grey-4 q-mb-md"},[b("strong",null,"Sugerencias:"),H(" Usa emojis como \u{1F680} \u{1F389} \u2B50 \u{1F4B0} \u{1F3C6} para hacer el mensaje m\xE1s llamativo ")],-1)),g.hasChanges?(de(),yt("div",ta,[l[10]||(l[10]=b("div",{class:"text-subtitle2 text-white q-mb-sm"},"Vista previa de los cambios:",-1)),b("div",{class:"banner-preview",style:Ue({backgroundColor:t.newConfig.background_color,color:t.newConfig.text_color})},[b("div",aa,ve(t.newConfig.text),1)],4)])):Re("",!0),b("div",ra,[f(Pe,{type:"submit",color:"primary",loading:t.saving,icon:"save",label:"Guardar Cambios",class:"col-auto",disable:!g.hasChanges},null,8,["loading","disable"]),f(Pe,{type:"button",color:"grey-7",flat:"",icon:"refresh",label:"Recargar Actual",onClick:g.loadCurrentConfig,class:"col-auto"},null,8,["onClick"]),f(Pe,{type:"button",color:"grey-7",flat:"",icon:"restore",label:"Restaurar por Defecto",onClick:g.restoreDefault,class:"col-auto"},null,8,["onClick"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),t.successMessage?(de(),Ae(He,{key:0,class:"bg-positive text-white q-mt-md"},{avatar:C(()=>[f(E,{name:"check_circle"})]),default:C(()=>[H(" "+ve(t.successMessage),1)]),_:1})):Re("",!0),t.errorMessage?(de(),Ae(He,{key:1,class:"bg-negative text-white q-mt-md"},{avatar:C(()=>[f(E,{name:"error"})]),default:C(()=>[H(" "+ve(t.errorMessage),1)]),_:1})):Re("",!0),f(Te,{class:"help-card q-mt-lg"},{default:C(()=>[f($e,null,{default:C(()=>[b("div",la,[f(E,{name:"help",class:"q-mr-sm"}),l[12]||(l[12]=H(" Consejos para un Banner Efectivo "))]),l[13]||(l[13]=b("div",{class:"row q-gutter-md"},[b("div",{class:"col-md-6"},[b("ul",{class:"text-grey-3"},[b("li",null,"Usa emojis para llamar la atenci\xF3n"),b("li",null,"Mant\xE9n el mensaje corto y claro"),b("li",null,"Incluye una llamada a la acci\xF3n"),b("li",null,"Menciona beneficios espec\xEDficos"),b("li",null,"Aseg\xFArate de que el contraste de colores sea legible"),b("li",null,"Prueba diferentes combinaciones de colores")])]),b("div",{class:"col-md-6"},[b("div",{class:"text-weight-bold text-white q-mb-sm"},"Ejemplos:"),b("div",{class:"example-text"}," \u{1F3BE} \xA1Reserva tu cancha con 30% de descuento! \u26A1 "),b("div",{class:"example-text"}," \u{1F3C6} Torneos de temporada - \xA1Inscr\xEDbete ya! \u{1F389} "),b("div",{class:"example-text"}," \u2B50 Clases gratuitas para nuevos miembros \u{1F4AA} "),b("div",{class:"text-caption text-grey-4 q-mt-md"},[b("strong",null,"Tip:"),H(" Los colores contrastantes ayudan a la legibilidad ")])])],-1))]),_:1})]),_:1})])]),_:1})]),_:1}),f(k)]),_:1})}var Va=Et(Gt,[["render",oa],["__scopeId","data-v-271196db"]]);export{Va as default};
