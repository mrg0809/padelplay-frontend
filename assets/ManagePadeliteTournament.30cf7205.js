import{a5 as za,x as Ga,r as m,f as D,h as Aa,o as r,z as p,A as l,d as t,B as s,D as _,a as c,Q as te,a7 as S,a8 as y,t as i,aK as la,ac as q,ab as $,aa as M,e as h,af as I,ae as C,a9 as v,ad as O,E as P,bG as T,aP as oa}from"./index.a0492954.js";import{Q as Ja}from"./QHeader.30ed5ffd.js";import{Q as Ba,a as be}from"./QTabs.9c45f5db.js";import{Q as B,a as g}from"./QItem.f78ebf7f.js";import{Q as x}from"./QItemLabel.5c5982b3.js";import{Q as sa}from"./QTooltip.e4efa9d8.js";import{Q as N}from"./QList.87883dfb.js";import{a as Na,Q as he}from"./QTabPanel.e8c15f3a.js";import{Q as re}from"./QBadge.2e0b0375.js";import{Q as ie}from"./QSelect.a49ffe54.js";import{Q as xe}from"./QChip.a56927f6.js";import{Q as Ne}from"./QSpace.680852ef.js";import{Q as Da}from"./QBanner.0a1dc803.js";import{Q as na,a as ra}from"./QTime.1fd8b234.js";import{Q as we}from"./QPopupProxy.11541dfb.js";import{Q as Fa}from"./QPage.ba13530a.js";import{Q as Ia,a as Oa}from"./QLayout.34772a42.js";import{C as V}from"./ClosePopup.5f41115c.js";import{u as Ra}from"./use-quasar.5174e024.js";import{a as Q}from"./api.fb60109d.js";import{s as De}from"./supabase.6e6ca5a2.js";import{N as Ha}from"./NotificationBell.5a3b411e.js";import{B as La}from"./BannerPromoScrolling.beb49cbe.js";import{A as Ya}from"./AssociationNavigationMenu.2f47b855.js";import{_ as Ka}from"./plugin-vue_export-helper.21dcd24c.js";import"./rtl.276c3f1b.js";import"./position-engine.f9bd9f7c.js";import"./selection.3cd24490.js";import"./use-panel.94912304.js";import"./touch.9135741d.js";import"./use-render-cache.3aae9b27.js";import"./QMenu.c2db426c.js";import"./format.de7e9769.js";import"./TouchPan.538d5657.js";import"./admin.24c23482.js";import"./QFooter.a1ddf79c.js";const Wa={class:"header-content"},Xa={class:"header-icons"},Za={key:0,class:"text-center q-pa-xl"},et={key:1},at={class:"text-h5"},tt={class:"text-caption"},lt={class:"row items-center justify-between q-mb-md"},ot={class:"q-gutter-sm"},st={key:0,class:"text-center"},nt={key:1,class:"text-center text-grey q-pa-lg"},rt={key:2},it={class:"text-subtitle1 text-bold"},ut=["src"],dt={class:"q-gutter-xs"},mt={class:"row items-center justify-between q-mb-md"},ct={key:0},vt={class:"row q-gutter-md q-mb-md"},pt={class:"text-h5"},_t={class:"text-h5"},ft={class:"text-h5"},gt=["src"],yt={class:"column items-end q-gutter-xs"},bt={class:"row items-center justify-between q-mb-md"},ht={class:"q-gutter-sm"},xt={key:0,class:"text-center q-pa-lg"},wt={key:1,class:"text-center text-grey q-pa-lg"},kt={key:2},qt={class:"row items-center justify-between q-mb-md"},Ct={class:"text-h6"},Vt={class:"row q-gutter-xs q-mt-xs"},Et={class:"column items-end q-gutter-xs"},Qt={key:0},St={key:0,class:"q-mb-md"},$t={class:"text-h6 q-mb-md"},Mt=["src"],Pt={key:1,class:"text-caption text-grey q-mt-md"},jt={key:2,class:"text-caption text-positive q-mt-md"},Ut={class:"text-h6"},Tt={key:0,class:"text-center q-pa-xl"},zt={key:1,class:"text-center text-grey q-pa-xl"},Gt={key:2},At={class:"text-h6 q-mb-md"},Jt={key:0,class:"q-mb-lg"},Bt={key:2,class:"q-pa-md bg-positive text-white rounded-borders"},Nt={class:"text-body2"},Dt={key:0,class:"text-caption"},Ft={key:0,class:"q-pa-md bg-grey-8 rounded-borders"},It={class:"text-body1"},Ot={key:3,class:"q-pa-md bg-positive text-white rounded-borders"},Rt={class:"text-body2"},Ht={class:"row items-center q-gutter-md"},Lt={class:"col-5"},Yt={class:"row items-center"},Kt=["src"],Wt={class:"q-ml-md"},Xt={class:"col-5"},Zt={class:"text-caption"},el={class:"q-gutter-md"},al={class:"row items-center justify-end q-gutter-sm"},tl={class:"row items-center justify-end q-gutter-sm"},ll={class:"q-gutter-md"},ol={class:"row items-center justify-end q-gutter-sm"},sl={class:"row items-center justify-end q-gutter-sm"},nl={class:"text-caption"},rl={class:"q-gutter-md"},il={class:"row items-center q-gutter-md"},ul={class:"col-5 text-center"},dl={class:"text-subtitle2 q-mb-xs"},ml={class:"col-5 text-center"},cl={class:"text-subtitle2 q-mb-xs"},vl={class:"row items-center q-gutter-md"},pl={class:"col-5 text-center"},_l={class:"col-5 text-center"},fl={class:"row items-center q-gutter-md"},gl={class:"col-5 text-center"},yl={class:"col-5 text-center"},bl={key:0,class:"q-pa-md bg-grey-9 rounded-borders"},hl={class:"text-body2"},xl={key:0,class:"text-body2 q-mt-xs"},wl={class:"text-positive"},kl={key:1,class:"text-body2 q-mt-xs text-warning"},ql={key:2,class:"text-center q-pa-xl"},Cl={__name:"ManagePadeliteTournament",setup(Vl){const ia=za(),ke=Ga(),f=Ra(),A=ia.params.tournamentId,qe=m(!1),Ce=m(!1),Ve=m(!1),ue=m(!1),Ee=m(!1),Qe=m(!1),Se=m(!1),de=m(!1),Fe=m(!1),$e=m(!1),me=m(!1),ce=m(!1),Me=m(!1),Pe=m(!1),je=m(!1),Ue=m(!1),Te=m(!1),ua=m(!1),ze=m(!1),L=m(null),Y=m([]),K=m(null),R=m([]),W=m(null),ve=m([]),Ie=m(null),F=m(null),pe=m(null),X=m({name:""}),Z=m(""),le=m([]),J=m(null),H=m(""),ee=m([]),z=m(null),oe=m(null),_e=m("teams"),j=m({match_date:"",match_time:"",court_id:null}),Oe=m([]),da=["Grupo A","Grupo B","Grupo C","Grupo D","Grupo E","Grupo F"],Re=D(()=>{const o={};return Y.value.forEach(e=>{const a=e.group_name||"Sin Grupo";o[a]||(o[a]=[]),o[a].push(e)}),o}),ma=D(()=>{const o={};return ve.value.forEach(e=>{e.category&&(o[e.category]||(o[e.category]={name:e.category,members:[]}),o[e.category].members.push(e))}),Object.values(o)}),He=D(()=>ve.value.filter(o=>!o.category)),Le=D(()=>[...new Set(R.value.map(e=>e.jornada).filter(Boolean))].sort((e,a)=>e-a).map(e=>e)),ca=D(()=>{if(oe.value){const o=R.value.filter(e=>e.jornada===oe.value);return[{name:`Jornada ${oe.value}`,matches:o}]}else{const o={};return R.value.forEach(e=>{const a=e.jornada?`Jornada ${e.jornada}`:"Sin Jornada";o[a]||(o[a]={name:a,matches:[]}),o[a].matches.push(e)}),Object.values(o).sort((e,a)=>{const n=parseInt(e.name.replace("Jornada ",""))||0,u=parseInt(a.name.replace("Jornada ",""))||0;return n-u})}}),va=D(()=>R.value.length>0),pa=D(()=>o=>{const e=R.value.filter(a=>a.jornada===o);return e.length===0?!1:e.every(a=>a.match_date&&a.match_time)}),b=m({jornada:null,start_date:"",start_time:"",club_id:null}),fe=m(!1),Ge=m(!1),Ye=m([]),ge=m(!1),U=m(null),Ae=m(!1),d=m({set1_team1:null,set1_team2:null,set2_team1:null,set2_team2:null,set3_team1:null,set3_team2:null});Aa(async()=>{await _a(),await Je(),await ye(),await ae()});const _a=async()=>{qe.value=!0;try{const{data:o}=await Q.get(`/padelite/tournaments/${A}`);L.value=o.data||o,ua.value=L.value.status==="closed"}catch(o){console.error("Error fetching tournament:",o),f.notify({type:"negative",message:"Error al cargar torneo"})}finally{qe.value=!1}},Je=async()=>{Ce.value=!0;try{const{data:o}=await Q.get(`/padelite/tournaments/${A}/teams`);Y.value=o.data||[]}catch(o){console.error("Error fetching teams:",o)}finally{Ce.value=!1}},ye=async()=>{Ve.value=!0;try{const{data:o}=await Q.get(`/padelite/association/tournaments/${A}/teams-status`);K.value=o}catch(o){console.error("Error fetching team status:",o),f.notify({type:"negative",message:"Error al cargar estado de equipos"})}finally{Ve.value=!1}},fa=async()=>{if(!Z.value||Z.value.length<2){le.value=[];return}Pe.value=!0;try{const{data:o}=await Q.get(`/padelite/search/players?query=${Z.value}`);le.value=o.data||[]}catch(o){console.error("Error searching captains:",o),f.notify({type:"negative",message:"Error al buscar jugadores"})}finally{Pe.value=!1}},ga=o=>{J.value=o},ya=async()=>{var o,e;if(!X.value.name||!J.value){f.notify({type:"warning",message:"Por favor completa todos los campos"});return}Me.value=!0;try{await Q.post(`/padelite/association/tournaments/${A}/assign-captain`,null,{params:{team_name:X.value.name,captain_id:J.value.id}}),f.notify({type:"positive",message:"Equipo creado exitosamente"}),X.value={name:""},Z.value="",le.value=[],J.value=null,de.value=!1,await Je(),await ye()}catch(a){console.error("Error creating team:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al crear equipo"})}finally{Me.value=!1}},ba=o=>{F.value=o,H.value="",ee.value=[],z.value=null,me.value=!0},ha=async()=>{if(!H.value||H.value.length<2){ee.value=[];return}je.value=!0;try{const{data:o}=await Q.get(`/padelite/search/players?query=${H.value}`);ee.value=o.data||[]}catch(o){console.error("Error searching new captains:",o),f.notify({type:"negative",message:"Error al buscar jugadores"})}finally{je.value=!1}},xa=o=>{z.value=o},wa=async()=>{var o,e;if(!(!z.value||!F.value)){Ue.value=!0;try{await Q.put(`/padelite/association/teams/${F.value.id}/change-captain`,null,{params:{new_captain_id:z.value.id}}),f.notify({type:"positive",message:"Capit\xE1n cambiado exitosamente"}),me.value=!1,F.value=null,H.value="",ee.value=[],z.value=null,await Je(),await ye()}catch(a){console.error("Error changing captain:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al cambiar capit\xE1n"})}finally{Ue.value=!1}}},ka=async o=>{var e,a;try{await Q.post(`/padelite/association/tournaments/${A}/assign-group`,{team_id:o.id,group_name:o.group_name}),f.notify({type:"positive",message:`${o.name} asignado a ${o.group_name}`})}catch(n){console.error("Error assigning group:",n),f.notify({type:"negative",message:((a=(e=n.response)==null?void 0:e.data)==null?void 0:a.detail)||"Error al asignar grupo"})}},qa=async o=>{Ie.value=Y.value.find(e=>e.id===o),$e.value=!0,ze.value=!0;try{const{data:e}=await Q.get(`/padelite/teams/${o}/players`);ve.value=e.data||[]}catch(e){console.error("Error fetching team members:",e),f.notify({type:"negative",message:"Error al cargar miembros del equipo"})}finally{ze.value=!1}},Ke=o=>{ke.push(`/player/${o}`)},Ca=async()=>{var o,e;Ee.value=!0;try{const{data:a}=await Q.post(`/padelite/association/tournaments/${A}/generate-matches`);f.notify({type:"positive",message:a.message||"Partidos generados exitosamente"}),f.dialog({title:"Partidos Generados",message:`Se generaron ${a.data.total_matches} partidos organizados en ${a.data.structure.num_jornadas} jornadas.`,dark:!0}),await ae()}catch(a){console.error("Error generating matches:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al generar partidos"})}finally{Ee.value=!1}},Va=async()=>{var o,e;Qe.value=!0;try{const{data:a}=await Q.post(`/padelite/association/tournaments/${A}/generate-elimination`);f.notify({type:"positive",message:a.message||"Cuadro de eliminaci\xF3n generado"}),f.dialog({title:"Cuadro Final",message:`${a.data.qualified_teams} equipos clasificados para la fase final.`,dark:!0})}catch(a){console.error("Error generating elimination:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al generar cuadro final"})}finally{Qe.value=!1}},ae=async()=>{ue.value=!0;try{const{data:o,error:e}=await De.from("padelite_category_matches").select(`
        *,
        team1:padelite_teams!padelite_category_matches_team1_id_fkey (
          name
        ),
        team2:padelite_teams!padelite_category_matches_team2_id_fkey (
          name
        ),
        court:courts (
          name,
          club:clubs (
            name
          )
        )
      `).eq("tournament_id",A).order("jornada").order("match_date").order("match_time");e?(console.error("Error fetching matches:",e),f.notify({type:"negative",message:"Error al cargar partidos"})):R.value=(o||[]).map(a=>{var n,u,w,E,G;return{...a,team1_name:((n=a.team1)==null?void 0:n.name)||"Equipo 1",team2_name:((u=a.team2)==null?void 0:u.name)||"Equipo 2",court_name:((w=a.court)==null?void 0:w.name)||null,club_name:((G=(E=a.court)==null?void 0:E.club)==null?void 0:G.name)||null}})}catch(o){console.error("Error fetching matches:",o),f.notify({type:"negative",message:"Error al cargar partidos"})}finally{ue.value=!1}},Ea=async()=>{try{const{data:o,error:e}=await De.from("courts").select("*").order("name");e?(console.error("Error fetching courts:",e),f.notify({type:"negative",message:"Error al cargar canchas"})):Oe.value=o||[]}catch(o){console.error("Error fetching courts:",o)}},Qa=async()=>{try{const{data:o,error:e}=await De.from("clubs").select("*").order("name");e?(console.error("Error fetching clubs:",e),f.notify({type:"negative",message:"Error al cargar clubs"})):Ye.value=o||[]}catch(o){console.error("Error fetching clubs:",o)}},Sa=o=>{b.value={jornada:o,start_date:"",start_time:"",club_id:null},fe.value=!0,Qa()},$a=async()=>{var o,e;Ge.value=!0;try{const{data:a}=await Q.post(`/padelite/association/tournaments/${A}/schedule-jornada`,b.value);f.notify({type:"positive",message:a.message||"Jornada programada exitosamente"}),fe.value=!1,await ae()}catch(a){console.error("Error scheduling jornada:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al programar jornada"})}finally{Ge.value=!1}},We=async o=>{pe.value=o,j.value={match_date:o.match_date||"",match_time:o.match_time||"",court_id:o.court_id||null},await Ea(),ce.value=!0},Ma=async()=>{var o,e;Te.value=!0;try{const{data:a}=await Q.put(`/padelite/association/tournaments/${A}/matches/${pe.value.id}`,j.value);f.notify({type:"positive",message:"Partido actualizado exitosamente"}),ce.value=!1,await ae()}catch(a){console.error("Error updating match:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al actualizar partido"})}finally{Te.value=!1}},Be=o=>o?new Date(o).toLocaleDateString("es-MX",{year:"numeric",month:"long",day:"numeric"}):"",Pa=o=>{if(!o)return"";const[e,a]=o.split(":");return`${e}:${a}`},ja=()=>{ke.back()},Ua=()=>{ke.push("/association/dashboard")},Xe=o=>{var e,a,n,u,w,E,G,se,ne,ea,aa,ta;U.value=o,o.sets_team1!==void 0&&o.sets_team2!==void 0?d.value={set1_team1:((a=(e=o.score)==null?void 0:e.set1)==null?void 0:a.team1)||null,set1_team2:((u=(n=o.score)==null?void 0:n.set1)==null?void 0:u.team2)||null,set2_team1:((E=(w=o.score)==null?void 0:w.set2)==null?void 0:E.team1)||null,set2_team2:((se=(G=o.score)==null?void 0:G.set2)==null?void 0:se.team2)||null,set3_team1:((ea=(ne=o.score)==null?void 0:ne.set3)==null?void 0:ea.team1)||null,set3_team2:((ta=(aa=o.score)==null?void 0:aa.set3)==null?void 0:ta.team2)||null}:d.value={set1_team1:null,set1_team2:null,set2_team1:null,set2_team2:null,set3_team1:null,set3_team2:null},ge.value=!0},k=D(()=>{var E,G,se,ne;let o=0,e=0,a=0,n=0;d.value.set1_team1!==null&&d.value.set1_team2!==null&&(a+=d.value.set1_team1||0,n+=d.value.set1_team2||0,d.value.set1_team1>d.value.set1_team2?o++:d.value.set1_team2>d.value.set1_team1&&e++),d.value.set2_team1!==null&&d.value.set2_team2!==null&&(a+=d.value.set2_team1||0,n+=d.value.set2_team2||0,d.value.set2_team1>d.value.set2_team2?o++:d.value.set2_team2>d.value.set2_team1&&e++),d.value.set3_team1!==null&&d.value.set3_team2!==null&&(a+=d.value.set3_team1||0,n+=d.value.set3_team2||0,d.value.set3_team1>d.value.set3_team2?o++:d.value.set3_team2>d.value.set3_team1&&e++);const u=o>e?(E=U.value)==null?void 0:E.team1_id:e>o?(G=U.value)==null?void 0:G.team2_id:null,w=o>e?(se=U.value)==null?void 0:se.team1_name:e>o?(ne=U.value)==null?void 0:ne.team2_name:"Empate";return{sets_team1:o,sets_team2:e,points_team1:a,points_team2:n,winner_id:u,winner_name:w}}),Ze=D(()=>{const o=d.value.set1_team1!==null&&d.value.set1_team2!==null,e=d.value.set2_team1!==null&&d.value.set2_team2!==null,a=k.value.sets_team1!==k.value.sets_team2;return o&&e&&a}),Ta=async()=>{var o,e;if(!(!Ze.value||!U.value)){Ae.value=!0;try{const a={set1:{team1:d.value.set1_team1||0,team2:d.value.set1_team2||0},set2:{team1:d.value.set2_team1||0,team2:d.value.set2_team2||0}};d.value.set3_team1!==null&&d.value.set3_team2!==null&&(a.set3={team1:d.value.set3_team1||0,team2:d.value.set3_team2||0});const n={match_id:U.value.id,score:a,winner_team_id:k.value.winner_id,sets_team1:k.value.sets_team1,sets_team2:k.value.sets_team2,points_team1:k.value.points_team1,points_team2:k.value.points_team2},{data:u}=await Q.post(`/padelite/matches/${U.value.id}/score`,n);f.notify({type:"positive",message:"Resultado guardado exitosamente"}),ge.value=!1,await ae()}catch(a){console.error("Error saving score:",a),f.notify({type:"negative",message:((e=(o=a.response)==null?void 0:o.data)==null?void 0:e.detail)||"Error al guardar resultado"})}finally{Ae.value=!1}}};return(o,e)=>(r(),p(Ia,{view:"hHh lpR fFf",class:"text-white"},{default:l(()=>[t(Ja,{elevated:"",class:"text-white"},{default:l(()=>[s("div",Wa,[s("div",{class:"greeting"},[s("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:Ua}),e[33]||(e[33]=s("div",{class:"greeting-text"},[s("p",null,"Bienvenido"),s("p",{class:"text-grey"},"Gestionar Torneo")],-1))]),s("div",Xa,[t(Ha),t(_,{flat:"",round:"",icon:"arrow_back",onClick:ja})])]),t(La)]),_:1}),t(Oa,null,{default:l(()=>[t(Fa,{class:"q-pa-md"},{default:l(()=>[qe.value?(r(),c("div",Za,[t(te,{color:"primary",size:"50px"})])):L.value?(r(),c("div",et,[t(S,{flat:"",bordered:"",class:"q-mb-md bg-transparent text-white"},{default:l(()=>[t(y,null,{default:l(()=>[s("div",at,i(L.value.name),1),s("div",tt,i(Be(L.value.start_date))+" - "+i(Be(L.value.end_date)),1)]),_:1})]),_:1}),t(S,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:l(()=>[t(y,null,{default:l(()=>[t(Ba,{modelValue:_e.value,"onUpdate:modelValue":e[0]||(e[0]=a=>_e.value=a),dense:"",class:"text-grey","active-color":"primary","indicator-color":"primary",align:"justify","narrow-indicator":""},{default:l(()=>[t(be,{name:"teams",label:"Equipos y Grupos"}),t(be,{name:"status",label:"Estado de Equipos"}),t(be,{name:"matches",label:"Partidos de Grupos"}),t(be,{name:"elimination",label:"Cuadro Final"})]),_:1},8,["modelValue"]),t(la),t(Na,{modelValue:_e.value,"onUpdate:modelValue":e[4]||(e[4]=a=>_e.value=a),animated:""},{default:l(()=>[t(he,{name:"teams",class:"q-pa-none"},{default:l(()=>[s("div",lt,[e[34]||(e[34]=s("div",{class:"text-h6"},"Equipos y Grupos",-1)),s("div",ot,[t(_,{flat:"",color:"primary",icon:"group_add",label:"Crear Equipo",onClick:e[1]||(e[1]=a=>de.value=!0)}),t(_,{flat:"",color:"primary",icon:"edit",label:"Asignar Grupos",onClick:e[2]||(e[2]=a=>Se.value=!0),disable:Y.value.length===0},null,8,["disable"])])]),Ce.value?(r(),c("div",st,[t(te,{color:"primary",size:"30px"})])):Y.value.length===0?(r(),c("div",nt,[t(q,{name:"group_add",size:"48px",class:"q-mb-md"}),e[35]||(e[35]=s("div",{class:"text-subtitle1"},"No hay equipos creados",-1)),e[36]||(e[36]=s("div",{class:"text-caption"},"Crea equipos para comenzar el torneo",-1))])):(r(),c("div",rt,[(r(!0),c($,null,M(Re.value,(a,n)=>(r(),c("div",{key:n,class:"q-mb-md"},[s("div",it,i(n),1),t(N,{separator:""},{default:l(()=>[(r(!0),c($,null,M(a,u=>(r(),p(B,{key:u.id},{default:l(()=>[t(g,{avatar:""},{default:l(()=>[u.logo_url?(r(),p(T,{key:0},{default:l(()=>[s("img",{src:u.logo_url},null,8,ut)]),_:2},1024)):(r(),p(T,{key:1,color:"primary","text-color":"white"},{default:l(()=>[v(i(u.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(u.name),1)]),_:2},1024),u.captain_name?(r(),p(x,{key:0,caption:""},{default:l(()=>[v(" Capit\xE1n: "+i(u.captain_name),1)]),_:2},1024)):h("",!0)]),_:2},1024),t(g,{side:""},{default:l(()=>[s("div",dt,[t(_,{flat:"",round:"",icon:"visibility",color:"primary",onClick:w=>qa(u.id)},{default:l(()=>[t(sa,null,{default:l(()=>[...e[37]||(e[37]=[v("Ver Miembros",-1)])]),_:1})]),_:1},8,["onClick"]),t(_,{flat:"",round:"",icon:"swap_horiz",color:"warning",onClick:w=>ba(u)},{default:l(()=>[t(sa,null,{default:l(()=>[...e[38]||(e[38]=[v("Cambiar Capit\xE1n",-1)])]),_:1})]),_:1},8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128))]))]),_:1}),t(he,{name:"status",class:"q-pa-none"},{default:l(()=>[s("div",mt,[e[39]||(e[39]=s("div",{class:"text-h6"},"Estado de Equipos",-1)),t(_,{flat:"",color:"primary",icon:"refresh",label:"Actualizar",onClick:ye,loading:Ve.value},null,8,["loading"])]),K.value?(r(),c("div",ct,[s("div",vt,[t(S,{flat:"",bordered:"",class:"col bg-grey-9"},{default:l(()=>[t(y,null,{default:l(()=>{var a;return[e[40]||(e[40]=s("div",{class:"text-caption"},"Total Equipos",-1)),s("div",pt,i(((a=K.value.summary)==null?void 0:a.total_teams)||0),1)]}),_:1})]),_:1}),t(S,{flat:"",bordered:"",class:"col bg-grey-9"},{default:l(()=>[t(y,null,{default:l(()=>{var a;return[e[41]||(e[41]=s("div",{class:"text-caption"},"Equipos Completos",-1)),s("div",_t,i(((a=K.value.summary)==null?void 0:a.complete_teams)||0),1)]}),_:1})]),_:1}),t(S,{flat:"",bordered:"",class:"col bg-grey-9"},{default:l(()=>[t(y,null,{default:l(()=>{var a;return[e[42]||(e[42]=s("div",{class:"text-caption"},"Equipos con Pago Completo",-1)),s("div",ft,i(((a=K.value.summary)==null?void 0:a.teams_with_full_payment)||0),1)]}),_:1})]),_:1})]),t(N,{separator:""},{default:l(()=>[(r(!0),c($,null,M(K.value.data,a=>(r(),p(B,{key:a.id},{default:l(()=>[t(g,{avatar:""},{default:l(()=>[a.logo_url?(r(),p(T,{key:0},{default:l(()=>[s("img",{src:a.logo_url},null,8,gt)]),_:2},1024)):(r(),p(T,{key:1,color:"primary","text-color":"white"},{default:l(()=>[v(i(a.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(a.name),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v("Capit\xE1n: "+i(a.captain_name),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v(" Jugadores: "+i(a.total_players)+"/"+i(a.required_players)+" ("+i(a.completion_percentage)+"%) ",1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v(" Pagados: "+i(a.paid_players)+"/"+i(a.total_players),1)]),_:2},1024)]),_:2},1024),t(g,{side:""},{default:l(()=>[s("div",yt,[t(re,{color:a.is_complete?"positive":"warning",label:a.is_complete?"Completo":"Incompleto"},null,8,["color","label"]),t(re,{color:a.all_players_paid?"positive":"warning",label:a.all_players_paid?"Pagado":"Pendiente"},null,8,["color","label"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])):h("",!0)]),_:1}),t(he,{name:"matches",class:"q-pa-none"},{default:l(()=>[s("div",bt,[e[43]||(e[43]=s("div",{class:"text-h6"},"Partidos de Fase de Grupos",-1)),s("div",ht,[t(_,{flat:"",color:"primary",icon:"refresh",label:"Actualizar",onClick:ae,loading:ue.value},null,8,["loading"]),t(_,{color:"primary","text-color":"black",icon:"sports",label:"Generar Partidos",onClick:Ca,loading:Ee.value,disable:Object.keys(Re.value).length===0||va.value},null,8,["loading","disable"])])]),ue.value?(r(),c("div",xt,[t(te,{color:"primary",size:"50px"}),e[44]||(e[44]=s("div",{class:"text-caption q-mt-md"},"Cargando partidos...",-1))])):R.value.length===0?(r(),c("div",wt,[t(q,{name:"sports",size:"48px",class:"q-mb-md"}),e[45]||(e[45]=s("div",{class:"text-subtitle1"},"No hay partidos generados",-1)),e[46]||(e[46]=s("div",{class:"text-caption"},"Genera los partidos para verlos aqu\xED",-1))])):(r(),c("div",kt,[t(ie,{modelValue:oe.value,"onUpdate:modelValue":e[3]||(e[3]=a=>oe.value=a),options:Le.value,label:"Filtrar por Jornada",clearable:"",outlined:"",dense:"",class:"q-mb-md",style:{"max-width":"300px"}},null,8,["modelValue","options"]),(r(!0),c($,null,M(ca.value,a=>(r(),c("div",{key:a.name,class:"q-mb-lg"},[s("div",qt,[s("div",Ct,i(a.name),1),a.name!=="Sin Jornada"&&a.matches.length>0?(r(),p(_,{key:0,color:"secondary",icon:"schedule",label:"Programar Jornada",size:"sm",onClick:n=>Sa(a.matches[0].jornada),disable:pa.value(a.matches[0].jornada)},null,8,["onClick","disable"])):h("",!0)]),t(N,{bordered:"",separator:""},{default:l(()=>[(r(!0),c($,null,M(a.matches,n=>(r(),p(B,{key:n.id},{default:l(()=>[t(g,null,{default:l(()=>[t(x,{class:"text-weight-medium q-mb-xs"},{default:l(()=>[v(i(n.team1_name)+" vs "+i(n.team2_name)+" ("+i(n.category.toUpperCase())+") ",1)]),_:2},1024),s("div",Vt,[n.club_name?(r(),p(xe,{key:0,size:"sm",color:"secondary","text-color":"white",icon:"location_on"},{default:l(()=>[v(i(n.club_name),1)]),_:2},1024)):h("",!0),n.court_name?(r(),p(xe,{key:1,size:"sm",color:"secondary","text-color":"white",icon:"sports_tennis"},{default:l(()=>[v(i(n.court_name),1)]),_:2},1024)):h("",!0),n.match_date&&n.match_time?(r(),p(xe,{key:2,size:"sm",color:"primary","text-color":"black",icon:"event",clickable:"",onClick:u=>We(n)},{default:l(()=>[v(i(Be(n.match_date))+" "+i(Pa(n.match_time)),1)]),_:2},1032,["onClick"])):(r(),p(xe,{key:3,size:"sm",color:"primary","text-color":"black",icon:"event",clickable:"",onClick:u=>We(n)},{default:l(()=>[...e[47]||(e[47]=[v(" Sin programar ",-1)])]),_:1},8,["onClick"]))])]),_:2},1024),t(g,{side:""},{default:l(()=>[s("div",Et,[n.winner_team_id?(r(),p(re,{key:0,color:"positive",label:"Completado",clickable:"",onClick:u=>Xe(n),style:{cursor:"pointer"}},null,8,["onClick"])):(r(),p(re,{key:1,color:"warning",label:"Pendiente",clickable:"",onClick:u=>Xe(n),style:{cursor:"pointer"}},null,8,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128))]))]),_:1}),t(he,{name:"elimination",class:"q-pa-none"},{default:l(()=>[e[48]||(e[48]=s("div",{class:"text-h6 q-mb-md"},"Cuadro de Eliminaci\xF3n",-1)),e[49]||(e[49]=s("p",{class:"text-caption q-mb-md"}," Una vez completada la fase de grupos, puedes generar el cuadro de eliminaci\xF3n. ",-1)),t(_,{color:"primary",icon:"emoji_events",label:"Generar Cuadro Final",onClick:Va,loading:Qe.value},null,8,["loading"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(I,{modelValue:Fe.value,"onUpdate:modelValue":e[5]||(e[5]=a=>Fe.value=a),maximized:""},{default:l(()=>[t(S,{class:"bg-dark text-white"},{default:l(()=>[t(y,{class:"row items-center q-pb-none"},{default:l(()=>[e[50]||(e[50]=s("div",{class:"text-h6"},"Vista Previa de Grupos",-1)),t(Ne),C(t(_,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),t(y,null,{default:l(()=>[W.value?(r(),c("div",Qt,[W.value.teams_without_group&&W.value.teams_without_group.length>0?(r(),c("div",St,[t(Da,{class:"bg-warning text-dark"},{avatar:l(()=>[t(q,{name:"warning"})]),default:l(()=>[v(" "+i(W.value.teams_without_group.length)+" equipos sin grupo asignado ",1)]),_:1})])):h("",!0),(r(!0),c($,null,M(W.value.groups,(a,n)=>(r(),c("div",{key:n,class:"q-mb-lg"},[s("div",$t,i(n),1),t(N,{bordered:"",separator:""},{default:l(()=>[(r(!0),c($,null,M(a,u=>(r(),p(B,{key:u.id},{default:l(()=>[t(g,{avatar:""},{default:l(()=>[u.logo_url?(r(),p(T,{key:0},{default:l(()=>[s("img",{src:u.logo_url},null,8,Mt)]),_:2},1024)):(r(),p(T,{key:1,color:"primary","text-color":"white"},{default:l(()=>[v(i(u.name.charAt(0)),1)]),_:2},1024))]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(u.name),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v("Capit\xE1n: "+i(u.captain_name),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]))),128)),W.value.is_closed?(r(),c("div",jt,[t(q,{name:"lock"}),e[51]||(e[51]=v(" Los grupos est\xE1n bloqueados - el torneo est\xE1 cerrado. ",-1))])):(r(),c("div",Pt," Puedes seguir moviendo equipos entre grupos hasta cerrar el torneo. "))])):h("",!0)]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cerrar",color:"grey"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:$e.value,"onUpdate:modelValue":e[6]||(e[6]=a=>$e.value=a),maximized:""},{default:l(()=>[t(S,{class:"bg-dark text-white"},{default:l(()=>[t(y,{class:"row items-center q-pb-none"},{default:l(()=>{var a;return[s("div",Ut,"Miembros del Equipo - "+i((a=Ie.value)==null?void 0:a.name),1),t(Ne),C(t(_,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]}),_:1}),t(y,null,{default:l(()=>[ze.value?(r(),c("div",Tt,[t(te,{color:"primary",size:"50px"})])):ve.value.length===0?(r(),c("div",zt,[t(q,{name:"people",size:"80px"}),e[52]||(e[52]=s("div",{class:"text-h6 q-mt-md"},"No hay miembros asignados",-1))])):(r(),c("div",Gt,[(r(!0),c($,null,M(ma.value,a=>(r(),c("div",{key:a.name,class:"q-mb-lg"},[s("div",At,"Categor\xEDa "+i(a.name),1),t(N,{bordered:"",separator:""},{default:l(()=>[(r(!0),c($,null,M(a.members,n=>(r(),p(B,{key:n.id,clickable:"",onClick:u=>Ke(n.player_id)},{default:l(()=>[t(g,{avatar:""},{default:l(()=>[t(T,{color:"primary","text-color":"white"},{default:l(()=>{var u;return[v(i(((u=n.player_name)==null?void 0:u.charAt(0))||"?"),1)]}),_:2},1024)]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(n.player_name||"Sin nombre"),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[t(re,{color:n.payment_status==="paid"?"positive":"warning",label:n.payment_status==="paid"?"Pagado":"Pendiente"},null,8,["color","label"])]),_:2},1024)]),_:2},1024),t(g,{side:""},{default:l(()=>[t(q,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:2},1024)]))),128)),He.value.length>0?(r(),c("div",Jt,[e[54]||(e[54]=s("div",{class:"text-h6 q-mb-md text-grey"},"Pendientes de Asignar",-1)),t(N,{bordered:"",separator:""},{default:l(()=>[(r(!0),c($,null,M(He.value,a=>(r(),p(B,{key:a.id,clickable:"",onClick:n=>Ke(a.player_id)},{default:l(()=>[t(g,{avatar:""},{default:l(()=>[t(T,{color:"grey","text-color":"white"},{default:l(()=>{var n;return[v(i(((n=a.player_name)==null?void 0:n.charAt(0))||"?"),1)]}),_:2},1024)]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(a.player_name||"Sin nombre"),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[...e[53]||(e[53]=[v("Sin categor\xEDa asignada",-1)])]),_:1})]),_:2},1024),t(g,{side:""},{default:l(()=>[t(q,{name:"chevron_right"})]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1})])):h("",!0)]))]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cerrar",color:"grey"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:de.value,"onUpdate:modelValue":e[9]||(e[9]=a=>de.value=a)},{default:l(()=>[t(S,{style:{"min-width":"500px"},class:"bg-dark text-white"},{default:l(()=>[t(y,null,{default:l(()=>[...e[55]||(e[55]=[s("div",{class:"text-h6"},"Crear Nuevo Equipo",-1)])]),_:1}),t(y,{class:"q-gutter-md"},{default:l(()=>[t(P,{modelValue:X.value.name,"onUpdate:modelValue":e[7]||(e[7]=a=>X.value.name=a),label:"Nombre del Equipo",outlined:"",dense:"",dark:"",rules:[a=>!!a||"El nombre es requerido"]},null,8,["modelValue","rules"]),t(P,{modelValue:Z.value,"onUpdate:modelValue":[e[8]||(e[8]=a=>Z.value=a),fa],label:"Buscar Capit\xE1n (nombre o email)",outlined:"",dense:"",dark:"",debounce:"500"},{append:l(()=>[t(q,{name:"search"})]),_:1},8,["modelValue"]),Pe.value?(r(),p(N,{key:0,class:"q-mt-md"},{default:l(()=>[t(B,null,{default:l(()=>[t(g,null,{default:l(()=>[t(te,{color:"primary",size:"20px"})]),_:1})]),_:1})]),_:1})):le.value.length>0?(r(),p(N,{key:1,bordered:"",separator:"",class:"q-mt-md rounded-borders"},{default:l(()=>[(r(!0),c($,null,M(le.value,a=>{var n;return r(),p(B,{key:a.id,clickable:"",onClick:u=>ga(a),class:oa({"bg-primary":((n=J.value)==null?void 0:n.id)===a.id})},{default:l(()=>{var u;return[t(g,{avatar:""},{default:l(()=>[t(T,{color:"primary","text-color":"white"},{default:l(()=>{var w,E;return[v(i(((w=a.name)==null?void 0:w.charAt(0))||((E=a.email)==null?void 0:E.charAt(0))),1)]}),_:2},1024)]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(a.name||a.email),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v(i(a.email),1)]),_:2},1024)]),_:2},1024),((u=J.value)==null?void 0:u.id)===a.id?(r(),p(g,{key:0,side:""},{default:l(()=>[t(q,{name:"check_circle",color:"white"})]),_:1})):h("",!0)]}),_:2},1032,["onClick","class"])}),128))]),_:1})):h("",!0),J.value?(r(),c("div",Bt,[e[56]||(e[56]=s("div",{class:"text-subtitle2"},"Capit\xE1n Seleccionado:",-1)),s("div",Nt,i(J.value.name||J.value.email),1)])):h("",!0)]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cancelar",color:"grey"},null,512),[[V]]),t(_,{flat:"",label:"Crear Equipo",color:"primary",onClick:ya,loading:Me.value,disable:!X.value.name||!J.value},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:me.value,"onUpdate:modelValue":e[11]||(e[11]=a=>me.value=a)},{default:l(()=>[t(S,{style:{"min-width":"500px"},class:"bg-dark text-white"},{default:l(()=>[t(y,null,{default:l(()=>[e[57]||(e[57]=s("div",{class:"text-h6"},"Cambiar Capit\xE1n",-1)),F.value?(r(),c("div",Dt," Equipo: "+i(F.value.name),1)):h("",!0)]),_:1}),t(y,{class:"q-gutter-md"},{default:l(()=>{var a;return[(a=F.value)!=null&&a.captain_name?(r(),c("div",Ft,[e[58]||(e[58]=s("div",{class:"text-caption"},"Capit\xE1n Actual:",-1)),s("div",It,i(F.value.captain_name),1)])):h("",!0),t(P,{modelValue:H.value,"onUpdate:modelValue":[e[10]||(e[10]=n=>H.value=n),ha],label:"Buscar Nuevo Capit\xE1n (nombre o email)",outlined:"",dense:"",dark:"",debounce:"500"},{append:l(()=>[t(q,{name:"search"})]),_:1},8,["modelValue"]),je.value?(r(),p(N,{key:1,class:"q-mt-md"},{default:l(()=>[t(B,null,{default:l(()=>[t(g,null,{default:l(()=>[t(te,{color:"primary",size:"20px"})]),_:1})]),_:1})]),_:1})):ee.value.length>0?(r(),p(N,{key:2,bordered:"",separator:"",class:"q-mt-md rounded-borders"},{default:l(()=>[(r(!0),c($,null,M(ee.value,n=>{var u;return r(),p(B,{key:n.id,clickable:"",onClick:w=>xa(n),class:oa({"bg-primary":((u=z.value)==null?void 0:u.id)===n.id})},{default:l(()=>{var w;return[t(g,{avatar:""},{default:l(()=>[t(T,{color:"primary","text-color":"white"},{default:l(()=>{var E,G;return[v(i(((E=n.name)==null?void 0:E.charAt(0))||((G=n.email)==null?void 0:G.charAt(0))),1)]}),_:2},1024)]),_:2},1024),t(g,null,{default:l(()=>[t(x,null,{default:l(()=>[v(i(n.name||n.email),1)]),_:2},1024),t(x,{caption:""},{default:l(()=>[v(i(n.email),1)]),_:2},1024)]),_:2},1024),((w=z.value)==null?void 0:w.id)===n.id?(r(),p(g,{key:0,side:""},{default:l(()=>[t(q,{name:"check_circle",color:"white"})]),_:1})):h("",!0)]}),_:2},1032,["onClick","class"])}),128))]),_:1})):h("",!0),z.value?(r(),c("div",Ot,[e[59]||(e[59]=s("div",{class:"text-subtitle2"},"Nuevo Capit\xE1n Seleccionado:",-1)),s("div",Rt,i(z.value.name||z.value.email),1)])):h("",!0)]}),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cancelar",color:"grey"},null,512),[[V]]),t(_,{flat:"",label:"Cambiar Capit\xE1n",color:"primary",onClick:wa,disable:!z.value,loading:Ue.value},null,8,["disable","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:Se.value,"onUpdate:modelValue":e[12]||(e[12]=a=>Se.value=a),maximized:""},{default:l(()=>[t(S,{class:"bg-dark text-white"},{default:l(()=>[t(y,{class:"row items-center q-pb-none"},{default:l(()=>[e[60]||(e[60]=s("div",{class:"text-h6"},"Asignar Equipos a Grupos",-1)),t(Ne),C(t(_,{icon:"close",flat:"",round:"",dense:""},null,512),[[V]])]),_:1}),t(y,null,{default:l(()=>[(r(!0),c($,null,M(Y.value,a=>(r(),c("div",{key:a.id,class:"q-mb-md"},[s("div",Ht,[s("div",Lt,[s("div",Yt,[a.logo_url?(r(),p(T,{key:0,size:"40px"},{default:l(()=>[s("img",{src:a.logo_url},null,8,Kt)]),_:2},1024)):(r(),p(T,{key:1,size:"40px",color:"primary","text-color":"white"},{default:l(()=>[v(i(a.name.charAt(0)),1)]),_:2},1024)),s("span",Wt,i(a.name),1)])]),s("div",Xt,[t(ie,{modelValue:a.group_name,"onUpdate:modelValue":[n=>a.group_name=n,n=>ka(a)],options:da,label:"Grupo",outlined:"",dense:"",dark:""},null,8,["modelValue","onUpdate:modelValue"])])])]))),128))]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cerrar",color:"grey"},null,512),[[V]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:ce.value,"onUpdate:modelValue":e[18]||(e[18]=a=>ce.value=a)},{default:l(()=>[t(S,{class:"bg-dark text-white",style:{"min-width":"90vw","max-width":"500px"}},{default:l(()=>[t(y,null,{default:l(()=>{var a,n;return[e[61]||(e[61]=s("div",{class:"text-h6"},"Editar Partido",-1)),s("div",Zt,i((a=pe.value)==null?void 0:a.team1_name)+" vs "+i((n=pe.value)==null?void 0:n.team2_name),1)]}),_:1}),t(y,{class:"q-pt-none"},{default:l(()=>[s("div",el,[t(P,{modelValue:j.value.match_date,"onUpdate:modelValue":e[14]||(e[14]=a=>j.value.match_date=a),label:"Fecha del partido",outlined:"",dense:"",readonly:""},{append:l(()=>[t(q,{name:"event",class:"cursor-pointer"},{default:l(()=>[t(we,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(na,{modelValue:j.value.match_date,"onUpdate:modelValue":e[13]||(e[13]=a=>j.value.match_date=a),mask:"YYYY-MM-DD",minimal:""},{default:l(()=>[s("div",al,[C(t(_,{label:"OK",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(P,{modelValue:j.value.match_time,"onUpdate:modelValue":e[16]||(e[16]=a=>j.value.match_time=a),label:"Hora del partido",outlined:"",dense:"",readonly:""},{append:l(()=>[t(q,{name:"access_time",class:"cursor-pointer"},{default:l(()=>[t(we,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(ra,{modelValue:j.value.match_time,"onUpdate:modelValue":e[15]||(e[15]=a=>j.value.match_time=a),mask:"HH:mm",format24h:""},{default:l(()=>[s("div",tl,[C(t(_,{label:"OK",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ie,{modelValue:j.value.court_id,"onUpdate:modelValue":e[17]||(e[17]=a=>j.value.court_id=a),options:Oe.value,"option-value":"id","option-label":"name",label:"Cancha",clearable:"",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cancelar",color:"grey"},null,512),[[V]]),t(_,{flat:"",label:"Guardar",color:"primary",onClick:Ma,loading:Te.value},null,8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:fe.value,"onUpdate:modelValue":e[25]||(e[25]=a=>fe.value=a)},{default:l(()=>[t(S,{style:{"min-width":"500px"},class:"bg-dark text-white"},{default:l(()=>[t(y,null,{default:l(()=>[...e[62]||(e[62]=[s("div",{class:"text-h6"},"Programar Jornada",-1),s("div",{class:"text-caption"}," Asigna fecha, hora y club para generar horarios sugeridos ",-1)])]),_:1}),t(y,{class:"q-pt-none"},{default:l(()=>[s("div",ll,[t(ie,{modelValue:b.value.jornada,"onUpdate:modelValue":e[19]||(e[19]=a=>b.value.jornada=a),options:Le.value,"display-value":b.value.jornada?`Jornada ${b.value.jornada}`:"Selecciona Jornada",label:"Jornada",outlined:"",dense:"","map-options":"","emit-value":""},null,8,["modelValue","options","display-value"]),t(P,{modelValue:b.value.start_date,"onUpdate:modelValue":e[21]||(e[21]=a=>b.value.start_date=a),label:"Fecha de inicio",outlined:"",dense:"",readonly:""},{append:l(()=>[t(q,{name:"event",class:"cursor-pointer"},{default:l(()=>[t(we,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(na,{modelValue:b.value.start_date,"onUpdate:modelValue":e[20]||(e[20]=a=>b.value.start_date=a),mask:"YYYY-MM-DD",minimal:""},{default:l(()=>[s("div",ol,[C(t(_,{label:"OK",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(P,{modelValue:b.value.start_time,"onUpdate:modelValue":e[23]||(e[23]=a=>b.value.start_time=a),label:"Hora de inicio",outlined:"",dense:"",readonly:""},{append:l(()=>[t(q,{name:"access_time",class:"cursor-pointer"},{default:l(()=>[t(we,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:l(()=>[t(ra,{modelValue:b.value.start_time,"onUpdate:modelValue":e[22]||(e[22]=a=>b.value.start_time=a),mask:"HH:mm",format24h:""},{default:l(()=>[s("div",sl,[C(t(_,{label:"OK",color:"primary",flat:""},null,512),[[V]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ie,{modelValue:b.value.club_id,"onUpdate:modelValue":e[24]||(e[24]=a=>b.value.club_id=a),options:Ye.value,"option-value":"id","option-label":"name",label:"Club",outlined:"",dense:"","emit-value":"","map-options":""},null,8,["modelValue","options"])])]),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cancelar",color:"grey"},null,512),[[V]]),t(_,{flat:"",label:"Programar",color:"primary",onClick:$a,loading:Ge.value,disable:!b.value.jornada||!b.value.start_date||!b.value.start_time||!b.value.club_id},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(I,{modelValue:ge.value,"onUpdate:modelValue":e[32]||(e[32]=a=>ge.value=a)},{default:l(()=>[t(S,{class:"bg-dark text-white",style:{"min-width":"90vw","max-width":"500px"}},{default:l(()=>[t(y,null,{default:l(()=>{var a,n;return[e[63]||(e[63]=s("div",{class:"text-h6"},"Registrar Resultado",-1)),s("div",nl,i((a=U.value)==null?void 0:a.team1_name)+" vs "+i((n=U.value)==null?void 0:n.team2_name),1)]}),_:1}),t(y,{class:"q-pt-none"},{default:l(()=>{var a,n;return[s("div",rl,[s("div",il,[s("div",ul,[s("div",dl,i((a=U.value)==null?void 0:a.team1_name),1),t(P,{modelValue:d.value.set1_team1,"onUpdate:modelValue":e[26]||(e[26]=u=>d.value.set1_team1=u),modelModifiers:{number:!0},type:"number",label:"Set 1",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])]),e[64]||(e[64]=s("div",{class:"col-2 text-center text-h6"},"-",-1)),s("div",ml,[s("div",cl,i((n=U.value)==null?void 0:n.team2_name),1),t(P,{modelValue:d.value.set1_team2,"onUpdate:modelValue":e[27]||(e[27]=u=>d.value.set1_team2=u),modelModifiers:{number:!0},type:"number",label:"Set 1",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])])]),s("div",vl,[s("div",pl,[t(P,{modelValue:d.value.set2_team1,"onUpdate:modelValue":e[28]||(e[28]=u=>d.value.set2_team1=u),modelModifiers:{number:!0},type:"number",label:"Set 2",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])]),e[65]||(e[65]=s("div",{class:"col-2 text-center text-h6"},"-",-1)),s("div",_l,[t(P,{modelValue:d.value.set2_team2,"onUpdate:modelValue":e[29]||(e[29]=u=>d.value.set2_team2=u),modelModifiers:{number:!0},type:"number",label:"Set 2",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])])]),s("div",fl,[s("div",gl,[t(P,{modelValue:d.value.set3_team1,"onUpdate:modelValue":e[30]||(e[30]=u=>d.value.set3_team1=u),modelModifiers:{number:!0},type:"number",label:"Set 3 (opcional)",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])]),e[66]||(e[66]=s("div",{class:"col-2 text-center text-h6"},"-",-1)),s("div",yl,[t(P,{modelValue:d.value.set3_team2,"onUpdate:modelValue":e[31]||(e[31]=u=>d.value.set3_team2=u),modelModifiers:{number:!0},type:"number",label:"Set 3 (opcional)",outlined:"",dense:"",min:"0",max:"7",style:{"max-width":"100px",margin:"0 auto"}},null,8,["modelValue"])])]),t(la,{class:"q-my-md"}),k.value.sets_team1>0||k.value.sets_team2>0?(r(),c("div",bl,[e[70]||(e[70]=s("div",{class:"text-subtitle2 q-mb-xs"},"Resumen:",-1)),s("div",hl,[e[67]||(e[67]=v(" Sets: ",-1)),s("strong",null,i(k.value.sets_team1),1),e[68]||(e[68]=v(" - ",-1)),s("strong",null,i(k.value.sets_team2),1)]),k.value.winner_id?(r(),c("div",xl,[e[69]||(e[69]=v(" Ganador: ",-1)),s("strong",wl,i(k.value.winner_name),1)])):k.value.sets_team1===k.value.sets_team2?(r(),c("div",kl," \u26A0\uFE0F Los sets deben tener un ganador ")):h("",!0)])):h("",!0)])]}),_:1}),t(O,{align:"right"},{default:l(()=>[C(t(_,{flat:"",label:"Cancelar",color:"grey"},null,512),[[V]]),t(_,{flat:"",label:"Guardar",color:"primary","text-color":"black",onClick:Ta,loading:Ae.value,disable:!Ze.value},null,8,["loading","disable"])]),_:1})]),_:1})]),_:1},8,["modelValue"])])):(r(),c("div",ql,[...e[71]||(e[71]=[s("div",{class:"text-h6"},"Torneo no encontrado",-1)])]))]),_:1})]),_:1}),t(Ya)]),_:1}))}};var uo=Ka(Cl,[["__scopeId","data-v-2f2683d0"]]);export{uo as default};
