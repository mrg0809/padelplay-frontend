import{F as P,r as f,j as b,y as S,k as u,G as y,H as t,p as e,I as o,J as $,ab as c,ac as m,q as n,l as h,Q as A,ae as D,af as L,ad as r,ag as _,aO as V}from"./index.63dc7e23.js";import{Q as M}from"./QHeader.fafcae42.js";import{Q}from"./QItemLabel.8574eb87.js";import{Q as p,a as l}from"./QItem.0839bf79.js";import{Q as q}from"./QList.e359b89a.js";import{Q as j}from"./QPage.2aaa1d93.js";import{Q as H,a as E}from"./QLayout.554612a4.js";import{Q as z}from"./QDrawer.f14a419c.js";import{u as G}from"./use-quasar.a32cc7fc.js";import{a as J}from"./api.e96a150b.js";import{N as O}from"./NotificationBell.7dc8c9be.js";import{B as U}from"./BannerPromoScrolling.c3a2856e.js";import{A as K}from"./AssociationNavigationMenu.7505c96c.js";import{_ as W}from"./plugin-vue_export-helper.21dcd24c.js";import"./TouchPan.3a6f0bc9.js";import"./touch.9135741d.js";import"./selection.f8391a45.js";import"./format.de7e9769.js";import"./index.c98ef0da.js";import"./QBadge.4d5b740f.js";import"./pinia.53eba05e.js";import"./admin.48eb7fea.js";import"./QTabs.6a3d63d5.js";import"./rtl.276c3f1b.js";import"./QFooter.9d6e02eb.js";const X={class:"header-content"},Y={class:"header-icons"},Z={class:"row q-col-gutter-md q-mb-md"},ee={class:"col-12 col-md-4"},te={class:"text-h4 text-positive"},ae={class:"col-12 col-md-4"},oe={class:"text-h4 text-warning"},se={class:"col-12 col-md-4"},le={class:"text-h4 text-primary"},ie={key:0,class:"text-center"},ne={class:"text-right"},re={class:"text-positive text-bold"},de={class:"text-caption text-grey"},ue={class:"text-caption"},ce={key:2,class:"text-center text-grey q-pa-md"},me={class:"text-caption q-mb-md"},pe={__name:"AssociationRevenue",setup(ve){const v=P();G();const g=f(!1),d=f([]),x=f(!1),k=f(10),w=b(()=>d.value.reduce((s,a)=>s+a.total_revenue,0)),C=b(()=>d.value.reduce((s,a)=>s+a.commission,0)),R=b(()=>w.value-C.value);S(async()=>{await B()});const B=async()=>{g.value=!0;try{const{data:s}=await J.get("/padelite/association/revenue");d.value=s.data||[],s.commission_rate&&(k.value=s.commission_rate)}catch(s){console.error("Error fetching revenue:",s),d.value=[]}finally{g.value=!1}},I=()=>{v.push("/association/dashboard")},F=()=>{v.push("/association/tournaments")},N=()=>{v.push("/association/revenue")},T=()=>{localStorage.removeItem("token"),v.push("/")};return(s,a)=>(u(),y(H,{view:"hHh lpR fFf",class:"text-white"},{default:t(()=>[e(M,{elevated:"",class:"text-white"},{default:t(()=>[o("div",X,[o("div",{class:"greeting"},[o("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:I}),a[2]||(a[2]=o("div",{class:"greeting-text"},[o("p",null,"Bienvenido"),o("p",{class:"text-grey"},"Ingresos")],-1))]),o("div",Y,[e(O),e($,{flat:"",round:"",icon:"menu",onClick:a[0]||(a[0]=i=>x.value=!0)})])]),e(U)]),_:1}),e(E,null,{default:t(()=>[e(j,{class:"q-pa-md"},{default:t(()=>[a[9]||(a[9]=o("div",{class:"text-h5 q-mb-md"},"Ingresos de la Asociaci\xF3n",-1)),o("div",Z,[o("div",ee,[e(c,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:t(()=>[e(m,null,{default:t(()=>[a[3]||(a[3]=o("div",{class:"text-caption"},"Ingresos Totales",-1)),o("div",te,"$"+n(w.value.toFixed(2)),1)]),_:1})]),_:1})]),o("div",ae,[e(c,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:t(()=>[e(m,null,{default:t(()=>[a[4]||(a[4]=o("div",{class:"text-caption"},"Comisi\xF3n PadelPlay",-1)),o("div",oe,"$"+n(C.value.toFixed(2)),1)]),_:1})]),_:1})]),o("div",se,[e(c,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:t(()=>[e(m,null,{default:t(()=>[a[5]||(a[5]=o("div",{class:"text-caption"},"Ingresos Netos",-1)),o("div",le,"$"+n(R.value.toFixed(2)),1)]),_:1})]),_:1})])]),e(c,{flat:"",bordered:"",class:"bg-transparent text-white q-mb-md"},{default:t(()=>[e(m,null,{default:t(()=>[a[6]||(a[6]=o("div",{class:"text-h6 q-mb-md"},"Ingresos por Torneo",-1)),g.value?(u(),h("div",ie,[e(A,{color:"primary",size:"50px"})])):d.value.length>0?(u(),y(q,{key:1,separator:""},{default:t(()=>[(u(!0),h(L,null,D(d.value,i=>(u(),y(p,{key:i.tournament_id},{default:t(()=>[e(l,null,{default:t(()=>[e(Q,null,{default:t(()=>[r(n(i.tournament_name),1)]),_:2},1024),e(Q,{caption:""},{default:t(()=>[r(n(i.registered_players)+" jugadores inscritos ",1)]),_:2},1024)]),_:2},1024),e(l,{side:""},{default:t(()=>[o("div",ne,[o("div",re,"$"+n(i.total_revenue.toFixed(2)),1),o("div",de,"Comisi\xF3n: $"+n(i.commission.toFixed(2)),1),o("div",ue,"Neto: $"+n(i.net_revenue.toFixed(2)),1)])]),_:2},1024)]),_:2},1024))),128))]),_:1})):(u(),h("div",ce," No hay datos de ingresos disponibles "))]),_:1})]),_:1}),e(c,{flat:"",bordered:"",class:"bg-transparent text-white"},{default:t(()=>[e(m,null,{default:t(()=>[a[7]||(a[7]=o("div",{class:"text-h6 q-mb-md"},"Detalles de Pagos",-1)),o("div",me," Tasa de comisi\xF3n de PadelPlay: "+n(k.value)+"% ",1),a[8]||(a[8]=o("div",{class:"text-caption text-grey"}," La comisi\xF3n se calcula sobre cada inscripci\xF3n de jugador ",-1))]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{modelValue:x.value,"onUpdate:modelValue":a[1]||(a[1]=i=>x.value=i),side:"right",overlay:"",behavior:"mobile",class:"bg-dark text-white"},{default:t(()=>[e(q,null,{default:t(()=>[e(Q,{header:""},{default:t(()=>a[10]||(a[10]=[r("Men\xFA")])),_:1}),e(p,{clickable:"",onClick:I},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(_,{name:"home"})]),_:1}),e(l,null,{default:t(()=>a[11]||(a[11]=[r("Dashboard")])),_:1})]),_:1}),e(p,{clickable:"",onClick:F},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(_,{name:"emoji_events"})]),_:1}),e(l,null,{default:t(()=>a[12]||(a[12]=[r("Mis Torneos")])),_:1})]),_:1}),e(p,{clickable:"",onClick:N},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(_,{name:"attach_money"})]),_:1}),e(l,null,{default:t(()=>a[13]||(a[13]=[r("Ingresos")])),_:1})]),_:1}),e(V),e(p,{clickable:"",onClick:T},{default:t(()=>[e(l,{avatar:""},{default:t(()=>[e(_,{name:"logout"})]),_:1}),e(l,null,{default:t(()=>a[14]||(a[14]=[r("Cerrar Sesi\xF3n")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(K)]),_:1}))}};var Me=W(pe,[["__scopeId","data-v-73e3fc50"]]);export{Me as default};
