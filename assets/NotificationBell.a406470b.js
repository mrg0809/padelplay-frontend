import{o as n,a as s,d as c,D as d,z as l,A as u,a9 as f,t as _,e as p}from"./index.7e1eb1fb.js";import{Q as m}from"./QBadge.2b9406be.js";import{a as i}from"./api.43112139.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";const C={name:"NotificationBell",data(){return{unreadCount:0}},async mounted(){await this.fetchUnreadCount()},methods:{async fetchUnreadCount(){try{const t=await i.get("/notifications/"),e=Array.isArray(t.data.data)?t.data.data:[];this.unreadCount=e.filter(o=>!o.is_read).length}catch(t){console.error("Error fetching unread count:",t),this.unreadCount=0,t.message&&t.message.includes("Mixed Content")&&console.error("Mixed Content Error detected. API Base URL:",i.defaults.baseURL)}},goToNotifications(){this.$router.push("/notifications")}}},g={class:"notification-wrapper"};function x(t,e,o,y,a,r){return n(),s("div",g,[c(d,{flat:"",round:"",icon:"o_notifications",onClick:r.goToNotifications,size:"xl",class:"notification-btn"},null,8,["onClick"]),a.unreadCount>0?(n(),l(m,{key:0,color:"red",class:"notification-badge"},{default:u(()=>[f(_(a.unreadCount),1)]),_:1})):p("",!0)])}var b=h(C,[["render",x],["__scopeId","data-v-c76b5fa8"]]);export{b as N};
