import{a6 as q,o as d,z as c,A as s,d as e,ac as o,a9 as i,B as t,a7 as v,a8 as V,E as n,aK as Q,D as b,t as f,e as _}from"./index.284c5517.js";import{Q as y}from"./QToolbarTitle.51ac9e62.js";import{Q as D}from"./QToolbar.037a16d4.js";import{Q as k}from"./QHeader.54948f97.js";import{Q as w}from"./QForm.c0077694.js";import{Q as g}from"./QBanner.8d204a25.js";import{Q as x}from"./QPage.dfd00166.js";import{Q as h,a as M}from"./QLayout.c9dda368.js";import{c as U}from"./admin.b5ca9f0e.js";import{A as N}from"./AdminNavigationMenu.7d0b5a05.js";import{_ as S}from"./plugin-vue_export-helper.21dcd24c.js";import"./api.9de4aea7.js";import"./QTabs.b10b01c4.js";import"./rtl.276c3f1b.js";import"./QFooter.d2ce5627.js";const B={name:"CreateClubUser",components:{AdminNavigationMenu:N},data(){return{formData:{full_name:"",email:"",password:"",club_name:"",club_address:"",club_phone:""},loading:!1,successMessage:"",errorMessage:""}},methods:{async onSubmit(){var u,a;this.loading=!0,this.successMessage="",this.errorMessage="";try{const m=await U(this.formData);this.successMessage=`Club "${m.club_name}" creado exitosamente. El usuario puede iniciar sesi\xF3n con ${this.formData.email}`,this.clearForm()}catch(m){this.errorMessage="Error al crear el usuario club: "+(((a=(u=m.response)==null?void 0:u.data)==null?void 0:a.detail)||m.message),console.error("Error creating club user:",m)}finally{this.loading=!1}},clearForm(){this.formData={full_name:"",email:"",password:"",club_name:"",club_address:"",club_phone:""}}}},E={class:"q-pa-md"},A={class:"text-h6 text-white q-mb-md"},F={class:"text-h6 text-white q-mb-md"},I={class:"row q-gutter-sm q-mt-lg"};function T(u,a,m,H,r,p){const C=q("AdminNavigationMenu");return d(),c(h,{view:"hHh lpR fFf",class:"bg-dark text-white"},{default:s(()=>[e(k,{elevated:"",class:"bg-primary text-white"},{default:s(()=>[e(D,null,{default:s(()=>[e(y,null,{default:s(()=>[e(o,{name:"business",class:"q-mr-sm"}),a[6]||(a[6]=i(" Crear Usuario Club ",-1))]),_:1})]),_:1})]),_:1}),e(M,null,{default:s(()=>[e(x,{padding:"",class:"bg-dark"},{default:s(()=>[t("div",E,[a[9]||(a[9]=t("div",{class:"row q-mb-lg"},[t("div",{class:"col"},[t("p",{class:"text-grey-4"}," Crear cuenta para un nuevo establecimiento/club ")])],-1)),e(v,{class:"create-club-card"},{default:s(()=>[e(V,null,{default:s(()=>[e(w,{onSubmit:p.onSubmit,class:"q-gutter-md"},{default:s(()=>[t("div",A,[e(o,{name:"person",class:"q-mr-sm"}),a[7]||(a[7]=i(" Informaci\xF3n del Usuario ",-1))]),e(n,{modelValue:r.formData.full_name,"onUpdate:modelValue":a[0]||(a[0]=l=>r.formData.full_name=l),label:"Nombre completo del contacto",filled:"",dark:"",rules:[l=>!!l||"Campo requerido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"person"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.email,"onUpdate:modelValue":a[1]||(a[1]=l=>r.formData.email=l),type:"email",label:"Email",filled:"",dark:"",rules:[l=>!!l||"Campo requerido",l=>/.+@.+\..+/.test(l)||"Email inv\xE1lido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"email"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.password,"onUpdate:modelValue":a[2]||(a[2]=l=>r.formData.password=l),type:"password",label:"Contrase\xF1a",filled:"",dark:"",rules:[l=>!!l||"Campo requerido",l=>l.length>=6||"M\xEDnimo 6 caracteres"],class:"q-mb-md"},{prepend:s(()=>[e(o,{name:"lock"})]),_:1},8,["modelValue","rules"]),e(Q,{dark:"",class:"q-my-md"}),t("div",F,[e(o,{name:"store",class:"q-mr-sm"}),a[8]||(a[8]=i(" Informaci\xF3n del Club ",-1))]),e(n,{modelValue:r.formData.club_name,"onUpdate:modelValue":a[3]||(a[3]=l=>r.formData.club_name=l),label:"Nombre del club",filled:"",dark:"",rules:[l=>!!l||"Campo requerido"],class:"q-mb-sm"},{prepend:s(()=>[e(o,{name:"store"})]),_:1},8,["modelValue","rules"]),e(n,{modelValue:r.formData.club_address,"onUpdate:modelValue":a[4]||(a[4]=l=>r.formData.club_address=l),label:"Direcci\xF3n del club (opcional)",filled:"",dark:"",class:"q-mb-sm",type:"textarea",rows:"2"},{prepend:s(()=>[e(o,{name:"location_on"})]),_:1},8,["modelValue"]),e(n,{modelValue:r.formData.club_phone,"onUpdate:modelValue":a[5]||(a[5]=l=>r.formData.club_phone=l),label:"Tel\xE9fono del club (opcional)",filled:"",dark:"",class:"q-mb-md"},{prepend:s(()=>[e(o,{name:"phone"})]),_:1},8,["modelValue"]),t("div",I,[e(b,{type:"submit",color:"primary",loading:r.loading,icon:"add_business",label:"Crear Usuario Club",class:"col-auto"},null,8,["loading"]),e(b,{type:"button",color:"grey-7",flat:"",icon:"clear",label:"Limpiar",onClick:p.clearForm,class:"col-auto"},null,8,["onClick"])])]),_:1},8,["onSubmit"])]),_:1})]),_:1}),r.successMessage?(d(),c(g,{key:0,class:"bg-positive text-white q-mt-md"},{avatar:s(()=>[e(o,{name:"check_circle"})]),default:s(()=>[i(" "+f(r.successMessage),1)]),_:1})):_("",!0),r.errorMessage?(d(),c(g,{key:1,class:"bg-negative text-white q-mt-md"},{avatar:s(()=>[e(o,{name:"error"})]),default:s(()=>[i(" "+f(r.errorMessage),1)]),_:1})):_("",!0)])]),_:1})]),_:1}),e(C)]),_:1})}var ae=S(B,[["render",T],["__scopeId","data-v-76b41fa0"]]);export{ae as default};
