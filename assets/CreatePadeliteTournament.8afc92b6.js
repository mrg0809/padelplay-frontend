import{x as T,r as b,o as m,z as V,A as r,d as t,B as o,D as p,aT as B,a7 as g,a8 as n,E as d,a as y,aa as P,ab as N,e as D}from"./index.673cf58d.js";import{Q as F}from"./QHeader.08eb5fd8.js";import{Q as z}from"./QSelect.4a6653a3.js";import{Q as M}from"./QForm.d4bc157f.js";import{Q as E}from"./QPage.1da70bf2.js";import{Q as S,a as A}from"./QLayout.6bdb52fd.js";import{u as H}from"./use-quasar.8083eaf6.js";import{a as I}from"./api.5f33f013.js";import{N as $}from"./NotificationBell.219cf34c.js";import{B as L}from"./BannerPromoScrolling.adcb119c.js";import{A as j}from"./AssociationNavigationMenu.bfa6f5a3.js";import{_ as R}from"./plugin-vue_export-helper.21dcd24c.js";import"./QChip.1e99043f.js";import"./QItem.129857ec.js";import"./QItemLabel.20b62e60.js";import"./QMenu.3db3e33e.js";import"./position-engine.e7dd3b6a.js";import"./selection.3a608fc8.js";import"./rtl.276c3f1b.js";import"./format.de7e9769.js";import"./QBadge.dc3230c9.js";import"./admin.929dac80.js";import"./QTabs.decd7594.js";import"./QFooter.925a22ea.js";const J={class:"header-content"},G={class:"header-icons"},K={class:"row q-col-gutter-md q-mb-md"},O={class:"col-6"},W={class:"col-6"},X={class:"row q-col-gutter-md q-mb-md"},Y={class:"col-6"},Z={class:"col-6"},ee={class:"row q-col-gutter-md items-center"},ae={class:"col-6"},te={class:"col-4"},le={class:"col-2"},oe={__name:"CreatePadeliteTournament",setup(re){const c=T(),_=H(),v=b(!1),C=["tercera","cuarta","quinta","sexta","libre"],a=b({name:"",start_date:"",start_time:"",end_date:"",end_time:"",details:"",price_per_player:0,prize:"",max_teams:4,categories:[{name:"tercera",pairs:1},{name:"cuarta",pairs:1},{name:"quinta",pairs:1},{name:"sexta",pairs:1}]}),q=()=>{a.value.categories.push({name:"libre",pairs:1})},k=i=>{a.value.categories.splice(i,1)},x=async()=>{var e,u;const i=a.value.categories.map(s=>s.name),l=new Set(i);if(i.length!==l.size){_.notify({type:"warning",message:"No puedes tener categor\xEDas duplicadas"});return}v.value=!0;try{const s={categories:a.value.categories.map(f=>({name:f.name,pairs_count:f.pairs}))},U={name:a.value.name,start_date:a.value.start_date,start_time:a.value.start_time,end_date:a.value.end_date,end_time:a.value.end_time,details:a.value.details,price_per_player:a.value.price_per_player,prize:a.value.prize,max_teams:a.value.max_teams,padelite_config:s},{data:h}=await I.post("/padelite/association/tournaments",U);_.notify({type:"positive",message:"Torneo creado exitosamente"}),c.push(`/association/tournaments/${h.data.id}`)}catch(s){console.error("Error creating tournament:",s),_.notify({type:"negative",message:((u=(e=s.response)==null?void 0:e.data)==null?void 0:u.detail)||"Error al crear torneo"})}finally{v.value=!1}},w=()=>{c.back()},Q=()=>{c.push("/association/dashboard")};return(i,l)=>(m(),V(S,{view:"hHh lpR fFf",class:"text-white"},{default:r(()=>[t(F,{elevated:"",class:"text-white"},{default:r(()=>[o("div",J,[o("div",{class:"greeting"},[o("img",{src:"/padelplay.png",alt:"Logo",class:"logo-icon clickable-logo",onClick:Q}),l[9]||(l[9]=o("div",{class:"greeting-text"},[o("p",null,"Bienvenido"),o("p",{class:"text-grey"},"Crear Torneo Padelite")],-1))]),o("div",G,[t($),t(p,{flat:"",round:"",icon:"arrow_back",onClick:w})])]),t(L)]),_:1}),t(A,null,{default:r(()=>[t(E,{class:"q-pa-md"},{default:r(()=>[t(M,{onSubmit:B(x,["prevent"])},{default:r(()=>[t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>[...l[10]||(l[10]=[o("h3",null,"Detalles del Torneo",-1)])]),_:1}),t(n,null,{default:r(()=>[t(d,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value.name=e),label:"Nombre del Torneo",outlined:"",dense:"",dark:"",class:"q-mb-md",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"]),o("div",K,[o("div",O,[t(d,{modelValue:a.value.start_date,"onUpdate:modelValue":l[1]||(l[1]=e=>a.value.start_date=e),label:"Fecha de Inicio",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",W,[t(d,{modelValue:a.value.start_time,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.start_time=e),label:"Hora de Inicio",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),o("div",X,[o("div",Y,[t(d,{modelValue:a.value.end_date,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.end_date=e),label:"Fecha de Fin",type:"date",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])]),o("div",Z,[t(d,{modelValue:a.value.end_time,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.end_time=e),label:"Hora de Fin",type:"time",outlined:"",dense:"",dark:"",rules:[e=>!!e||"Campo requerido"]},null,8,["modelValue","rules"])])]),t(d,{modelValue:a.value.details,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.details=e),label:"Detalles del Torneo",type:"textarea",outlined:"",dense:"",dark:"",rows:"3",class:"q-mb-md"},null,8,["modelValue"])]),_:1})]),_:1}),t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>[...l[11]||(l[11]=[o("h3",null,"Configuraci\xF3n de Categor\xEDas por Equipo",-1),o("p",{class:"text-caption"}," Define cu\xE1ntas parejas de cada categor\xEDa tendr\xE1 cada equipo ",-1)])]),_:1}),t(n,null,{default:r(()=>[(m(!0),y(N,null,P(a.value.categories,(e,u)=>(m(),y("div",{key:u,class:"q-mb-md"},[o("div",ee,[o("div",ae,[t(z,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,options:C,label:"Categor\xEDa",outlined:"",dense:"",dark:""},null,8,["modelValue","onUpdate:modelValue"])]),o("div",te,[t(d,{modelValue:e.pairs,"onUpdate:modelValue":s=>e.pairs=s,modelModifiers:{number:!0},label:"N\xFAmero de Parejas",type:"number",outlined:"",dense:"",dark:"",min:"1"},null,8,["modelValue","onUpdate:modelValue"])]),o("div",le,[a.value.categories.length>1?(m(),V(p,{key:0,flat:"",round:"",icon:"delete",color:"negative",onClick:s=>k(u)},null,8,["onClick"])):D("",!0)])])]))),128)),t(p,{flat:"",icon:"add",label:"Agregar Categor\xEDa",color:"primary",onClick:q})]),_:1})]),_:1}),t(g,{flat:"",bordered:"",class:"q-mb-lg bg-transparent text-white"},{default:r(()=>[t(n,null,{default:r(()=>[...l[12]||(l[12]=[o("h3",null,"Detalles Financieros",-1)])]),_:1}),t(n,null,{default:r(()=>[t(d,{modelValue:a.value.price_per_player,"onUpdate:modelValue":l[6]||(l[6]=e=>a.value.price_per_player=e),modelModifiers:{number:!0},label:"Precio por Jugador",type:"number",outlined:"",dense:"",dark:"",class:"q-mb-md",prefix:"$",rules:[e=>e>0||"Debe ser mayor a 0"]},null,8,["modelValue","rules"]),t(d,{modelValue:a.value.prize,"onUpdate:modelValue":l[7]||(l[7]=e=>a.value.prize=e),label:"Premio",outlined:"",dense:"",dark:"",class:"q-mb-md"},null,8,["modelValue"]),t(d,{modelValue:a.value.max_teams,"onUpdate:modelValue":l[8]||(l[8]=e=>a.value.max_teams=e),modelModifiers:{number:!0},label:"M\xE1ximo de Equipos",type:"number",outlined:"",dense:"",dark:"",min:"2",rules:[e=>e>=2||"M\xEDnimo 2 equipos"]},null,8,["modelValue","rules"])]),_:1})]),_:1}),t(p,{type:"submit",label:"Crear Torneo Padelite",color:"primary",class:"full-width",loading:v.value},null,8,["loading"])]),_:1})]),_:1})]),_:1}),t(j)]),_:1}))}};var Be=R(oe,[["__scopeId","data-v-92dfc6a6"]]);export{Be as default};
